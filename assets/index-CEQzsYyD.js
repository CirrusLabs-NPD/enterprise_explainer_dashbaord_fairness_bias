var oi=Object.defineProperty;var ui=(r,t,a)=>t in r?oi(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var _e=(r,t,a)=>ui(r,typeof t!="symbol"?t+"":t,a);import{r as y,a as za,R as $a,c as mi,b as Js}from"./vendor-B-wuX89F.js";import{c as xi,R as Mt,T as hi,a as Rt,b as pi,P as gi,d as fi,e as bi,f as ji,B as en,C as ua,X as ma,Y as xa,g as Fr,h as gr,S as yi,i as tn,j as vi,k as js,A as Ni,l as ki,p as kt}from"./charts-CPAvNOrG.js";import{m as C,A as re,a as he,C as Te,S as Ce,b as ge,B as He,X as Zt,T as rt,c as de,I as mt,d as ie,M as wi,Z as Ve,e as qe,D as ke,f as Pe,H as ys,g as vs,h as Ns,i as Wt,U as ha,j as qt,L as Si,k as la,l as ra,n as _i,o as Ci,F as Di,P as an,p as rn,q as ve,r as le,s as Ai,t as Qe,u as Pt,E as we,v as fr,N as Ir,G as at,w as ce,x as Ye,y as Mi,z as $e,J as br,K as Nt,O as We,Q as Ri,R as sa,V as Ti,W as Pi,Y as Or,_ as Ei,$ as ot,a0 as da,a1 as qa,a2 as sn,a3 as ks,a4 as Ba,a5 as pe,a6 as Ke,a7 as Li,a8 as nn,a9 as ga,aa as fa,ab as ba,ac as Fi,ad as Ma,ae as Ii,af as Oi,ag as zi,ah as ln,ai as zr,aj as $i,ak as Pa,al as Et,am as qi,an as Ra,ao as dn,ap as Gt,aq as jr,ar as yr,as as pa,at as cn,au as Bi,av as ca,aw as Ui,ax as ws,ay as Hi,az as sr,aA as Ss,aB as Wi,aC as on,aD as _s,aE as Gi,aF as un,aG as nr,aH as Vi,aI as Zi,aJ as Cs,aK as Ds,aL as mn,aM as Qi,aN as Yi}from"./ui-BXo6wnU6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var xn={exports:{}},Ua={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=y,Ki=Symbol.for("react.element"),Ji=Symbol.for("react.fragment"),el=Object.prototype.hasOwnProperty,tl=Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,al={key:!0,ref:!0,__self:!0,__source:!0};function hn(r,t,a){var s,n={},i=null,l=null;a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)el.call(t,s)&&!al.hasOwnProperty(s)&&(n[s]=t[s]);if(r&&r.defaultProps)for(s in t=r.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:Ki,type:r,key:i,ref:l,props:n,_owner:tl.current}}Ua.Fragment=Ji;Ua.jsx=hn;Ua.jsxs=hn;xn.exports=Ua;var e=xn.exports,vr={},As=za;vr.createRoot=As.createRoot,vr.hydrateRoot=As.hydrateRoot;let rl={data:""},sl=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||rl,nl=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,il=/\/\*[^]*?\*\/|  +/g,Ms=/\n+/g,yt=(r,t)=>{let a="",s="",n="";for(let i in r){let l=r[i];i[0]=="@"?i[1]=="i"?a=i+" "+l+";":s+=i[1]=="f"?yt(l,i):i+"{"+yt(l,i[1]=="k"?"":t)+"}":typeof l=="object"?s+=yt(l,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=yt.p?yt.p(i,l):i+":"+l+";")}return a+(t&&n?t+"{"+n+"}":n)+s},lt={},pn=r=>{if(typeof r=="object"){let t="";for(let a in r)t+=a+pn(r[a]);return t}return r},ll=(r,t,a,s,n)=>{let i=pn(r),l=lt[i]||(lt[i]=(d=>{let m=0,u=11;for(;m<d.length;)u=101*u+d.charCodeAt(m++)>>>0;return"go"+u})(i));if(!lt[l]){let d=i!==r?r:(m=>{let u,f,h=[{}];for(;u=nl.exec(m.replace(il,""));)u[4]?h.shift():u[3]?(f=u[3].replace(Ms," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(Ms," ").trim();return h[0]})(r);lt[l]=yt(n?{["@keyframes "+l]:d}:d,a?"":"."+l)}let c=a&&lt.g?lt.g:null;return a&&(lt.g=lt[l]),((d,m,u,f)=>{f?m.data=m.data.replace(f,d):m.data.indexOf(d)===-1&&(m.data=u?d+m.data:m.data+d)})(lt[l],t,s,c),l},dl=(r,t,a)=>r.reduce((s,n,i)=>{let l=t[i];if(l&&l.call){let c=l(a),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":yt(c,""):c===!1?"":c}return s+n+(l??"")},"");function Ha(r){let t=this||{},a=r.call?r(t.p):r;return ll(a.unshift?a.raw?dl(a,[].slice.call(arguments,1),t.p):a.reduce((s,n)=>Object.assign(s,n&&n.call?n(t.p):n),{}):a,sl(t.target),t.g,t.o,t.k)}let gn,Nr,kr;Ha.bind({g:1});let xt=Ha.bind({k:1});function cl(r,t,a,s){yt.p=t,gn=r,Nr=a,kr=s}function wt(r,t){let a=this||{};return function(){let s=arguments;function n(i,l){let c=Object.assign({},i),d=c.className||n.className;a.p=Object.assign({theme:Nr&&Nr()},c),a.o=/ *go\d+/.test(d),c.className=Ha.apply(a,s)+(d?" "+d:"");let m=r;return r[0]&&(m=c.as||r,delete c.as),kr&&m[0]&&kr(c),gn(m,c)}return n}}var ol=r=>typeof r=="function",Ea=(r,t)=>ol(r)?r(t):r,ul=(()=>{let r=0;return()=>(++r).toString()})(),fn=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),ml=20,bn=(r,t)=>{switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,ml)};case 1:return{...r,toasts:r.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:a}=t;return bn(r,{type:r.toasts.find(i=>i.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=t;return{...r,toasts:r.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let n=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+n}))}}},Ta=[],Ct={toasts:[],pausedAt:void 0},Lt=r=>{Ct=bn(Ct,r),Ta.forEach(t=>{t(Ct)})},xl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hl=(r={})=>{let[t,a]=y.useState(Ct),s=y.useRef(Ct);y.useEffect(()=>(s.current!==Ct&&a(Ct),Ta.push(a),()=>{let i=Ta.indexOf(a);i>-1&&Ta.splice(i,1)}),[]);let n=t.toasts.map(i=>{var l,c,d;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((l=r[i.type])==null?void 0:l.removeDelay)||(r==null?void 0:r.removeDelay),duration:i.duration||((c=r[i.type])==null?void 0:c.duration)||(r==null?void 0:r.duration)||xl[i.type],style:{...r.style,...(d=r[i.type])==null?void 0:d.style,...i.style}}});return{...t,toasts:n}},pl=(r,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...a,id:(a==null?void 0:a.id)||ul()}),ja=r=>(t,a)=>{let s=pl(t,r,a);return Lt({type:2,toast:s}),s.id},ne=(r,t)=>ja("blank")(r,t);ne.error=ja("error");ne.success=ja("success");ne.loading=ja("loading");ne.custom=ja("custom");ne.dismiss=r=>{Lt({type:3,toastId:r})};ne.remove=r=>Lt({type:4,toastId:r});ne.promise=(r,t,a)=>{let s=ne.loading(t.loading,{...a,...a==null?void 0:a.loading});return typeof r=="function"&&(r=r()),r.then(n=>{let i=t.success?Ea(t.success,n):void 0;return i?ne.success(i,{id:s,...a,...a==null?void 0:a.success}):ne.dismiss(s),n}).catch(n=>{let i=t.error?Ea(t.error,n):void 0;i?ne.error(i,{id:s,...a,...a==null?void 0:a.error}):ne.dismiss(s)}),r};var gl=(r,t)=>{Lt({type:1,toast:{id:r,height:t}})},fl=()=>{Lt({type:5,time:Date.now()})},oa=new Map,bl=1e3,jl=(r,t=bl)=>{if(oa.has(r))return;let a=setTimeout(()=>{oa.delete(r),Lt({type:4,toastId:r})},t);oa.set(r,a)},yl=r=>{let{toasts:t,pausedAt:a}=hl(r);y.useEffect(()=>{if(a)return;let i=Date.now(),l=t.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(d<0){c.visible&&ne.dismiss(c.id);return}return setTimeout(()=>ne.dismiss(c.id),d)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[t,a]);let s=y.useCallback(()=>{a&&Lt({type:6,time:Date.now()})},[a]),n=y.useCallback((i,l)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:m}=l||{},u=t.filter(_=>(_.position||m)===(i.position||m)&&_.height),f=u.findIndex(_=>_.id===i.id),h=u.filter((_,R)=>R<f&&_.visible).length;return u.filter(_=>_.visible).slice(...c?[h+1]:[0,h]).reduce((_,R)=>_+(R.height||0)+d,0)},[t]);return y.useEffect(()=>{t.forEach(i=>{if(i.dismissed)jl(i.id,i.removeDelay);else{let l=oa.get(i.id);l&&(clearTimeout(l),oa.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:gl,startPause:fl,endPause:s,calculateOffset:n}}},vl=xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Nl=xt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kl=xt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wl=wt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Nl} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kl} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sl=xt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_l=wt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Sl} 1s linear infinite;
`,Cl=xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dl=xt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Al=wt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ml=wt("div")`
  position: absolute;
`,Rl=wt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Tl=xt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pl=wt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Tl} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,El=({toast:r})=>{let{icon:t,type:a,iconTheme:s}=r;return t!==void 0?typeof t=="string"?y.createElement(Pl,null,t):t:a==="blank"?null:y.createElement(Rl,null,y.createElement(_l,{...s}),a!=="loading"&&y.createElement(Ml,null,a==="error"?y.createElement(wl,{...s}):y.createElement(Al,{...s})))},Ll=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Fl=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Il="0%{opacity:0;} 100%{opacity:1;}",Ol="0%{opacity:1;} 100%{opacity:0;}",zl=wt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$l=wt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ql=(r,t)=>{let a=r.includes("top")?1:-1,[s,n]=fn()?[Il,Ol]:[Ll(a),Fl(a)];return{animation:t?`${xt(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xt(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Bl=y.memo(({toast:r,position:t,style:a,children:s})=>{let n=r.height?ql(r.position||t||"top-center",r.visible):{opacity:0},i=y.createElement(El,{toast:r}),l=y.createElement($l,{...r.ariaProps},Ea(r.message,r));return y.createElement(zl,{className:r.className,style:{...n,...a,...r.style}},typeof s=="function"?s({icon:i,message:l}):y.createElement(y.Fragment,null,i,l))});cl(y.createElement);var Ul=({id:r,className:t,style:a,onHeightUpdate:s,children:n})=>{let i=y.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;s(r,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return y.createElement("div",{ref:i,className:t,style:a},n)},Hl=(r,t)=>{let a=r.includes("top"),s=a?{top:0}:{bottom:0},n=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...s,...n}},Wl=Ha`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ka=16,Gl=({reverseOrder:r,position:t="top-center",toastOptions:a,gutter:s,children:n,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:d}=yl(a);return y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ka,left:ka,right:ka,bottom:ka,pointerEvents:"none",...i},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(m=>{let u=m.position||t,f=d.calculateOffset(m,{reverseOrder:r,gutter:s,defaultPosition:t}),h=Hl(u,f);return y.createElement(Ul,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?Wl:"",style:h},m.type==="custom"?Ea(m.message,m):n?n(m):y.createElement(Bl,{toast:m,position:u}))}))};const Rs={mode:"light",primaryColor:"#3B82F6",secondaryColor:"#10B981",accentColor:"#7C3AED",animations:!0,reducedMotion:!1},$r="-",Vl=r=>{const t=Ql(r),{conflictingClassGroups:a,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:l=>{const c=l.split($r);return c[0]===""&&c.length!==1&&c.shift(),jn(c,t)||Zl(l)},getConflictingClassGroupIds:(l,c)=>{const d=a[l]||[];return c&&s[l]?[...d,...s[l]]:d}}},jn=(r,t)=>{var l;if(r.length===0)return t.classGroupId;const a=r[0],s=t.nextPart.get(a),n=s?jn(r.slice(1),s):void 0;if(n)return n;if(t.validators.length===0)return;const i=r.join($r);return(l=t.validators.find(({validator:c})=>c(i)))==null?void 0:l.classGroupId},Ts=/^\[(.+)\]$/,Zl=r=>{if(Ts.test(r)){const t=Ts.exec(r)[1],a=t==null?void 0:t.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},Ql=r=>{const{theme:t,prefix:a}=r,s={nextPart:new Map,validators:[]};return Xl(Object.entries(r.classGroups),a).forEach(([i,l])=>{wr(l,s,i,t)}),s},wr=(r,t,a,s)=>{r.forEach(n=>{if(typeof n=="string"){const i=n===""?t:Ps(t,n);i.classGroupId=a;return}if(typeof n=="function"){if(Yl(n)){wr(n(s),t,a,s);return}t.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([i,l])=>{wr(l,Ps(t,i),a,s)})})},Ps=(r,t)=>{let a=r;return t.split($r).forEach(s=>{a.nextPart.has(s)||a.nextPart.set(s,{nextPart:new Map,validators:[]}),a=a.nextPart.get(s)}),a},Yl=r=>r.isThemeGetter,Xl=(r,t)=>t?r.map(([a,s])=>{const n=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,c])=>[t+l,c])):i);return[a,n]}):r,Kl=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,s=new Map;const n=(i,l)=>{a.set(i,l),t++,t>r&&(t=0,s=a,a=new Map)};return{get(i){let l=a.get(i);if(l!==void 0)return l;if((l=s.get(i))!==void 0)return n(i,l),l},set(i,l){a.has(i)?a.set(i,l):n(i,l)}}},yn="!",Jl=r=>{const{separator:t,experimentalParseClassName:a}=r,s=t.length===1,n=t[0],i=t.length,l=c=>{const d=[];let m=0,u=0,f;for(let w=0;w<c.length;w++){let b=c[w];if(m===0){if(b===n&&(s||c.slice(w,w+i)===t)){d.push(c.slice(u,w)),u=w+i;continue}if(b==="/"){f=w;continue}}b==="["?m++:b==="]"&&m--}const h=d.length===0?c:c.substring(u),_=h.startsWith(yn),R=_?h.substring(1):h,v=f&&f>u?f-u:void 0;return{modifiers:d,hasImportantModifier:_,baseClassName:R,maybePostfixModifierPosition:v}};return a?c=>a({className:c,parseClassName:l}):l},ed=r=>{if(r.length<=1)return r;const t=[];let a=[];return r.forEach(s=>{s[0]==="["?(t.push(...a.sort(),s),a=[]):a.push(s)}),t.push(...a.sort()),t},td=r=>({cache:Kl(r.cacheSize),parseClassName:Jl(r),...Vl(r)}),ad=/\s+/,rd=(r,t)=>{const{parseClassName:a,getClassGroupId:s,getConflictingClassGroupIds:n}=t,i=[],l=r.trim().split(ad);let c="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:_}=a(m);let R=!!_,v=s(R?h.substring(0,_):h);if(!v){if(!R){c=m+(c.length>0?" "+c:c);continue}if(v=s(h),!v){c=m+(c.length>0?" "+c:c);continue}R=!1}const w=ed(u).join(":"),b=f?w+yn:w,g=b+v;if(i.includes(g))continue;i.push(g);const p=n(v,R);for(let j=0;j<p.length;++j){const o=p[j];i.push(b+o)}c=m+(c.length>0?" "+c:c)}return c};function sd(){let r=0,t,a,s="";for(;r<arguments.length;)(t=arguments[r++])&&(a=vn(t))&&(s&&(s+=" "),s+=a);return s}const vn=r=>{if(typeof r=="string")return r;let t,a="";for(let s=0;s<r.length;s++)r[s]&&(t=vn(r[s]))&&(a&&(a+=" "),a+=t);return a};function nd(r,...t){let a,s,n,i=l;function l(d){const m=t.reduce((u,f)=>f(u),r());return a=td(m),s=a.cache.get,n=a.cache.set,i=c,c(d)}function c(d){const m=s(d);if(m)return m;const u=rd(d,a);return n(d,u),u}return function(){return i(sd.apply(null,arguments))}}const ye=r=>{const t=a=>a[r]||[];return t.isThemeGetter=!0,t},Nn=/^\[(?:([a-z-]+):)?(.+)\]$/i,id=/^\d+\/\d+$/,ld=new Set(["px","full","screen"]),dd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,od=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ud=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,md=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dt=r=>Ut(r)||ld.has(r)||id.test(r),gt=r=>Qt(r,"length",yd),Ut=r=>!!r&&!Number.isNaN(Number(r)),ir=r=>Qt(r,"number",Ut),Jt=r=>!!r&&Number.isInteger(Number(r)),xd=r=>r.endsWith("%")&&Ut(r.slice(0,-1)),X=r=>Nn.test(r),ft=r=>dd.test(r),hd=new Set(["length","size","percentage"]),pd=r=>Qt(r,hd,kn),gd=r=>Qt(r,"position",kn),fd=new Set(["image","url"]),bd=r=>Qt(r,fd,Nd),jd=r=>Qt(r,"",vd),ea=()=>!0,Qt=(r,t,a)=>{const s=Nn.exec(r);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):a(s[2]):!1},yd=r=>cd.test(r)&&!od.test(r),kn=()=>!1,vd=r=>ud.test(r),Nd=r=>md.test(r),kd=()=>{const r=ye("colors"),t=ye("spacing"),a=ye("blur"),s=ye("brightness"),n=ye("borderColor"),i=ye("borderRadius"),l=ye("borderSpacing"),c=ye("borderWidth"),d=ye("contrast"),m=ye("grayscale"),u=ye("hueRotate"),f=ye("invert"),h=ye("gap"),_=ye("gradientColorStops"),R=ye("gradientColorStopPositions"),v=ye("inset"),w=ye("margin"),b=ye("opacity"),g=ye("padding"),p=ye("saturate"),j=ye("scale"),o=ye("sepia"),x=ye("skew"),N=ye("space"),k=ye("translate"),T=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",X,t],H=()=>[X,t],A=()=>["",dt,gt],U=()=>["auto",Ut,X],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",X],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Ut,X];return{cacheSize:500,separator:":",theme:{colors:[ea],spacing:[dt,gt],blur:["none","",ft,X],brightness:I(),borderColor:[r],borderRadius:["none","","full",ft,X],borderSpacing:H(),borderWidth:A(),contrast:I(),grayscale:O(),hueRotate:I(),invert:O(),gap:H(),gradientColorStops:[r],gradientColorStopPositions:[xd,gt],inset:$(),margin:$(),opacity:I(),padding:H(),saturate:I(),scale:I(),sepia:O(),skew:I(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[ft]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),X]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jt,X]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Jt,X]}],"grid-cols":[{"grid-cols":[ea]}],"col-start-end":[{col:["auto",{span:["full",Jt,X]},X]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[ea]}],"row-start-end":[{row:["auto",{span:[Jt,X]},X]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,t]}],"min-w":[{"min-w":[X,t,"min","max","fit"]}],"max-w":[{"max-w":[X,t,"none","full","min","max","fit","prose",{screen:[ft]},ft]}],h:[{h:[X,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ft,gt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ir]}],"font-family":[{font:[ea]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",Ut,ir]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dt,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dt,gt]}],"underline-offset":[{"underline-offset":["auto",dt,X]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),gd]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bd]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:B()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[dt,X]}],"outline-w":[{outline:[dt,gt]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[dt,gt]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",ft,jd]}],"shadow-color":[{shadow:[ea]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[s]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ft,X]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[p]}],sepia:[{sepia:[o]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[o]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Jt,X]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[dt,gt,ir]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wd=nd(kd);function F(...r){return wd(xi(r))}function vt(r,t={}){const{precision:a=2,percentage:s=!1,currency:n=!1,compact:i=!1}=t;if(isNaN(r)||!isFinite(r))return"N/A";let l;return i&&Math.abs(r)>=1e3?l=new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:a}).format(r):l=r.toFixed(a),s&&(l=`${l}%`),n&&(l=`$${l}`),l}const Es={get:(r,t)=>{try{const a=window.localStorage.getItem(r);return a?JSON.parse(a):t}catch(a){return console.error("Error reading from localStorage:",a),t}},set:(r,t)=>{try{window.localStorage.setItem(r,JSON.stringify(t))}catch(a){console.error("Error writing to localStorage:",a)}},remove:r=>{try{window.localStorage.removeItem(r)}catch(t){console.error("Error removing from localStorage:",t)}},clear:()=>{try{window.localStorage.clear()}catch(r){console.error("Error clearing localStorage:",r)}}},wn=y.createContext(void 0),Sd=()=>{const r=y.useContext(wn);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},lr=({children:r})=>{const[t,a]=y.useState(()=>{const u=Es.get("theme",Rs);return{...Rs,...u}}),[s,n]=y.useState(!1),i=u=>u==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:u==="dark",l=u=>{const f={...t,...u};a(f),Es.set("theme",f)},c=()=>{l({mode:s?"light":"dark"})},d=u=>{l({mode:u})};y.useEffect(()=>{const u=i(t.mode);n(u);const f=document.documentElement;u?f.classList.add("dark"):f.classList.remove("dark"),f.style.setProperty("--primary-color",t.primaryColor),f.style.setProperty("--secondary-color",t.secondaryColor),f.style.setProperty("--accent-color",t.accentColor);let h=document.querySelector('meta[name="theme-color"]');h||(h=document.createElement("meta"),h.setAttribute("name","theme-color"),document.head.appendChild(h)),h.setAttribute("content",t.primaryColor)},[t]),y.useEffect(()=>{if(t.mode==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{n(h.matches);const _=document.documentElement;h.matches?_.classList.add("dark"):_.classList.remove("dark")};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)}},[t.mode]),y.useEffect(()=>{const u=window.matchMedia("(prefers-reduced-motion: reduce)"),f=h=>{h.matches&&!t.reducedMotion&&l({reducedMotion:!0,animations:!1})};return u.addEventListener("change",f),u.matches&&!t.reducedMotion&&l({reducedMotion:!0,animations:!1}),()=>u.removeEventListener("change",f)},[t.reducedMotion,t.animations]),y.useEffect(()=>{const u=document.documentElement;t.reducedMotion||!t.animations?(u.style.setProperty("--animation-duration","0s"),u.style.setProperty("--transition-duration","0s")):(u.style.setProperty("--animation-duration","0.3s"),u.style.setProperty("--transition-duration","0.2s"))},[t.animations,t.reducedMotion]);const m={theme:t,setTheme:l,toggleTheme:c,isDark:s,setMode:d};return e.jsx(wn.Provider,{value:m,children:r})},Sn=y.createContext(void 0),wa="http://localhost:8000/api/v1",Yt=()=>{const r=y.useContext(Sn);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},_d=({children:r})=>{const[t,a]=y.useState(null),[s,n]=y.useState(null),[i,l]=y.useState(!0),c=!!t&&!!s;y.useEffect(()=>{const p=localStorage.getItem("auth_tokens"),j=localStorage.getItem("auth_user");if(p&&j)try{const o=JSON.parse(p),x=JSON.parse(j);n(o),a(x),f(o.access_token)}catch(o){console.error("Error loading saved auth data:",o),m()}l(!1)},[]);const d=(p,j)=>{n(p),a(j),localStorage.setItem("auth_tokens",JSON.stringify(p)),localStorage.setItem("auth_user",JSON.stringify(j))},m=()=>{n(null),a(null),localStorage.removeItem("auth_tokens"),localStorage.removeItem("auth_user")},u=async(p,j={})=>{if(!s)throw new Error("No authentication tokens available");const o=await fetch(p,{...j,headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`,...j.headers}});if(o.status===401)try{return await R(),await fetch(p,{...j,headers:{"Content-Type":"application/json",Authorization:`Bearer ${s==null?void 0:s.access_token}`,...j.headers}})}catch{throw _(),new Error("Session expired. Please log in again.")}return o},f=async p=>{try{const j=await fetch(`${wa}/auth/check-token`,{headers:{Authorization:`Bearer ${p}`}});if(!j.ok)throw new Error("Token verification failed");if(!(await j.json()).valid)throw new Error("Token is invalid")}catch(j){console.error("Token verification failed:",j),m()}},h=async(p,j)=>{var o;try{const x=await fetch(`${wa}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p,password:j})});if(!x.ok){const k=await x.json();throw new Error(((o=k.error)==null?void 0:o.message)||"Login failed")}const N=await x.json();d(N,N.user)}catch(x){throw console.error("Login error:",x),x}},_=()=>{m(),ne.success("Logged out successfully")},R=async()=>{if(!(s!=null&&s.refresh_token))throw new Error("No refresh token available");try{const p=await fetch(`${wa}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.refresh_token})});if(!p.ok)throw new Error("Token refresh failed");const j=await p.json();d(j,j.user)}catch(p){throw console.error("Token refresh error:",p),m(),p}},v=async(p,j)=>{var o;try{const x=await u(`${wa}/auth/change-password`,{method:"POST",body:JSON.stringify({current_password:p,new_password:j})});if(!x.ok){const N=await x.json();throw new Error(((o=N.error)==null?void 0:o.message)||"Password update failed")}}catch(x){throw console.error("Password update error:",x),x}},w=p=>{var j;return((j=t==null?void 0:t.permissions)==null?void 0:j.includes(p))||!1},b=p=>(t==null?void 0:t.role)===p;y.useEffect(()=>{if(!s||!c)return;const p=setInterval(()=>{Date.now()+s.expires_in*1e3-Date.now()<5*60*1e3&&R().catch(()=>{})},6e4);return()=>clearInterval(p)},[s,c]);const g={user:t,tokens:s,isLoading:i,isAuthenticated:c,login:h,logout:_,refreshToken:R,updatePassword:v,hasPermission:w,hasRole:b};return e.jsx(Sn.Provider,{value:g,children:r})},Cd=({className:r="",showDetails:t=!1})=>{const[a,s]=y.useState(null),[n,i]=y.useState(!1),[l,c]=y.useState(!1);if(y.useEffect(()=>{const R=()=>{const w={limit:100,remaining:Math.floor(Math.random()*100),resetTime:Date.now()+6e4};s(w);const b=(w.limit-w.remaining)/w.limit*100;i(b>80),c(w.remaining===0)};R();const v=setInterval(R,5e3);return()=>clearInterval(v)},[]),!a)return null;const d=(a.limit-a.remaining)/a.limit*100,m=Math.max(0,a.resetTime-Date.now()),u=Math.ceil(m/(60*1e3)),f=()=>l?"text-red-600 dark:text-red-400":n?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",h=()=>l?"bg-red-500":n?"bg-yellow-500":"bg-green-500",_=()=>l?e.jsx(he,{className:"w-4 h-4"}):n?e.jsx(Te,{className:"w-4 h-4"}):e.jsx(Ce,{className:"w-4 h-4"});return t?e.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-4 ${r}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:f(),children:_()}),e.jsx("h4",{className:"text-sm font-medium text-neutral-900 dark:text-white",children:"Rate Limit Status"})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-neutral-500 dark:text-neutral-400",children:[e.jsx(re,{className:"w-3 h-3"}),e.jsx("span",{children:"Live"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:[e.jsx("span",{children:"Usage"}),e.jsxs("span",{children:[d.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:.5},className:`h-2 rounded-full ${h()}`})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-neutral-500 dark:text-neutral-400",children:"Remaining"}),e.jsx("div",{className:"font-medium text-neutral-900 dark:text-white",children:a.remaining})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-neutral-500 dark:text-neutral-400",children:"Limit"}),e.jsx("div",{className:"font-medium text-neutral-900 dark:text-white",children:a.limit})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-neutral-500 dark:text-neutral-400",children:"Reset in"}),e.jsxs("div",{className:"font-medium text-neutral-900 dark:text-white",children:[u,"m"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-neutral-500 dark:text-neutral-400",children:"Status"}),e.jsx("div",{className:`font-medium ${f()}`,children:l?"Blocked":n?"Warning":"OK"})]})]}),l&&e.jsx("div",{className:"mt-3 p-2 bg-red-50 dark:bg-red-900/20 rounded border border-red-200 dark:border-red-800",children:e.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:["Rate limit exceeded. Please wait ",u," minute(s) before making more requests."]})}),n&&!l&&e.jsx("div",{className:"mt-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded border border-yellow-200 dark:border-yellow-800",children:e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Approaching rate limit. Consider reducing request frequency."})})]}):e.jsxs("div",{className:`flex items-center space-x-2 ${r}`,children:[e.jsx("div",{className:`${f()}`,children:_()}),e.jsxs("span",{className:`text-xs ${f()}`,children:[a.remaining,"/",a.limit]})]})},Dd=({isOpen:r,onClose:t,onNotificationClick:a})=>{const[s,n]=y.useState([]),[i,l]=y.useState("all");y.useEffect(()=>{c()},[]);const c=()=>{const w=[{id:"1",title:"Model Drift Detected",message:"Classification model accuracy dropped below threshold (0.85)",type:"warning",timestamp:new Date(Date.now()-3e5),read:!1,actionUrl:"/data-drift",actionLabel:"View Details",persistent:!0},{id:"2",title:"New User Registered",message:"user@example.com has joined the platform",type:"info",timestamp:new Date(Date.now()-9e5),read:!1,actionUrl:"/user-management",actionLabel:"Manage Users"},{id:"3",title:"System Backup Completed",message:"Daily backup finished successfully (2.3 GB)",type:"success",timestamp:new Date(Date.now()-72e5),read:!0},{id:"4",title:"High CPU Usage Alert",message:"CPU usage has been above 85% for the last 10 minutes",type:"error",timestamp:new Date(Date.now()-144e5),read:!0,actionUrl:"/system-health",actionLabel:"Check System"},{id:"5",title:"Model Training Complete",message:"Random Forest model training finished with 94% accuracy",type:"success",timestamp:new Date(Date.now()-216e5),read:!0}];n(w)},d=w=>{n(b=>b.map(g=>g.id===w?{...g,read:!0}:g))},m=()=>{n(w=>w.map(b=>({...b,read:!0}))),ne.success("All notifications marked as read")},u=w=>{n(b=>b.filter(g=>g.id!==w))},f=w=>{w.read||d(w.id),a&&a(w)},h=w=>{switch(w){case"success":return e.jsx(ie,{className:"w-5 h-5 text-green-500"});case"warning":return e.jsx(he,{className:"w-5 h-5 text-yellow-500"});case"error":return e.jsx(he,{className:"w-5 h-5 text-red-500"});default:return e.jsx(mt,{className:"w-5 h-5 text-blue-500"})}},_=w=>{const g=new Date().getTime()-w.getTime(),p=Math.floor(g/(1e3*60)),j=Math.floor(g/(1e3*60*60)),o=Math.floor(g/(1e3*60*60*24));return p<1?"Just now":p<60?`${p}m ago`:j<24?`${j}h ago`:o<7?`${o}d ago`:w.toLocaleDateString()},R=s.filter(w=>i==="all"||!w.read),v=s.filter(w=>!w.read).length;return e.jsx(ge,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-40",onClick:t}),e.jsxs(C.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed right-4 top-16 bottom-4 w-96 bg-white dark:bg-neutral-800 rounded-lg shadow-xl border border-neutral-200 dark:border-neutral-700 z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"}),e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Notifications"}),v>0&&e.jsx("span",{className:"px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:v})]}),e.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-500 dark:text-neutral-400",children:e.jsx(Zt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1 text-sm rounded-md transition-colors ${i==="all"?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:"All"}),e.jsxs("button",{onClick:()=>l("unread"),className:`px-3 py-1 text-sm rounded-md transition-colors ${i==="unread"?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:["Unread (",v,")"]})]}),v>0&&e.jsx("button",{onClick:m,className:"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Mark all read"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:R.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-neutral-500 dark:text-neutral-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),e.jsx("p",{className:"text-sm",children:i==="unread"?"No unread notifications":"No notifications"})]})}):e.jsx("div",{className:"space-y-1 p-2",children:R.map((w,b)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},className:`group relative p-3 rounded-lg border transition-colors cursor-pointer ${w.read?"bg-neutral-50 dark:bg-neutral-800/50 border-neutral-200 dark:border-neutral-700":"bg-white dark:bg-neutral-800 border-neutral-300 dark:border-neutral-600 shadow-sm"} hover:bg-neutral-100 dark:hover:bg-neutral-700`,onClick:()=>f(w),children:[!w.read&&e.jsx("div",{className:"absolute left-1 top-3 w-2 h-2 bg-primary-500 rounded-full"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:h(w.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:`text-sm font-medium ${w.read?"text-neutral-700 dark:text-neutral-300":"text-neutral-900 dark:text-white"}`,children:w.title}),e.jsx("button",{onClick:g=>{g.stopPropagation(),u(w.id)},className:"opacity-0 group-hover:opacity-100 p-1 rounded text-neutral-400 hover:text-red-500 transition-all",children:e.jsx(rt,{className:"w-3 h-3"})})]}),e.jsx("p",{className:`text-xs mt-1 ${w.read?"text-neutral-500 dark:text-neutral-400":"text-neutral-600 dark:text-neutral-300"}`,children:w.message}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-neutral-500 dark:text-neutral-400",children:[e.jsx(Te,{className:"w-3 h-3"}),e.jsx("span",{children:_(w.timestamp)})]}),w.actionUrl&&w.actionLabel&&e.jsx("button",{onClick:g=>{g.stopPropagation(),f(w)},className:"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:w.actionLabel})]})]})]})]},w.id))})}),e.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-700",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 text-sm text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Notification Settings"})]})})]})]})})},Ad=({onToggleSidebar:r,isSidebarOpen:t,modelType:a,onModelTypeChange:s,onShowHelp:n,onShowTour:i,onTabChange:l})=>{const{theme:c,setMode:d,isDark:m}=Sd(),{user:u,logout:f}=Yt(),[h,_]=y.useState(!1),[R,v]=y.useState(!1),[w,b]=y.useState(!1),[g,p]=y.useState(""),j=[{value:"light",label:"Light",icon:Ns},{value:"dark",label:"Dark",icon:vs},{value:"system",label:"System",icon:Wt}],o=()=>{console.log("Export functionality to be implemented")},x=N=>{N.preventDefault(),console.log("Search query:",g)};return e.jsxs("header",{className:"bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md border-b border-neutral-200 dark:border-neutral-800 sticky top-0 z-50",children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors lg:hidden","aria-label":"Toggle sidebar",children:t?e.jsx(Zt,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"}):e.jsx(wi,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"})}),e.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-accent-500 rounded-lg flex items-center justify-center",children:e.jsx(Ve,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg font-bold text-gradient",children:"ML Explainer"}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:"Enterprise Dashboard"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Model Type:"}),e.jsx("div",{className:"flex bg-neutral-100 dark:bg-neutral-800 rounded-lg p-1",children:["classification","regression"].map(N=>e.jsx("button",{onClick:()=>s(N),className:F("px-3 py-1 text-sm font-medium rounded-md transition-all duration-200",a===N?"bg-white dark:bg-neutral-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-200"),children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]})]}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-4",children:e.jsxs("form",{onSubmit:x,className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(qe,{className:"w-4 h-4 text-neutral-400"})}),e.jsx("input",{type:"text",value:g,onChange:N=>p(N.target.value),placeholder:"Search features, models, or data...",className:`w-full pl-10 pr-4 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg 
                         bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 
                         placeholder-neutral-500 dark:placeholder-neutral-400
                         focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
                         transition-all duration-200`})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[l&&e.jsxs("button",{onClick:()=>l("data-connectivity"),className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-300 transition-all duration-200 border border-blue-200 dark:border-blue-700 hover:border-blue-300 dark:hover:border-blue-600","aria-label":"Data Connectivity",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Data"}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Export data",children:e.jsx(Pe,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(Cd,{className:"mr-2"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>b(!w),className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors relative","aria-label":"Notifications",children:[e.jsx(He,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),e.jsx(Dd,{isOpen:w,onClose:()=>b(!1),onNotificationClick:N=>{N.actionUrl&&l&&(N.actionUrl==="/data-drift"?l("data-drift"):N.actionUrl==="/user-management"?l("user-management"):N.actionUrl==="/system-health"&&l("system-health")),b(!1)}})]}),i&&e.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Show tour",children:e.jsx(Ve,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"})}),e.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Show help guide",children:e.jsx(ys,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>v(!R),className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"Toggle theme",children:m?e.jsx(vs,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"}):e.jsx(Ns,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"})}),R&&e.jsx(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 z-50",children:e.jsx("div",{className:"p-2",children:j.map(N=>{const k=N.icon;return e.jsxs("button",{onClick:()=>{d(N.value),v(!1)},className:F("w-full flex items-center space-x-2 px-3 py-2 text-sm rounded-lg transition-colors",c.mode===N.value?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700"),children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:N.label})]},N.value)})})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>_(!h),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors","aria-label":"User menu",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-accent-500 rounded-full flex items-center justify-center",children:e.jsx(ha,{className:"w-4 h-4 text-white"})}),e.jsx(qt,{className:"w-4 h-4 text-neutral-700 dark:text-neutral-300"})]}),h&&e.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 z-50",children:[e.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:"John Doe"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"john.doe@company.com"})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]}),e.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Help"})]}),e.jsx("hr",{className:"my-2 border-neutral-200 dark:border-neutral-700"}),e.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[e.jsx(Si,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign out"})]})]})]})]})]})]})}),e.jsx("div",{className:"md:hidden px-4 pb-4",children:e.jsxs("form",{onSubmit:x,className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(qe,{className:"w-4 h-4 text-neutral-400"})}),e.jsx("input",{type:"text",value:g,onChange:N=>p(N.target.value),placeholder:"Search...",className:`w-full pl-10 pr-4 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg 
                     bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 
                     placeholder-neutral-500 dark:placeholder-neutral-400
                     focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
                     transition-all duration-200`})]})})]})},Md=({isOpen:r,onClose:t,activeTab:a,onTabChange:s,modelType:n})=>{const[i,l]=y.useState(["analysis","enterprise","data"]),c=b=>{l(g=>g.includes(b)?g.filter(p=>p!==b):[...g,b])},d=[{id:"overview",label:"Model Overview",icon:"Activity",component:()=>null,description:"General model information and performance metrics"},{id:"feature-importance",label:"Feature Importance",icon:"BarChart3",component:()=>null,description:"Global feature importance and rankings"}],m=[{id:"classification-stats",label:"Classification Stats",icon:"Target",component:()=>null,description:"Confusion matrix, ROC curves, and classification metrics"},{id:"predictions",label:"Individual Predictions",icon:"Eye",component:()=>null,description:"Analyze individual prediction explanations"},{id:"what-if",label:"What-If Analysis",icon:"Zap",component:()=>null,description:"Interactive scenario analysis"},{id:"feature-dependence",label:"Feature Dependence",icon:"TrendingUp",component:()=>null,description:"Feature dependence and partial dependence plots"},{id:"feature-interactions",label:"Feature Interactions",icon:"Network",component:()=>null,description:"Feature interaction analysis"},{id:"decision-trees",label:"Decision Trees",icon:"GitBranch",component:()=>null,description:"Decision tree visualization and analysis",disabled:!1}],u=[{id:"regression-stats",label:"Regression Stats",icon:"PieChart",component:()=>null,description:"Residual plots, R² score, and regression metrics"},{id:"predictions",label:"Individual Predictions",icon:"Eye",component:()=>null,description:"Analyze individual prediction explanations"},{id:"what-if",label:"What-If Analysis",icon:"Zap",component:()=>null,description:"Interactive scenario analysis"},{id:"feature-dependence",label:"Feature Dependence",icon:"TrendingUp",component:()=>null,description:"Feature dependence and partial dependence plots"},{id:"feature-interactions",label:"Feature Interactions",icon:"Network",component:()=>null,description:"Feature interaction analysis"},{id:"decision-trees",label:"Decision Trees",icon:"GitBranch",component:()=>null,description:"Decision tree visualization and analysis",disabled:!1}],f=[...d,...n==="classification"?m:u],h=b=>({Activity:re,BarChart3:ce,Target:ve,TrendingUp:le,Users:Pt,Zap:Ve,GitBranch:at,Network:Ir,PieChart:fr,Eye:we,Settings:de,FileText:Qe,Database:ke,Brain:la})[b]||re,_=b=>({overview:"completed","feature-importance":"completed","classification-stats":"completed","regression-stats":"completed",predictions:"loading","what-if":"pending","feature-dependence":"pending","feature-interactions":"pending","decision-trees":"pending"})[b]||"pending",R=b=>{switch(b){case"completed":return e.jsx(ie,{className:"w-3 h-3 text-green-500"});case"loading":return e.jsx(Te,{className:"w-3 h-3 text-amber-500 animate-spin"});case"error":return e.jsx(Ye,{className:"w-3 h-3 text-red-500"});default:return e.jsx("div",{className:"w-3 h-3 rounded-full bg-neutral-300 dark:bg-neutral-600"})}},v={open:{x:0,transition:{type:"spring",stiffness:300,damping:30}},closed:{x:"-100%",transition:{type:"spring",stiffness:300,damping:30}}},w={open:{opacity:1,pointerEvents:"auto"},closed:{opacity:0,pointerEvents:"none"}};return e.jsxs(e.Fragment,{children:[e.jsx(ge,{children:r&&e.jsx(C.div,{initial:"closed",animate:"open",exit:"closed",variants:w,className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t})}),e.jsx(C.aside,{initial:"closed",animate:r?"open":"closed",variants:v,className:F("fixed left-0 top-0 h-full w-80 bg-white/95 dark:bg-neutral-900/95 backdrop-blur-md border-r border-neutral-200 dark:border-neutral-800 z-50 overflow-hidden","lg:relative lg:translate-x-0 lg:z-auto"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Analysis Dashboard"}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[n==="classification"?"Classification":"Regression"," Model"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Live"})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>c("analysis"),className:"w-full flex items-center justify-between p-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx("span",{children:"Analysis"})]}),i.includes("analysis")?e.jsx(qt,{className:"w-4 h-4"}):e.jsx(ra,{className:"w-4 h-4"})]}),e.jsx(ge,{children:i.includes("analysis")&&e.jsx(C.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"pl-4 mt-2 space-y-1",children:f.map(b=>{const g=h(b.icon),p=_(b.id),j=a===b.id,o=b.disabled;return e.jsxs("button",{onClick:()=>{o||(console.log("Tab clicked:",b.id),s(b.id))},disabled:o,className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group",j?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 shadow-sm":o?"text-neutral-400 dark:text-neutral-600 cursor-not-allowed":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 hover:text-neutral-900 dark:hover:text-neutral-100","interactive-element"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{className:F("w-4 h-4 transition-colors",j&&"text-primary-600 dark:text-primary-400")}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-sm",children:b.label}),b.badge&&e.jsx("span",{className:"px-2 py-0.5 text-xs bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-full",children:b.badge})]}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-0.5",children:b.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[R(p),j&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]},b.id)})})})})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>c("enterprise"),className:"w-full flex items-center justify-between p-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_i,{className:"w-4 h-4"}),e.jsx("span",{children:"Enterprise"})]}),i.includes("enterprise")?e.jsx(qt,{className:"w-4 h-4"}):e.jsx(ra,{className:"w-4 h-4"})]}),e.jsx(ge,{children:i.includes("enterprise")&&e.jsx(C.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsxs("div",{className:"pl-4 mt-2 space-y-1",children:[e.jsxs("button",{onClick:()=>s("executive-dashboard"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="executive-dashboard"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="executive-dashboard"?"bg-primary-100 dark:bg-primary-900/30":"bg-purple-100 dark:bg-purple-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(Ci,{className:F("w-4 h-4",a==="executive-dashboard"?"text-primary-600 dark:text-primary-400":"text-purple-600 dark:text-purple-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Executive Dashboard"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"C-suite KPIs & business metrics"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-xs font-medium",children:"Executive"}),a==="executive-dashboard"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("enterprise-fairness"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="enterprise-fairness"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="enterprise-fairness"?"bg-primary-100 dark:bg-primary-900/30":"bg-green-100 dark:bg-green-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(Ce,{className:F("w-4 h-4",a==="enterprise-fairness"?"text-primary-600 dark:text-primary-400":"text-green-600 dark:text-green-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Enterprise Fairness"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"80+ bias metrics & compliance"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-xs font-medium",children:"Pro"}),a==="enterprise-fairness"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("enterprise-alerts"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="enterprise-alerts"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="enterprise-alerts"?"bg-primary-100 dark:bg-primary-900/30":"bg-red-100 dark:bg-red-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(He,{className:F("w-4 h-4",a==="enterprise-alerts"?"text-primary-600 dark:text-primary-400":"text-red-600 dark:text-red-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Real-time Alerts"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Multi-channel monitoring & SLA"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full text-xs font-medium",children:"Real-time"}),a==="enterprise-alerts"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("compliance-reporting"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="compliance-reporting"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="compliance-reporting"?"bg-primary-100 dark:bg-primary-900/30":"bg-indigo-100 dark:bg-indigo-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(Di,{className:F("w-4 h-4",a==="compliance-reporting"?"text-primary-600 dark:text-primary-400":"text-indigo-600 dark:text-indigo-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Compliance Reports"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"GDPR, EU AI Act, SOC2 reporting"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-full text-xs font-medium",children:"Compliance"}),a==="compliance-reporting"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("root-cause-analysis"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="root-cause-analysis"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="root-cause-analysis"?"bg-primary-100 dark:bg-primary-900/30":"bg-yellow-100 dark:bg-yellow-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(qe,{className:F("w-4 h-4",a==="root-cause-analysis"?"text-primary-600 dark:text-primary-400":"text-yellow-600 dark:text-yellow-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Root Cause Analysis"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Automated issue diagnosis"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full text-xs font-medium",children:"AI-Powered"}),a==="root-cause-analysis"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("data-connectors"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="data-connectors"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="data-connectors"?"bg-primary-100 dark:bg-primary-900/30":"bg-teal-100 dark:bg-teal-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(an,{className:F("w-4 h-4",a==="data-connectors"?"text-primary-600 dark:text-primary-400":"text-teal-600 dark:text-teal-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Data Connectors"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Snowflake, AWS, BigQuery, Databricks"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300 rounded-full text-xs font-medium",children:"Enterprise"}),a==="data-connectors"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("custom-dashboard"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="custom-dashboard"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="custom-dashboard"?"bg-primary-100 dark:bg-primary-900/30":"bg-violet-100 dark:bg-violet-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(rn,{className:F("w-4 h-4",a==="custom-dashboard"?"text-primary-600 dark:text-primary-400":"text-violet-600 dark:text-violet-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Custom Dashboards"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Drag & drop dashboard builder"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-300 rounded-full text-xs font-medium",children:"Enterprise"}),a==="custom-dashboard"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("model-management"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="model-management"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="model-management"?"bg-primary-100 dark:bg-primary-900/30":"bg-emerald-100 dark:bg-emerald-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(la,{className:F("w-4 h-4",a==="model-management"?"text-primary-600 dark:text-primary-400":"text-emerald-600 dark:text-emerald-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Model Management"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Model lifecycle & versioning"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 rounded-full text-xs font-medium",children:"Enterprise"}),a==="model-management"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("ab-testing"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="ab-testing"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="ab-testing"?"bg-primary-100 dark:bg-primary-900/30":"bg-sky-100 dark:bg-sky-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(ve,{className:F("w-4 h-4",a==="ab-testing"?"text-primary-600 dark:text-primary-400":"text-sky-600 dark:text-sky-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"A/B Testing"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Model comparison & experimentation"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300 rounded-full text-xs font-medium",children:"Statistical"}),a==="ab-testing"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("bias-mitigation"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="bias-mitigation"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="bias-mitigation"?"bg-primary-100 dark:bg-primary-900/30":"bg-stone-100 dark:bg-stone-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(Ce,{className:F("w-4 h-4",a==="bias-mitigation"?"text-primary-600 dark:text-primary-400":"text-stone-600 dark:text-stone-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Bias Mitigation"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Fairness interventions & workflows"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-stone-100 dark:bg-stone-900/30 text-stone-700 dark:text-stone-300 rounded-full text-xs font-medium",children:"Fairness"}),a==="bias-mitigation"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]})]})})})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>c("data"),className:"w-full flex items-center justify-between p-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Data"})]}),i.includes("data")?e.jsx(qt,{className:"w-4 h-4"}):e.jsx(ra,{className:"w-4 h-4"})]}),e.jsx(ge,{children:i.includes("data")&&e.jsx(C.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsxs("div",{className:"pl-4 mt-2 space-y-1",children:[e.jsxs("button",{onClick:()=>s("data-connectivity"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="data-connectivity"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="data-connectivity"?"bg-primary-100 dark:bg-primary-900/30":"bg-blue-100 dark:bg-blue-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(ke,{className:F("w-4 h-4",a==="data-connectivity"?"text-primary-600 dark:text-primary-400":"text-blue-600 dark:text-blue-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Data Connectivity"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Upload & manage datasets"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-xs font-medium",children:"New"}),a==="data-connectivity"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("data-drift"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="data-drift"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="data-drift"?"bg-primary-100 dark:bg-primary-900/30":"bg-orange-100 dark:bg-orange-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(le,{className:F("w-4 h-4",a==="data-drift"?"text-primary-600 dark:text-primary-400":"text-orange-600 dark:text-orange-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Data Drift"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Detect statistical changes in data"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full text-xs font-medium",children:"New"}),a==="data-drift"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("model-performance"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="model-performance"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="model-performance"?"bg-primary-100 dark:bg-primary-900/30":"bg-purple-100 dark:bg-purple-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(re,{className:F("w-4 h-4",a==="model-performance"?"text-primary-600 dark:text-primary-400":"text-purple-600 dark:text-purple-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Model Performance"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Enterprise monitoring & A/B testing"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-xs font-medium",children:"Pro"}),a==="model-performance"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("drift-configuration"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="drift-configuration"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="drift-configuration"?"bg-primary-100 dark:bg-primary-900/30":"bg-amber-100 dark:bg-amber-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(de,{className:F("w-4 h-4",a==="drift-configuration"?"text-primary-600 dark:text-primary-400":"text-amber-600 dark:text-amber-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Drift Configuration"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Advanced drift detection settings"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded-full text-xs font-medium",children:"Advanced"}),a==="drift-configuration"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("data-management"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="data-management"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="data-management"?"bg-primary-100 dark:bg-primary-900/30":"bg-cyan-100 dark:bg-cyan-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(Ai,{className:F("w-4 h-4",a==="data-management"?"text-primary-600 dark:text-primary-400":"text-cyan-600 dark:text-cyan-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Data Management"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Complete data lifecycle portal"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-cyan-100 dark:bg-cyan-900/30 text-cyan-700 dark:text-cyan-300 rounded-full text-xs font-medium",children:"Enterprise"}),a==="data-management"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("data-quality"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="data-quality"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="data-quality"?"bg-primary-100 dark:bg-primary-900/30":"bg-pink-100 dark:bg-pink-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(ie,{className:F("w-4 h-4",a==="data-quality"?"text-primary-600 dark:text-primary-400":"text-pink-600 dark:text-pink-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Data Quality"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Quality assessment & monitoring"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 rounded-full text-xs font-medium",children:"New"}),a==="data-quality"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("stream-management"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="stream-management"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="stream-management"?"bg-primary-100 dark:bg-primary-900/30":"bg-rose-100 dark:bg-rose-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(re,{className:F("w-4 h-4",a==="stream-management"?"text-primary-600 dark:text-primary-400":"text-rose-600 dark:text-rose-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Stream Management"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Real-time data streaming"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300 rounded-full text-xs font-medium",children:"Real-time"}),a==="stream-management"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{onClick:()=>s("data-preprocessing"),className:F("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 group border-2",a==="data-preprocessing"?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 border-primary-200 dark:border-primary-700 shadow-sm":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 border-transparent hover:border-primary-200 dark:hover:border-primary-700"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full transition-colors",a==="data-preprocessing"?"bg-primary-100 dark:bg-primary-900/30":"bg-lime-100 dark:bg-lime-900/30 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/30"),children:e.jsx(de,{className:F("w-4 h-4",a==="data-preprocessing"?"text-primary-600 dark:text-primary-400":"text-lime-600 dark:text-lime-400 group-hover:text-primary-600 dark:group-hover:text-primary-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Data Preprocessing"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Transform & clean data workflows"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"px-2 py-1 bg-lime-100 dark:bg-lime-900/30 text-lime-700 dark:text-lime-300 rounded-full text-xs font-medium",children:"Workflow"}),a==="data-preprocessing"&&e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 rounded-lg text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-sm",children:"Training Data"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"10,000 samples"})]})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 rounded-lg text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-sm",children:"Test Data"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"2,500 samples"})]})]})]})})})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>c("settings"),className:"w-full flex items-center justify-between p-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]}),i.includes("settings")?e.jsx(qt,{className:"w-4 h-4"}):e.jsx(ra,{className:"w-4 h-4"})]}),e.jsx(ge,{children:i.includes("settings")&&e.jsx(C.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsxs("div",{className:"pl-4 mt-2 space-y-1",children:[e.jsxs("button",{onClick:()=>s("settings"),className:F("w-full flex items-center space-x-3 p-3 rounded-lg transition-colors",a==="settings"?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"),children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"System Settings"})]}),e.jsxs("button",{onClick:()=>s("user-management"),className:F("w-full flex items-center space-x-3 p-3 rounded-lg transition-colors",a==="user-management"?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"),children:[e.jsx(Pt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"User Management"})]}),e.jsxs("button",{onClick:()=>s("system-health"),className:F("w-full flex items-center space-x-3 p-3 rounded-lg transition-colors",a==="system-health"?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"),children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"System Health"})]}),e.jsxs("button",{onClick:()=>s("user-profile"),className:F("w-full flex items-center space-x-3 p-3 rounded-lg transition-colors",a==="user-profile"?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"),children:[e.jsx(ha,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Profile"})]})]})})})]})]})}),e.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-800",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500 dark:text-neutral-400",children:[e.jsx("span",{children:"Last updated: 2 min ago"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Connected"})]})]})})]})})]})},G=({children:r,className:t,variant:a="primary",size:s="md",loading:n=!1,leftIcon:i,rightIcon:l,fullWidth:c=!1,animated:d=!0,disabled:m,onClick:u,type:f="button"})=>{const h=F("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",c&&"w-full"),_={primary:"bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500 shadow-sm hover:shadow-md",secondary:"bg-secondary-500 hover:bg-secondary-600 text-white focus:ring-secondary-500 shadow-sm hover:shadow-md",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-white focus:ring-primary-500",ghost:"text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:ring-neutral-500",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500 shadow-sm hover:shadow-md"},R={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},v={initial:{scale:1},hover:{scale:1.05},tap:{scale:.95}},w=()=>e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),b=e.jsxs(e.Fragment,{children:[n&&e.jsx(w,{}),!n&&i&&e.jsx("span",{className:"mr-2",children:i}),r,!n&&l&&e.jsx("span",{className:"ml-2",children:l})]});return d?e.jsx(C.button,{className:F(h,_[a],R[s],t),variants:v,initial:"initial",whileHover:"hover",whileTap:"tap",disabled:m||n,onClick:u,type:f,children:b}):e.jsx("button",{className:F(h,_[a],R[s],t),disabled:m||n,onClick:u,type:f,children:b})},Rd=({isOpen:r,onClose:t,activeTab:a})=>{const[s,n]=y.useState(a||"overview"),i=[{id:"overview",title:"Model Overview",icon:re,description:"Get a high-level understanding of your model's performance and key metrics.",steps:["Review the model performance metrics (accuracy, precision, recall)","Check the model information (type, training date, version)","Examine the feature count and data statistics","Look at any alerts or warnings about model performance"],tips:["Green metrics indicate good performance","Red alerts require immediate attention","Compare current metrics with historical performance"],useCases:["Daily model monitoring","Performance health checks","Model deployment validation"]},{id:"feature-importance",title:"Feature Importance",icon:ce,description:"Understand which features have the most impact on your model's predictions.",steps:["Select the importance calculation method (SHAP, Permutation, Gain)","Use the search bar to find specific features","Sort features by importance or alphabetically","Analyze the interactive bar chart and detailed rankings","Review the correlation matrix for feature relationships"],tips:["Higher importance values indicate more influential features","Use different methods to validate feature importance","Focus on top 5-10 features for model interpretation"],useCases:["Feature selection for model improvement","Understanding model behavior","Compliance and regulatory reporting"]},{id:"classification-stats",title:"Classification Statistics",icon:ve,description:"Analyze detailed classification performance metrics and visualizations.",steps:["Examine the confusion matrix for prediction accuracy","Review the ROC curve and AUC score","Adjust the classification threshold using the slider","Monitor how threshold changes affect precision and recall","Check the circular progress indicators for key metrics"],tips:["Higher AUC values (>0.8) indicate better model performance","Balance precision and recall based on business needs","Use threshold analysis to optimize for specific outcomes"],useCases:["Model evaluation and validation","Threshold optimization","Performance reporting to stakeholders"]},{id:"regression-stats",title:"Regression Statistics",icon:le,description:"Evaluate regression model performance with diagnostic plots and metrics.",steps:["Review the regression metrics (R², MSE, RMSE, MAE)","Select different diagnostic plots (Residual, Q-Q, Predicted vs Actual)","Analyze the residual patterns for model assumptions","Check the performance summary for model quality assessment","Examine error analysis for prediction accuracy"],tips:["R² values closer to 1 indicate better fit","Random residual patterns suggest good model fit","Look for heteroscedasticity in residual plots"],useCases:["Model diagnostics and validation","Identifying model assumptions violations","Comparing different regression models"]},{id:"predictions",title:"Individual Predictions",icon:we,description:"Analyze individual prediction explanations using SHAP values.",steps:["Select an instance from the list on the left","Sort instances by prediction confidence or value","Examine the SHAP waterfall chart for feature contributions","Review the prediction summary (actual vs predicted)","Analyze feature contributions in the detailed breakdown"],tips:["Positive SHAP values increase the prediction","Negative SHAP values decrease the prediction","Focus on top contributing features for explanation"],useCases:["Explaining individual predictions to customers","Model debugging and validation","Regulatory compliance and auditing"]},{id:"what-if",title:"What-If Analysis",icon:Ve,description:"Perform interactive scenario analysis by modifying feature values.",steps:["Select an instance to analyze","Use the sliders to modify feature values","Watch the prediction update in real-time","Compare the new prediction with the original","Save interesting scenarios for future reference"],tips:["Start with small changes to understand sensitivity","Focus on the most important features first","Use scenarios to test edge cases"],useCases:["Customer advisory and consultation","Risk assessment and mitigation","Product optimization and pricing"]},{id:"feature-dependence",title:"Feature Dependence",icon:le,description:"Explore how individual features affect predictions across their value ranges.",steps:["Select a feature from the searchable list","Choose the plot type (Partial Dependence, SHAP, ICE)","Analyze the dependence curve for the selected feature","Review the impact summary and trend analysis","Compare different features to understand their effects"],tips:["Steep curves indicate high feature sensitivity","Flat curves suggest minimal feature impact","Look for non-linear relationships and interactions"],useCases:["Understanding feature behavior","Identifying optimal feature ranges","Model interpretation and validation"]},{id:"feature-interactions",title:"Feature Interactions",icon:Ir,description:"Discover how features interact with each other to influence predictions.",steps:["Start with the interaction heatmap for an overview","Switch to network view to see relationship patterns","Use pairwise analysis for detailed feature comparisons","Adjust the minimum interaction strength filter","Review the top interactions ranking"],tips:["Strong interactions (>0.3) indicate important feature pairs","Synergistic interactions amplify each other's effects","Redundant interactions suggest correlated features"],useCases:["Feature engineering and selection","Understanding complex model behavior","Identifying feature redundancies"]},{id:"decision-trees",title:"Decision Trees",icon:at,description:"Visualize and analyze decision tree structures for tree-based models.",steps:["Select a tree from the ensemble","Adjust the maximum depth for visualization","Click on nodes to highlight decision paths","Switch to Rules view to see decision logic","Review tree statistics and comparison metrics"],tips:["Green nodes are leaf nodes (final decisions)","Blue nodes are decision points (splits)","Deeper trees may indicate overfitting"],useCases:["Understanding model decision logic","Debugging tree-based models","Creating business rules from model insights"]}],l=i.find(m=>m.id===s),c={hidden:{opacity:0,x:300},visible:{opacity:1,x:0},exit:{opacity:0,x:300}},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0},exit:{opacity:0,y:-20}};return e.jsx(ge,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:t}),e.jsx(C.div,{variants:c,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"spring",damping:25,stiffness:300},className:"fixed right-0 top-0 h-full w-full max-w-2xl bg-white dark:bg-neutral-900 shadow-2xl z-50 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900 rounded-lg",children:e.jsx(Mi,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"User Guide"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Learn how to use the ML Explainer Dashboard"})]})]}),e.jsx(G,{variant:"ghost",size:"sm",onClick:t,leftIcon:e.jsx(Zt,{className:"w-4 h-4"}),children:"Close"})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:"w-64 border-r border-neutral-200 dark:border-neutral-700 overflow-y-auto",children:e.jsx("div",{className:"p-4 space-y-2",children:i.map(m=>{const u=m.icon;return e.jsxs("button",{onClick:()=>n(m.id),className:`w-full flex items-center space-x-3 p-3 rounded-lg text-left transition-all ${s===m.id?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"hover:bg-neutral-50 dark:hover:bg-neutral-800 text-neutral-700 dark:text-neutral-300"}`,children:[e.jsx(u,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm",children:m.title})]},m.id)})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(ge,{mode:"wait",children:l&&e.jsxs(C.div,{variants:d,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.2},className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900 rounded-lg",children:e.jsx(l.icon,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:l.title})]}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:l.description})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3 flex items-center",children:[e.jsx($e,{className:"w-4 h-4 mr-2 text-green-600"}),"Step-by-Step Guide"]}),e.jsx("div",{className:"space-y-3",children:l.steps.map((m,u)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold text-primary-600 dark:text-primary-400",children:u+1})}),e.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 leading-relaxed",children:m})]},u))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3 flex items-center",children:[e.jsx(br,{className:"w-4 h-4 mr-2 text-amber-600"}),"Pro Tips"]}),e.jsx("div",{className:"space-y-2",children:l.tips.map((m,u)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ie,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:m})]},u))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-3 flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2 text-blue-600"}),"Common Use Cases"]}),e.jsx("div",{className:"space-y-2",children:l.useCases.map((m,u)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-2"}),e.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:m})]},u))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 dark:from-primary-900/20 dark:to-blue-900/20 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Quick Start"}),e.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 mb-3",children:"New to this feature? Start with these essential actions:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white dark:bg-neutral-800 rounded-full text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"📊 Explore the main visualization"}),e.jsx("span",{className:"px-3 py-1 bg-white dark:bg-neutral-800 rounded-full text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"🎛️ Try the interactive controls"}),e.jsx("span",{className:"px-3 py-1 bg-white dark:bg-neutral-800 rounded-full text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"💡 Review the insights"})]})]})]},l.id)})})]})]})})]})})},Td=({onNavigateToDataConnectivity:r,isDataConnectivityActive:t})=>{const[a,s]=y.useState(!1),n=()=>{s(!a)},i=()=>{r(),s(!1)};return t?null:e.jsxs(e.Fragment,{children:[e.jsx(ge,{children:a&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"fixed inset-0 bg-black/20 z-40 lg:hidden"})}),e.jsxs("div",{className:"fixed bottom-6 right-6 z-50 lg:hidden",children:[e.jsx(ge,{children:a&&e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mb-4 space-y-3",children:[e.jsxs(C.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.1},onClick:i,className:"flex items-center space-x-3 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 px-4 py-3 rounded-full shadow-lg border border-neutral-200 dark:border-neutral-700 hover:shadow-xl transition-all duration-200",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Data Connectivity"})]}),e.jsxs(C.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.05},onClick:()=>{s(!1),r()},className:"flex items-center space-x-3 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 px-4 py-3 rounded-full shadow-lg border border-neutral-200 dark:border-neutral-700 hover:shadow-xl transition-all duration-200",children:[e.jsx(Nt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload Data"})]})]})}),e.jsx(C.button,{onClick:n,className:`w-14 h-14 rounded-full shadow-lg transition-all duration-200 flex items-center justify-center ${a?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(ge,{mode:"wait",children:a?e.jsx(C.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:e.jsx(Zt,{className:"w-6 h-6"})},"close"):e.jsx(C.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2},children:e.jsx(We,{className:"w-6 h-6"})},"open")})}),!a&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-500 animate-ping opacity-20"})]})]})},Pd=({children:r,activeTab:t,onTabChange:a,modelType:s,onModelTypeChange:n,onShowTour:i})=>{const[l,c]=y.useState(!0),[d,m]=y.useState(!1),u=()=>{c(!l)},f=()=>{c(!1)},h={initial:{opacity:0,x:-20},animate:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:20,transition:{duration:.2,ease:"easeIn"}}};return e.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[e.jsx(Ad,{onToggleSidebar:u,isSidebarOpen:l,modelType:s,onModelTypeChange:n,onShowHelp:()=>m(!0),onShowTour:i,onTabChange:a}),e.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[e.jsx(Md,{isOpen:l,onClose:f,activeTab:t,onTabChange:a,modelType:s}),e.jsx("main",{className:F("flex-1 overflow-hidden","lg:ml-0"),children:e.jsx("div",{className:"h-full overflow-y-auto",children:e.jsxs(C.div,{variants:h,initial:"initial",animate:"animate",exit:"exit",className:"p-6 max-w-full",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-neutral-600 dark:text-neutral-400",children:[e.jsx("span",{children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100 font-medium",children:Ed(t)})]})}),e.jsx("div",{className:"space-y-6",children:r})]},t)})})]}),e.jsx(Rd,{isOpen:d,onClose:()=>m(!1),activeTab:t}),e.jsx(Td,{onNavigateToDataConnectivity:()=>a("data-connectivity"),isDataConnectivityActive:t==="data-connectivity"})]})};function Ed(r){return{overview:"Model Overview","feature-importance":"Feature Importance","classification-stats":"Classification Statistics","regression-stats":"Regression Statistics",predictions:"Individual Predictions","what-if":"What-If Analysis","feature-dependence":"Feature Dependence","feature-interactions":"Feature Interactions","decision-trees":"Decision Trees"}[r]||"Dashboard"}const Xt=({size:r="md",variant:t="primary",className:a,fullScreen:s=!1,message:n})=>{const i={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},l={primary:"border-primary-500",secondary:"border-secondary-500",neutral:"border-neutral-400"},c=e.jsx("div",{className:F("border-2 border-transparent border-t-current rounded-full animate-spin",i[r],l[t],a)}),d={initial:{scale:1,opacity:.8},animate:{scale:[1,1.2,1],opacity:[.8,.4,.8],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},m={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}}};return s?e.jsx(C.div,{variants:m,initial:"initial",animate:"animate",className:"fixed inset-0 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[c,e.jsx(C.div,{variants:d,initial:"initial",animate:"animate",className:F("absolute inset-0 border-2 border-transparent rounded-full",l[t],i[r])})]}),n&&e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-center max-w-xs",children:n})]})}):e.jsxs(C.div,{variants:m,initial:"initial",animate:"animate",className:"flex flex-col items-center space-y-2",children:[e.jsxs("div",{className:"relative",children:[c,e.jsx(C.div,{variants:d,initial:"initial",animate:"animate",className:F("absolute inset-0 border-2 border-transparent rounded-full",l[t],i[r])})]}),n&&e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-sm text-center",children:n})]})},Ld=({isOpen:r,onClose:t,onTabChange:a})=>{const[s,n]=y.useState(0),[i,l]=y.useState(!1),c=[{id:"welcome",title:"Welcome to ML Explainer Dashboard",description:"This powerful tool helps you understand and interpret your machine learning models with interactive visualizations and detailed explanations.",tabId:"overview",tip:"Start your journey by exploring the Model Overview to get familiar with your model's performance."},{id:"overview",title:"Model Overview",description:"Get a high-level view of your model's performance, key metrics, and important information at a glance.",tabId:"overview",highlight:"Performance metrics and model information",tip:"Look for green metrics (good performance) and red alerts (needs attention)."},{id:"feature-importance",title:"Feature Importance",description:"Discover which features have the most impact on your model's predictions using different calculation methods.",tabId:"feature-importance",highlight:"Interactive bar charts and feature rankings",tip:"Try different importance methods (SHAP, Permutation, Gain) to validate your findings."},{id:"predictions",title:"Individual Predictions",description:"Dive deep into specific predictions with SHAP values to understand why the model made certain decisions.",tabId:"predictions",highlight:"SHAP waterfall charts and feature contributions",tip:"Select different instances to see how feature values impact individual predictions."},{id:"what-if",title:"What-If Analysis",description:"Experiment with different scenarios by changing feature values and seeing how predictions change in real-time.",tabId:"what-if",highlight:"Interactive sliders and real-time updates",tip:"Start with small changes to understand feature sensitivity and model behavior."},{id:"complete",title:"You're Ready to Go!",description:"You now have a good understanding of the main features. Explore the other tabs to discover more advanced analysis capabilities.",tabId:"overview",tip:"Use the help button (?) in the header anytime you need guidance on specific features."}],d=c[s],m=()=>{if(s<c.length-1){const w=s+1;n(w),a(c[w].tabId)}},u=()=>{if(s>0){const w=s-1;n(w),a(c[w].tabId)}},f=()=>{l(!0),a(c[0].tabId)},h=()=>{localStorage.setItem("ml-explainer-tour-completed","true"),t()},_=()=>{localStorage.setItem("ml-explainer-tour-completed","true"),t()},R={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.9}},v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0},exit:{opacity:0,y:-20}};return r?e.jsx(ge,{children:e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:e.jsx(C.div,{variants:R,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:i?e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:["Step ",s+1," of ",c.length]}),e.jsx("div",{className:"flex space-x-1",children:c.map((w,b)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${b<=s?"bg-primary-500":"bg-neutral-300 dark:bg-neutral-600"}`},b))})]}),e.jsx(G,{variant:"ghost",size:"sm",onClick:_,leftIcon:e.jsx(Zt,{className:"w-4 h-4"}),children:"Skip"})]}),e.jsx("div",{className:"flex-1 p-6 space-y-6",children:e.jsx(ge,{mode:"wait",children:e.jsxs(C.div,{variants:v,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},className:"space-y-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:d.title}),e.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400 leading-relaxed",children:d.description}),d.highlight&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["💡 Focus on: ",d.highlight]})}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-900 dark:text-amber-100",children:[e.jsx("strong",{children:"Tip:"})," ",d.tip]})})]},s)})}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsx(G,{variant:"outline",onClick:u,disabled:s===0,leftIcon:e.jsx(Ri,{className:"w-4 h-4"}),children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-3",children:s===c.length-1?e.jsx(G,{onClick:h,leftIcon:e.jsx(ie,{className:"w-4 h-4"}),className:"min-w-32",children:"Finish Tour"}):e.jsx(G,{onClick:m,rightIcon:e.jsx(sa,{className:"w-4 h-4"}),className:"min-w-24",children:"Next"})})]})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-accent-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx($e,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100 mb-4",children:"Welcome to ML Explainer Dashboard!"}),e.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400 mb-8 leading-relaxed",children:"Take a quick tour to learn how to use this powerful tool for understanding your machine learning models."}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(G,{variant:"outline",onClick:_,className:"min-w-24",children:"Skip Tour"}),e.jsx(G,{onClick:f,leftIcon:e.jsx($e,{className:"w-4 h-4"}),className:"min-w-32",children:"Start Tour"})]})]})})})}):null},Fd=({onSuccess:r,onRegisterClick:t})=>{const[a,s]=y.useState({username:"",password:""}),[n,i]=y.useState(!1),[l,c]=y.useState(!1),{login:d}=Yt(),m=async f=>{f.preventDefault(),c(!0);try{await d(a.username,a.password),ne.success("Login successful!"),r==null||r()}catch(h){ne.error(h.message||"Login failed")}finally{c(!1)}},u=f=>{s(h=>({...h,[f.target.name]:f.target.value}))};return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-md mx-auto bg-white dark:bg-neutral-800 rounded-lg shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(C.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ti,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Welcome Back"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-2",children:"Sign in to access your ML Explainer Dashboard"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:"text",id:"username",name:"username",value:a.username,onChange:u,required:!0,className:"w-full pl-10 pr-4 py-3 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white placeholder-neutral-500 dark:placeholder-neutral-400",placeholder:"Enter your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-400"}),e.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:a.password,onChange:u,required:!0,className:"w-full pl-10 pr-12 py-3 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white placeholder-neutral-500 dark:placeholder-neutral-400",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300",children:n?e.jsx(Or,{className:"w-5 h-5"}):e.jsx(we,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-neutral-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-neutral-600 dark:text-neutral-400",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:"Forgot password?"})]}),e.jsx(G,{type:"submit",className:"w-full",size:"lg",loading:l,children:"Sign In"})]}),t&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Don't have an account?"," ",e.jsx("button",{type:"button",onClick:t,className:"text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 font-medium",children:"Sign up"})]})}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Demo Accounts:"}),e.jsxs("div",{className:"mt-2 text-xs text-neutral-600 dark:text-neutral-300 space-y-1",children:[e.jsx("div",{children:"Admin: admin / admin123"}),e.jsx("div",{children:"Analyst: analyst / analyst123"}),e.jsx("div",{children:"Viewer: viewer / viewer123"})]})]})]})},Sa=({children:r,requireAuth:t=!0,requiredPermission:a,requiredRole:s,fallback:n})=>{const{isAuthenticated:i,isLoading:l,hasPermission:c,hasRole:d}=Yt();return l?e.jsx(Xt,{fullScreen:!0,size:"xl",message:"Checking authentication..."}):t&&!i?e.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center p-4",children:e.jsx(Fd,{onSuccess:()=>window.location.reload()})}):a&&!c(a)?n||e.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"You don't have permission to access this page."}),e.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-500 mt-2",children:["Required permission: ",a]})]})}):s&&!d(s)?n||e.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white mb-2",children:"Insufficient Role"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Your current role doesn't allow access to this page."}),e.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-500 mt-2",children:["Required role: ",s]})]})}):e.jsx(e.Fragment,{children:r})},P=({children:r,className:t,title:a,description:s,icon:n,action:i,hover:l=!1,gradient:c=!1,glassmorphism:d=!1,animated:m=!0})=>{const u={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{y:-4,transition:{duration:.2,ease:"easeOut"}}};return e.jsxs(C.div,{variants:m?u:void 0,initial:m?"initial":void 0,animate:m?"animate":void 0,whileHover:l&&m?"hover":void 0,className:F("rounded-xl border shadow-soft transition-all duration-200",c&&"bg-gradient-to-br from-white to-neutral-50 dark:from-neutral-800 dark:to-neutral-900",d&&"backdrop-blur-md bg-white/70 dark:bg-neutral-800/70",!c&&!d&&"bg-white dark:bg-neutral-800","border-neutral-200 dark:border-neutral-700",l&&"hover:shadow-lg hover:border-neutral-300 dark:hover:border-neutral-600",t),children:[(a||s||n||i)&&e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[n&&e.jsx("div",{className:"flex-shrink-0 p-2 bg-primary-50 dark:bg-primary-900/20 rounded-lg",children:n}),e.jsxs("div",{children:[a&&e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:a}),s&&e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:s})]})]}),i&&e.jsx("div",{className:"flex-shrink-0",children:i})]})}),e.jsx("div",{className:"p-6",children:r})]})},Q=({title:r,value:t,change:a,changeType:s,format:n="number",precision:i=2,icon:l,color:c="primary",size:d="md",animated:m=!0,loading:u=!1,description:f})=>{const h={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{y:-2,transition:{duration:.2,ease:"easeOut"}}},_={primary:"from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 text-primary-600 dark:text-primary-400",secondary:"from-secondary-50 to-secondary-100 dark:from-secondary-900/20 dark:to-secondary-800/20 text-secondary-600 dark:text-secondary-400",success:"from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 text-green-600 dark:text-green-400",warning:"from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 text-amber-600 dark:text-amber-400",error:"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 text-red-600 dark:text-red-400"},R={sm:"p-4",md:"p-6",lg:"p-8"},v=p=>{if(typeof p=="string")return p;switch(n){case"percentage":return vt(p,{precision:i,percentage:!0});case"currency":return vt(p,{precision:i,currency:!0});default:return vt(p,{precision:i})}},w=()=>{if(!a)return null;switch(s){case"increase":case"positive":return e.jsx(le,{className:"w-4 h-4 text-green-500"});case"decrease":case"negative":return e.jsx(ot,{className:"w-4 h-4 text-red-500"});default:return e.jsx(Ei,{className:"w-4 h-4 text-neutral-500"})}},b=()=>{switch(s){case"increase":case"positive":return"text-green-600 dark:text-green-400";case"decrease":case"negative":return"text-red-600 dark:text-red-400";default:return"text-neutral-600 dark:text-neutral-400"}},g={initial:{opacity:.6},animate:{opacity:[.6,1,.6],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}};return u?e.jsxs(C.div,{variants:h,initial:m?"initial":void 0,animate:m?"animate":void 0,className:F("bg-white dark:bg-neutral-800 rounded-xl border border-neutral-200 dark:border-neutral-700 shadow-soft",R[d]),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(C.div,{variants:g,initial:"initial",animate:"animate",className:"h-4 bg-neutral-200 dark:bg-neutral-700 rounded w-24"}),l&&e.jsx(C.div,{variants:g,initial:"initial",animate:"animate",className:"h-8 w-8 bg-neutral-200 dark:bg-neutral-700 rounded"})]}),e.jsx(C.div,{variants:g,initial:"initial",animate:"animate",className:"h-8 bg-neutral-200 dark:bg-neutral-700 rounded w-32 mb-2"}),e.jsx(C.div,{variants:g,initial:"initial",animate:"animate",className:"h-4 bg-neutral-200 dark:bg-neutral-700 rounded w-20"})]}):e.jsxs(C.div,{variants:h,initial:m?"initial":void 0,animate:m?"animate":void 0,whileHover:m?"hover":void 0,className:F("bg-gradient-to-br border border-neutral-200 dark:border-neutral-700 rounded-xl shadow-soft hover:shadow-md transition-all duration-200",_[c],R[d]),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400 uppercase tracking-wide",children:r}),l&&e.jsx("div",{className:"p-2 bg-white/50 dark:bg-neutral-800/50 rounded-lg",children:l})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100 mb-1",children:v(t)}),a!==void 0&&e.jsxs("div",{className:F("flex items-center space-x-1 text-sm font-medium",b()),children:[w(),e.jsx("span",{children:typeof a=="string"?a:`${Math.abs(a)}%`}),typeof a=="number"&&e.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"vs last period"})]}),f&&e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:f})]})})]})},Ls=[{model_id:"model_1",name:"Credit Risk Classifier",model_type:"classification",framework:"sklearn",version:"v1.2.3",description:"Advanced credit risk assessment model with 87% accuracy",feature_names:["income","age","credit_score","employment_length","debt_ratio","payment_history","credit_utilization","account_age","recent_inquiries","loan_amount"],target_names:["low_risk","high_risk"],training_metrics:{accuracy:.873,precision:.851,recall:.892,f1_score:.871,auc_roc:.934},validation_metrics:{accuracy:.869,precision:.847,recall:.888,f1_score:.867,auc_roc:.931},created_at:"2024-01-15T10:30:00Z",status:"active"},{model_id:"model_2",name:"Fraud Detection System",model_type:"classification",framework:"xgboost",version:"v2.1.0",description:"Real-time fraud detection with 94% precision",feature_names:["transaction_amount","merchant_category","time_of_day","location_risk","card_type","velocity_score","device_fingerprint","ip_reputation","spending_pattern","account_age"],target_names:["legitimate","fraud"],training_metrics:{accuracy:.921,precision:.943,recall:.887,f1_score:.914,auc_roc:.965},validation_metrics:{accuracy:.918,precision:.94,recall:.884,f1_score:.911,auc_roc:.962},created_at:"2024-02-20T14:15:00Z",status:"active"},{model_id:"model_3",name:"Customer Churn Predictor",model_type:"classification",framework:"tensorflow",version:"v1.0.5",description:"Predicts customer churn with 89% accuracy",feature_names:["tenure","monthly_charges","total_charges","contract_type","payment_method","internet_service","online_security","tech_support","streaming_tv","paperless_billing"],target_names:["retain","churn"],training_metrics:{accuracy:.892,precision:.876,recall:.903,f1_score:.889,auc_roc:.945},validation_metrics:{accuracy:.889,precision:.872,recall:.9,f1_score:.886,auc_roc:.942},created_at:"2024-03-10T09:45:00Z",status:"active"},{model_id:"model_4",name:"House Price Predictor",model_type:"regression",framework:"sklearn",version:"v1.1.2",description:"Real estate price prediction with R² = 0.85",feature_names:["bedrooms","bathrooms","sqft_living","sqft_lot","floors","waterfront","view","condition","grade","yr_built"],target_names:["price"],training_metrics:{r2_score:.853,mse:15623.45,mae:98.76,mape:.123},validation_metrics:{r2_score:.847,mse:16234.78,mae:102.34,mape:.127},created_at:"2024-01-25T16:20:00Z",status:"active"},{model_id:"model_5",name:"Recommendation Engine",model_type:"clustering",framework:"pytorch",version:"v3.0.1",description:"Product recommendation system with collaborative filtering",feature_names:["user_age","user_income","purchase_history","browsing_time","category_preference","price_sensitivity","brand_loyalty","seasonal_pattern","device_type","location"],target_names:["cluster_id"],training_metrics:{silhouette_score:.724,inertia:45623.12,davies_bouldin_score:.892,calinski_harabasz_score:3456.78},validation_metrics:{silhouette_score:.718,inertia:47123.45,davies_bouldin_score:.897,calinski_harabasz_score:3398.45},created_at:"2024-03-05T11:30:00Z",status:"active"}],Fs={accuracy:.873,precision:.851,recall:.892,f1_score:.871,auc_roc:.934,confusion_matrix:[[8520,480],[324,4676]],feature_importance:[{feature:"credit_score",importance:.245},{feature:"income",importance:.189},{feature:"debt_ratio",importance:.167},{feature:"employment_length",importance:.134},{feature:"age",importance:.098},{feature:"payment_history",importance:.087},{feature:"credit_utilization",importance:.052},{feature:"account_age",importance:.028}]},Id={drift_detected:!0,drift_score:.156,threshold:.1,last_check:"2024-03-15T14:30:00Z",features_with_drift:["income","credit_score"],feature_drifts:{income:.234,age:.045,credit_score:.187,employment_length:.076,debt_ratio:.098}},Od={overall_fairness_score:.824,demographic_parity:.127,equalized_odds:.089,equality_of_opportunity:.067,calibration:.043,disparate_impact_ratio:.762,protected_groups:["gender","race","age"],bias_violations:2,intersectional_analysis:{female_rural:.234,male_urban:.087,nonbinary_suburban:.156}},zd=[{alert_id:"alert_1",model_id:"model_1",alert_type:"bias_detected",severity:"critical",title:"High Bias Detected in Credit Model",message:"Demographic parity violation detected (0.127 > 0.10 threshold)",status:"active",created_at:"2024-03-15T14:25:00Z",data:{metric:"demographic_parity",value:.127,threshold:.1,affected_groups:["gender"]}},{alert_id:"alert_2",model_id:"model_2",alert_type:"drift_detected",severity:"high",title:"Data Drift Detected in Fraud Model",message:"Significant drift in transaction_amount feature distribution",status:"active",created_at:"2024-03-15T13:45:00Z",data:{feature:"transaction_amount",drift_score:.198,threshold:.1}},{alert_id:"alert_3",model_id:"model_3",alert_type:"performance_degradation",severity:"medium",title:"Performance Drop in Churn Model",message:"Accuracy dropped from 89% to 85% over the last 24 hours",status:"acknowledged",created_at:"2024-03-15T10:30:00Z",data:{previous_accuracy:.89,current_accuracy:.85,degradation:.04}}],$d={overall_score:94.2,frameworks:{GDPR:{score:98.5,status:"compliant",violations:0},"EU AI Act":{score:95.2,status:"compliant",violations:0},"SOC 2 Type II":{score:96.8,status:"compliant",violations:0},"ISO 27001":{score:87.3,status:"in_progress",violations:2}},risk_assessment:{data_privacy:95,algorithmic_bias:92,model_transparency:85,data_security:98},last_audit:"2024-01-15T00:00:00Z",next_audit:"2024-04-15T00:00:00Z"},qd={active_investigations:3,success_rate:87.5,avg_resolution_time:144,current_investigation:{id:"rca_1",title:"Model Accuracy Degradation",status:"evidence_validation",progress:75,timeline:[{stage:"issue_detection",status:"completed",duration:2},{stage:"data_collection",status:"completed",duration:15},{stage:"hypothesis_generation",status:"completed",duration:8},{stage:"evidence_validation",status:"in_progress",duration:45},{stage:"root_cause_confirmation",status:"pending",duration:null}]},hypotheses:[{id:1,description:"Data distribution shift",confidence:85,status:"investigating"},{id:2,description:"Training data bias",confidence:72,status:"investigating"},{id:3,description:"Infrastructure latency",confidence:45,status:"low_priority"}],recommendations:[{priority:"critical",action:"Immediate model rollback",timeline:"15 min"},{priority:"high",action:"Retrain with balanced dataset",timeline:"2-3 days"},{priority:"medium",action:"Enhanced data monitoring",timeline:"1 week"}]},Bd=[{id:"snowflake_prod",name:"Snowflake Production",type:"snowflake",status:"connected",data_transferred:"458.2 GB",health_score:98,last_sync:"2024-03-15T14:25:00Z"},{id:"aws_s3_training",name:"AWS S3 ML Training",type:"aws_s3",status:"connected",data_transferred:"1.2 TB",health_score:99,last_sync:"2024-03-15T14:20:00Z"},{id:"databricks_analytics",name:"Databricks Analytics",type:"databricks",status:"connected",data_transferred:"234.5 GB",health_score:95,last_sync:"2024-03-15T14:15:00Z"},{id:"bigquery_compliance",name:"BigQuery Compliance",type:"bigquery",status:"connected",data_transferred:"89.3 GB",health_score:97,last_sync:"2024-03-15T14:10:00Z"},{id:"postgres_customer",name:"PostgreSQL Customer DB",type:"postgresql",status:"error",data_transferred:"45.7 GB",health_score:0,last_sync:"2024-03-15T10:30:00Z"},{id:"aws_s3_features",name:"AWS S3 Feature Store",type:"aws_s3",status:"syncing",data_transferred:"567.8 GB",health_score:85,last_sync:"2024-03-15T14:00:00Z"}],Ud={completeness:94.2,accuracy:96.8,consistency:91.5,timeliness:98.1,validity:93.7,uniqueness:99.2};class Hd{simulateNetworkDelay(t=200,a=800){const s=Math.random()*(a-t)+t;return new Promise(n=>setTimeout(n,s))}async listModels(){return await this.simulateNetworkDelay(),{success:!0,data:Ls}}async getModel(t){await this.simulateNetworkDelay();const a=Ls.find(s=>s.model_id===t);return a?{success:!0,data:a}:{success:!1,error:"Model not found"}}async getModelPerformance(t){return await this.simulateNetworkDelay(),{success:!0,data:Fs}}async getDriftData(){return await this.simulateNetworkDelay(),{success:!0,data:Id}}async getBiasMetrics(){return await this.simulateNetworkDelay(),{success:!0,data:Od}}async getAlerts(){return await this.simulateNetworkDelay(),{success:!0,data:zd}}async getComplianceData(){return await this.simulateNetworkDelay(),{success:!0,data:$d}}async getRootCauseData(){return await this.simulateNetworkDelay(),{success:!0,data:qd}}async getDataConnectors(){return await this.simulateNetworkDelay(),{success:!0,data:Bd}}async getDataQualityMetrics(){return await this.simulateNetworkDelay(),{success:!0,data:Ud}}async getGlobalExplanations(t){return await this.simulateNetworkDelay(),{success:!0,data:{feature_importance:Fs.feature_importance,partial_dependence:{credit_score:Array.from({length:50},(a,s)=>Math.sin(s/5)*.3),income:Array.from({length:50},(a,s)=>Math.cos(s/7)*.4),debt_ratio:Array.from({length:50},(a,s)=>Math.tan(s/10)*.2)}}}}async getLocalExplanations(t,a){return await this.simulateNetworkDelay(),{success:!0,data:{prediction:Math.random(),shap_values:Array.from({length:10},()=>(Math.random()-.5)*.2),lime_explanation:[{feature:"credit_score",value:.089},{feature:"income",value:-.034},{feature:"debt_ratio",value:.156},{feature:"employment_length",value:.023},{feature:"age",value:-.012}]}}}async getDataQuality(t){return await this.simulateNetworkDelay(),{success:!0,data:{dataset_id:t,dataset_name:"Customer Demographics",total_rows:125e3,total_columns:28,metrics:{completeness:87.3,accuracy:91.2,consistency:85.7,validity:93.8,uniqueness:96.1,timeliness:78.9,overall_score:88.8},issues:[{id:"iss_001",type:"missing_values",severity:"high",description:"High rate of missing values in income field",affected_rows:15600,affected_columns:["annual_income"],suggested_action:"Implement income estimation model or require field completion",detected_at:"2024-01-20T10:30:00Z"},{id:"iss_002",type:"duplicates",severity:"medium",description:"Duplicate customer records based on email",affected_rows:3200,affected_columns:["email","customer_id"],suggested_action:"Merge duplicate records and establish unique constraints",detected_at:"2024-01-20T10:45:00Z"}],last_assessed:"2024-01-20T12:00:00Z",trend:"improving"}}}async runQualityAssessment(t){return await this.simulateNetworkDelay(3e3),{success:!0,data:{assessment_id:`assess_${Date.now()}`,dataset_id:t,status:"completed",duration_ms:2845,timestamp:new Date().toISOString()}}}async setupABTest(t){return await this.simulateNetworkDelay(),{success:!0,data:{test_id:`test_${Date.now()}`,name:t.name,status:"draft",created_at:new Date().toISOString()}}}async getABTests(){return await this.simulateNetworkDelay(),{success:!0,data:[{id:"test_001",name:"Credit Model v2.3 vs v2.4",status:"running",modelA:{id:"model_1",name:"Credit Risk v2.3",version:"v2.3"},modelB:{id:"model_2",name:"Credit Risk v2.4",version:"v2.4"},trafficSplit:{modelA:50,modelB:50},metrics:{accuracy:{modelA:87.3,modelB:89.1},precision:{modelA:85.2,modelB:87.8},recall:{modelA:88.9,modelB:90.2}},statisticalSignificance:!0,winner:"modelB",startDate:"2024-01-15T00:00:00Z",endDate:"2024-01-29T23:59:59Z",duration:14,createdAt:"2024-01-14T10:00:00Z"}]}}async updateABTest(t,a){return await this.simulateNetworkDelay(),{success:!0,data:{test_id:t,...a,updated_at:new Date().toISOString()}}}async deleteABTest(t){return await this.simulateNetworkDelay(),{success:!0,data:{message:"A/B test deleted successfully"}}}}const Me=new Hd,dr={},_n=(dr==null?void 0:dr.VITE_API_URL)||"http://localhost:8000",Wd="/api/v1";class Gd{constructor(){_e(this,"baseUrl");_e(this,"defaultHeaders");this.baseUrl=`${_n}${Wd}`,this.defaultHeaders={"Content-Type":"application/json",Accept:"application/json"}}async request(t,a={}){try{const s=`${this.baseUrl}${t}`,n={...a,headers:{...this.defaultHeaders,...a.headers}},i=await fetch(s,n);if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return{success:!0,data:await i.json()}}catch(s){return console.error("API Request Error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async healthCheck(){return this.request("/health",{method:"GET"})}async uploadModel(t,a){const s=new FormData;return s.append("model_file",t),s.append("model_name",a.model_name),s.append("model_type",a.model_type),s.append("description",a.description||""),s.append("feature_names",JSON.stringify(a.feature_names||[])),s.append("target_names",JSON.stringify(a.target_names||[])),this.request("/models/upload",{method:"POST",body:s,headers:{}})}async listModels(){return this.request("/models",{method:"GET"})}async getModel(t){return this.request(`/models/${t}`,{method:"GET"})}async deleteModel(t){return this.request(`/models/${t}`,{method:"DELETE"})}async predict(t){return this.request(`/models/${t.model_id}/predict`,{method:"POST",body:JSON.stringify(t)})}async evaluateModel(t,a,s){return this.request(`/models/${t}/evaluate`,{method:"POST",body:JSON.stringify({test_data:a,test_labels:s})})}async getModelStats(t){return this.request(`/models/${t}/stats`,{method:"GET"})}async getFeatureImportance(t,a="shap"){return this.request(`/models/${t}/feature-importance?method=${a}`,{method:"GET"})}async getFeatureInteractions(t,a="shap"){return this.request(`/models/${t}/interactions?method=${a}`,{method:"GET"})}async explainPrediction(t){return this.request(`/models/${t.model_id}/explain`,{method:"POST",body:JSON.stringify(t)})}async uploadDataset(t,a){const s=new FormData;return s.append("data_file",t),s.append("dataset_name",a.dataset_name),s.append("description",a.description||""),this.request("/data/upload",{method:"POST",body:s,headers:{}})}async listDatasets(){return this.request("/data",{method:"GET"})}async getDataset(t){return this.request(`/data/${t}`,{method:"GET"})}async deleteDataset(t){return this.request(`/data/${t}`,{method:"DELETE"})}async getDatasetSample(t,a=100){return this.request(`/data/${t}/sample?n_rows=${a}`,{method:"GET"})}async getDatasetStatistics(t){return this.request(`/data/${t}/statistics`,{method:"GET"})}async assessDataQuality(t){return this.request(`/data/${t}/quality`,{method:"GET"})}async preprocessDataset(t,a){return this.request(`/data/${t}/preprocess`,{method:"POST",body:JSON.stringify(a)})}async splitDataset(t,a={}){const s=new URLSearchParams;return Object.entries(a).forEach(([n,i])=>{i!==void 0&&s.append(n,i.toString())}),this.request(`/data/${t}/split?${s.toString()}`,{method:"POST"})}async profileDataset(t){return this.request(`/data/${t}/profile`,{method:"GET"})}async validateDataset(t,a){return this.request(`/data/${t}/validate`,{method:"POST",body:JSON.stringify(a)})}async configureMonitoring(t,a){return this.request(`/monitoring/configure/${t}`,{method:"POST",body:JSON.stringify(a)})}async setReferenceData(t,a,s,n){return this.request(`/monitoring/reference-data/${t}`,{method:"POST",body:JSON.stringify({reference_data:a,feature_names:s,reference_predictions:n})})}async detectDataDrift(t,a,s,n="kolmogorov_smirnov"){return this.request(`/monitoring/drift/detect/${t}`,{method:"POST",body:JSON.stringify({current_data:a,feature_names:s,method:n})})}async detectModelDrift(t,a,s){return this.request(`/monitoring/drift/model/${t}`,{method:"POST",body:JSON.stringify({current_data:a,current_labels:s})})}async getModelAlerts(t,a=100){return this.request(`/monitoring/alerts/${t}?limit=${a}`,{method:"GET"})}async acknowledgeAlert(t){return this.request(`/monitoring/alerts/${t}/acknowledge`,{method:"POST"})}async resolveAlert(t){return this.request(`/monitoring/alerts/${t}/resolve`,{method:"POST"})}async getMonitoringHealth(){return this.request("/monitoring/health",{method:"GET"})}async getMonitoringStats(){return this.request("/monitoring/stats",{method:"GET"})}async getWebSocketStats(){return this.request("/ws/stats",{method:"GET"})}async connectStream(t){return this.request("/data/stream/connect",{method:"POST",body:JSON.stringify(t)})}async disconnectStream(t){return this.request(`/data/stream/${t}`,{method:"DELETE"})}async getStreamStatus(t){return this.request(`/data/stream/${t}/status`,{method:"GET"})}}class Vd extends Gd{constructor(){super(...arguments);_e(this,"useMockData",!1)}async detectBackendAvailability(){try{const a=new AbortController,s=setTimeout(()=>a.abort(),2e3),n=await fetch(`${_n}/health`,{signal:a.signal,method:"GET"});return clearTimeout(s),n.ok}catch{return console.log("Backend not available, using mock data"),!1}}async smartRequest(a,s={},n){if(!this.useMockData)try{const i=await this.request(a,s);if(i.success)return i}catch{console.log(`API request failed for ${a}, falling back to mock data`),this.useMockData=!0}if(n)try{return await n()}catch{return{success:!1,error:"Both API and mock data failed"}}return{success:!1,error:"Backend unavailable and no mock data provided"}}async listModels(){return this.smartRequest("/models",{method:"GET"},()=>Me.listModels())}async getModel(a){return this.smartRequest(`/models/${a}`,{method:"GET"},()=>Me.getModel(a))}async getModelPerformance(a){return this.smartRequest(`/models/${a}/performance`,{method:"GET"},()=>Me.getModelPerformance(a))}async getDriftData(){return this.smartRequest("/monitoring/drift",{method:"GET"},()=>Me.getDriftData())}async getBiasMetrics(){return this.smartRequest("/fairness/bias",{method:"GET"},()=>Me.getBiasMetrics())}async getAlerts(){return this.smartRequest("/monitoring/alerts",{method:"GET"},()=>Me.getAlerts())}async getComplianceData(){return this.smartRequest("/compliance/reports",{method:"GET"},()=>Me.getComplianceData())}async getRootCauseData(){return this.smartRequest("/monitoring/root-cause",{method:"GET"},()=>Me.getRootCauseData())}async getDataConnectors(){return this.smartRequest("/data/connectors",{method:"GET"},()=>Me.getDataConnectors())}async getGlobalExplanations(a){return this.smartRequest(`/explanations/${a}/global`,{method:"GET"},()=>Me.getGlobalExplanations(a))}async getLocalExplanations(a,s){return this.smartRequest(`/explanations/${a}/local`,{method:"POST",body:JSON.stringify(s)},()=>Me.getLocalExplanations(a,s))}async getDataQuality(a){return this.smartRequest(`/data/${a}/quality`,{method:"GET"},()=>Me.getDataQuality(a))}async runQualityAssessment(a){return this.smartRequest(`/monitoring/quality/assess/${a}`,{method:"POST"},()=>Me.runQualityAssessment(a))}async setupABTest(a){return this.smartRequest("/model-monitoring/setup-ab-test",{method:"POST",body:JSON.stringify(a)},()=>Me.setupABTest(a))}async getABTests(){return this.smartRequest("/model-monitoring/ab-tests",{method:"GET"},()=>Me.getABTests())}async updateABTest(a,s){return this.smartRequest(`/model-monitoring/ab-tests/${a}`,{method:"PUT",body:JSON.stringify(s)},()=>Me.updateABTest(a,s))}async deleteABTest(a){return this.smartRequest(`/model-monitoring/ab-tests/${a}`,{method:"DELETE"},()=>Me.deleteABTest(a))}}const ze=new Vd;var Zd={};const Qd=Zd.REACT_APP_WS_URL||"ws://localhost:8000",Yd="/api/v1/ws/connect";class Xd{constructor(){_e(this,"ws",null);_e(this,"reconnectAttempts",0);_e(this,"maxReconnectAttempts",5);_e(this,"reconnectDelay",1e3);_e(this,"connectionId",null);_e(this,"userId",null);_e(this,"isConnecting",!1);_e(this,"isConnected",!1);_e(this,"eventHandlers",new Map);_e(this,"subscribedModels",new Set);_e(this,"heartbeatInterval",null);_e(this,"reconnectTimeout",null);this.setupEventHandlers()}setupEventHandlers(){["connection_established","connection_lost","model_update","system_notification","drift_alert","performance_alert","prediction_update","explanation_update","error","pong","stats"].forEach(a=>{this.eventHandlers.set(a,[])})}async connect(t,a){if(this.isConnecting||this.isConnected)return this.isConnected;this.isConnecting=!0,this.userId=a||null;try{const s=`${Qd}${Yd}${t?`?token=${t}`:""}`;return this.ws=new WebSocket(s),this.ws.onopen=this.handleOpen.bind(this),this.ws.onclose=this.handleClose.bind(this),this.ws.onerror=this.handleError.bind(this),this.ws.onmessage=this.handleMessage.bind(this),new Promise(n=>{const i=setTimeout(()=>{this.isConnecting=!1,n(!1)},5e3);this.on("connection_established",()=>{clearTimeout(i),this.isConnecting=!1,n(!0)})})}catch(s){return console.error("WebSocket connection error:",s),this.isConnecting=!1,!1}}disconnect(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.ws&&(this.ws.close(),this.ws=null),this.isConnected=!1,this.connectionId=null,this.subscribedModels.clear(),this.reconnectAttempts=0}on(t,a){const s=this.eventHandlers.get(t)||[];s.push(a),this.eventHandlers.set(t,s)}off(t,a){const s=this.eventHandlers.get(t)||[],n=s.indexOf(a);n>-1&&(s.splice(n,1),this.eventHandlers.set(t,s))}emit(t,a){(this.eventHandlers.get(t)||[]).forEach(n=>{try{n(a)}catch(i){console.error(`Error in WebSocket event handler for ${t}:`,i)}})}subscribeToModel(t){if(!this.isConnected){console.warn("Cannot subscribe to model: WebSocket not connected");return}this.subscribedModels.has(t)||(this.send({type:"subscribe_model",model_id:t}),this.subscribedModels.add(t))}unsubscribeFromModel(t){if(!this.isConnected){console.warn("Cannot unsubscribe from model: WebSocket not connected");return}this.subscribedModels.has(t)&&(this.send({type:"unsubscribe_model",model_id:t}),this.subscribedModels.delete(t))}send(t){if(!this.isConnected||!this.ws){console.warn("Cannot send message: WebSocket not connected");return}try{this.ws.send(JSON.stringify(t))}catch(a){console.error("Error sending WebSocket message:",a)}}ping(){this.send({type:"ping",timestamp:new Date().toISOString()})}getStats(){this.send({type:"get_stats"})}getConnectionStatus(){return{connected:this.isConnected,connectionId:this.connectionId,userId:this.userId,subscribedModels:Array.from(this.subscribedModels)}}handleOpen(){console.log("WebSocket connection opened"),this.isConnected=!0,this.reconnectAttempts=0,this.startHeartbeat()}handleClose(t){console.log("WebSocket connection closed:",t.code,t.reason),this.isConnected=!1,this.connectionId=null,this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.emit("connection_lost",{code:t.code,reason:t.reason}),this.reconnectAttempts<this.maxReconnectAttempts&&this.scheduleReconnect()}handleError(t){console.error("WebSocket error:",t),this.emit("error",t)}handleMessage(t){try{const a=JSON.parse(t.data);this.processMessage(a)}catch(a){console.error("Error parsing WebSocket message:",a)}}processMessage(t){var a;switch(t.type){case"connection_established":this.connectionId=((a=t.data)==null?void 0:a.connection_id)||null,this.emit("connection_established",t.data);break;case"subscription_confirmed":console.log("Subscription confirmed:",t.data);break;case"unsubscription_confirmed":console.log("Unsubscription confirmed:",t.data);break;case"model_update":this.handleModelUpdate(t);break;case"system_notification":this.emit("system_notification",t);break;case"alert":this.handleAlert(t);break;case"drift_report":this.emit("drift_alert",t.data);break;case"model_drift_report":this.emit("performance_alert",t.data);break;case"pong":this.emit("pong",t);break;case"stats":this.emit("stats",t.data);break;case"error":this.emit("error",t);break;default:console.warn("Unknown WebSocket message type:",t.type)}}handleModelUpdate(t){switch(this.emit("model_update",t),t.update_type){case"prediction":this.emit("prediction_update",t);break;case"explanation":this.emit("explanation_update",t);break;case"drift_alert":this.emit("drift_alert",t);break;case"performance_alert":this.emit("performance_alert",t);break}}handleAlert(t){const a=t.data;switch(a.alert_type){case"drift":this.emit("drift_alert",a);break;case"performance":this.emit("performance_alert",a);break;default:this.emit("system_notification",{type:"system_notification",message:a.message,severity:a.severity,timestamp:a.timestamp})}}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.ping()},3e4)}scheduleReconnect(){this.reconnectTimeout&&clearTimeout(this.reconnectTimeout);const t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts);console.log(`Scheduling reconnect in ${t}ms (attempt ${this.reconnectAttempts+1})`),this.reconnectTimeout=setTimeout(()=>{this.reconnectAttempts++,this.connect(void 0,this.userId||void 0)},t)}}const ct=new Xd,Is=({modelType:r})=>{const[t,a]=y.useState([]);console.log("Models loaded:",t.length);const[s,n]=y.useState(!0),[i,l]=y.useState(null),[c,d]=y.useState(null),[m,u]=y.useState(!1),[f,h]=y.useState(!1);y.useEffect(()=>{_(),R()},[]);const _=async()=>{try{n(!0),l(null);const o=await ze.listModels();if(o.success&&o.data){a(o.data);const x=o.data.find(N=>N.model_type===r);x?d(x):o.data.length>0&&d(o.data[0])}else l(o.error||"Failed to load models")}catch(o){l(o instanceof Error?o.message:"Failed to load models")}finally{n(!1)}},R=async()=>{try{const o=await ct.connect();u(o),o&&ct.on("model_update",x=>{c&&x.model_id===c.model_id&&(h(!0),_(),setTimeout(()=>h(!1),2e3))})}catch(o){console.error("WebSocket connection failed:",o)}},v={name:"Customer Churn Prediction Model",algorithm:"Random Forest",version:"1.2.3",framework:"scikit-learn",createdDate:"2024-01-15",lastTrained:"2024-01-20",features:24,samples:1e4,accuracy:r==="classification"?.892:void 0,r2Score:r==="regression"?.847:void 0,precision:r==="classification"?.876:void 0,recall:r==="classification"?.903:void 0,f1Score:r==="classification"?.889:void 0,rmse:r==="regression"?.234:void 0,mae:r==="regression"?.187:void 0,status:"active",healthScore:94},w=c?{name:c.name,algorithm:c.framework,version:c.version,framework:c.framework,createdDate:c.created_at,lastTrained:c.created_at,features:c.feature_names.length,samples:1e4,accuracy:c.validation_metrics.accuracy||v.accuracy,r2Score:c.validation_metrics.r2_score||v.r2Score,precision:c.validation_metrics.precision||v.precision,recall:c.validation_metrics.recall||v.recall,f1Score:c.validation_metrics.f1_score||v.f1Score,rmse:c.validation_metrics.rmse||v.rmse,mae:c.validation_metrics.mae||v.mae,status:c.status,healthScore:94}:v,b={trainSamples:8e3,testSamples:2e3,features:24,missingValues:.03,duplicates:.01},g=r==="classification"?[{title:"Accuracy",value:w.accuracy,format:"percentage",icon:e.jsx(ve,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),change:2.3,changeType:"increase",color:"primary"},{title:"Precision",value:w.precision,format:"percentage",icon:e.jsx(ks,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"}),change:1.8,changeType:"increase",color:"secondary"},{title:"Recall",value:w.recall,format:"percentage",icon:e.jsx(re,{className:"w-5 h-5 text-success-600 dark:text-success-400"}),change:-.5,changeType:"decrease",color:"success"},{title:"F1 Score",value:w.f1Score,format:"percentage",icon:e.jsx(le,{className:"w-5 h-5 text-warning-600 dark:text-warning-400"}),change:1.2,changeType:"increase",color:"warning"}]:[{title:"R² Score",value:w.r2Score,format:"percentage",icon:e.jsx(ve,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),change:3.1,changeType:"increase",color:"primary"},{title:"RMSE",value:w.rmse,format:"number",icon:e.jsx(re,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"}),change:-2.7,changeType:"decrease",color:"secondary"},{title:"MAE",value:w.mae,format:"number",icon:e.jsx(ks,{className:"w-5 h-5 text-success-600 dark:text-success-400"}),change:-1.9,changeType:"decrease",color:"success"},{title:"Health Score",value:w.healthScore,format:"number",icon:e.jsx(le,{className:"w-5 h-5 text-warning-600 dark:text-warning-400"}),change:.8,changeType:"increase",color:"warning"}],p={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},j={initial:{opacity:0,y:20},animate:{opacity:1,y:0}};return s?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(da,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading model data..."})]}):i?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Ye,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Failed to Load Models"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4 text-center max-w-md",children:i}),e.jsx("button",{onClick:_,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Retry"})]}):e.jsxs(C.div,{variants:p,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:j,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Model Overview"}),e.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:["Comprehensive view of your ",r," model performance and metrics"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full ${m?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300"}`,children:[m?e.jsx(qa,{className:"w-4 h-4"}):e.jsx(sn,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:m?"Connected":"Disconnected"}),f&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-full",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium capitalize",children:w.status})]})]})]}),e.jsx(C.div,{variants:j,children:e.jsx(P,{title:"Model Information",icon:e.jsx(mt,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Model Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Name:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:w.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Algorithm:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:w.algorithm})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Version:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:w.version})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Framework:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:w.framework})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Training Info"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Created:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:w.createdDate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Last Trained:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:w.lastTrained})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Features:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:w.features})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Samples:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:vt(w.samples)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Dataset Split"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Train:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:vt(b.trainSamples)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Test:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:vt(b.testSamples)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Features:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:b.features})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Missing:"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[vt(b.missingValues*100,{precision:1}),"%"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Status"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Health Score:"}),e.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:[w.healthScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Status:"}),e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400 capitalize",children:w.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Duplicates:"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[vt(b.duplicates*100,{precision:1}),"%"]})]})]})]})]})})}),e.jsx(C.div,{variants:j,children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(o=>e.jsx(Q,{title:o.title,value:o.value,format:o.format,icon:o.icon,change:o.change,changeType:o.changeType,color:o.color,animated:!0},o.title))})}),e.jsx(C.div,{variants:j,children:e.jsx(P,{title:"Quick Actions",description:"Common tasks and shortcuts",icon:e.jsx(re,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("button",{className:"p-4 bg-primary-50 dark:bg-primary-900/20 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-800/50 rounded-lg",children:e.jsx(ve,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:"View Feature Importance"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Explore which features impact predictions most"})]})]})}),e.jsx("button",{className:"p-4 bg-secondary-50 dark:bg-secondary-900/20 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-900/30 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-secondary-100 dark:bg-secondary-800/50 rounded-lg",children:e.jsx(Pt,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:"Analyze Predictions"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Dive deep into individual predictions"})]})]})}),e.jsx("button",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg hover:bg-amber-100 dark:hover:bg-amber-900/30 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-800/50 rounded-lg",children:e.jsx(ke,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:"What-If Analysis"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Explore different scenarios and outcomes"})]})]})})]})})}),e.jsx(C.div,{variants:j,children:e.jsx(P,{title:"System Alerts",description:"Important notifications and warnings",icon:e.jsx(Ye,{className:"w-5 h-5 text-warning-600 dark:text-warning-400"}),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[e.jsx(Ye,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Model Drift Detected"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Feature distribution has changed by 12% since last training. Consider retraining."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(mt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"New Data Available"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"2,500 new samples are available for training. Schedule retraining?"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(ie,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100",children:"Performance Stable"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Model performance has remained consistent over the past 30 days."})]})]})]})})})]})},Kd=({importanceData:r,title:t="Feature Importance Analysis",subtitle:a,className:s,interactive:n=!0,showConfidenceIntervals:i=!0,defaultView:l="bar",maxFeatures:c=20,onFeatureSelect:d,allowMethodComparison:m=!0,exportable:u=!0})=>{const[f,h]=y.useState(l),[_,R]=y.useState("all"),[v,w]=y.useState(null),[b,g]=y.useState(c),[p,j]=y.useState("importance"),[o,x]=y.useState(!1),[N,k]=y.useState(new Set),T=y.useMemo(()=>["all",...Array.from(new Set(r.map(M=>M.method)))],[r]),L=y.useMemo(()=>{let O=r;return _!=="all"&&(O=O.filter(M=>M.method===_)),O=O.filter(M=>!N.has(M.feature)),O=[...O].sort((M,I)=>{switch(p){case"importance":return Math.abs(I.importance)-Math.abs(M.importance);case"alphabetical":return M.feature.localeCompare(I.feature);case"category":return(M.category||"uncategorized").localeCompare(I.category||"uncategorized");default:return 0}}),O.slice(0,b)},[r,_,N,p,b]),$=y.useMemo(()=>L.map((O,M)=>({...O,absImportance:Math.abs(O.importance),color:O.importance>=0?"#10b981":"#ef4444",index:M})),[L]),H=y.useMemo(()=>L.slice(0,Math.min(8,b)).map(M=>({feature:M.feature.length>10?M.feature.substring(0,10)+"...":M.feature,importance:Math.abs(M.importance)*100,fullName:M.feature})),[L,b]),A=y.useMemo(()=>L.map((O,M)=>({name:O.feature,size:Math.abs(O.importance)*1e3,importance:O.importance,category:O.category||"uncategorized",color:O.importance>=0?`hsl(${120+M*10}, 70%, 60%)`:`hsl(${0+M*10}, 70%, 60%)`})),[L]),U=(O,M)=>O>=0?`hsl(120, 70%, ${60-M*2}%)`:`hsl(0, 70%, ${60-M*2}%)`,E=({active:O,payload:M,label:I})=>{if(O&&M&&M.length){const S=M[0].payload;return e.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-neutral-800 p-4 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 min-w-64",children:[e.jsx("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:S.feature}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Importance:"}),e.jsx("span",{className:F("font-medium",S.importance>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:S.importance.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Method:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100 uppercase",children:S.method})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Rank:"}),e.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:["#",S.rank]})]}),S.category&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Category:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:S.category})]}),i&&S.confidenceInterval&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"95% CI:"}),e.jsxs("span",{className:"font-medium text-purple-600 dark:text-purple-400",children:["[",S.confidenceInterval[0].toFixed(3),", ",S.confidenceInterval[1].toFixed(3),"]"]})]}),S.pValue&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"p-value:"}),e.jsx("span",{className:F("font-medium",S.pValue<.01?"text-green-600 dark:text-green-400":S.pValue<.05?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:S.pValue.toFixed(4)})]})]}),S.description&&e.jsx("div",{className:"mt-3 pt-2 border-t border-neutral-200 dark:border-neutral-600",children:e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:S.description})}),n&&e.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:"Click to explore feature details"})]})}return null},B=O=>{n&&(w(O.feature),d==null||d(O.feature))},D=O=>{const M=new Set(N);M.has(O)?M.delete(O):M.add(O),k(M)},z=()=>{const O=o?"calc(100vh - 350px)":"500px";switch(f){case"bar":return e.jsx(Mt,{width:"100%",height:O,children:e.jsxs(en,{data:$,layout:"horizontal",margin:{top:20,right:30,left:100,bottom:5},children:[e.jsx(ua,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(ma,{type:"number",stroke:"#6b7280",fontSize:12}),e.jsx(xa,{type:"category",dataKey:"feature",stroke:"#6b7280",fontSize:11,width:90}),e.jsx(Rt,{content:e.jsx(E,{})}),e.jsx(Fr,{dataKey:"importance",onClick:B,style:{cursor:n?"pointer":"default"},children:$.map((M,I)=>e.jsx(gr,{fill:U(M.importance,I)},`cell-${I}`))})]})});case"radar":return e.jsx(Mt,{width:"100%",height:O,children:e.jsxs(pi,{data:H,margin:{top:40,right:40,bottom:40,left:40},children:[e.jsx(gi,{stroke:"#374151"}),e.jsx(fi,{dataKey:"feature",tick:{fontSize:12,fill:"#6b7280"}}),e.jsx(bi,{angle:90,domain:[0,"dataMax"],tick:{fontSize:10,fill:"#6b7280"}}),e.jsx(ji,{name:"Importance",dataKey:"importance",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2}),e.jsx(Rt,{content:e.jsx(E,{})})]})});case"treemap":return e.jsx(Mt,{width:"100%",height:O,children:e.jsx(hi,{data:A,dataKey:"size",stroke:"#374151",fill:"#3b82f6",children:e.jsx(Rt,{content:e.jsx(E,{})})})});default:return null}};return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:F("bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 shadow-sm",o?"fixed inset-4 z-50":"",s),children:[e.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-orange-500"}),t]}),a&&e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:a})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>x(!o),className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",children:e.jsx(Ba,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Visualization"}),e.jsxs("select",{value:f,onChange:O=>h(O.target.value),className:"w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"bar",children:"Bar Chart"}),e.jsx("option",{value:"radar",children:"Radar Chart"}),e.jsx("option",{value:"treemap",children:"Treemap"})]})]}),m&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Method"}),e.jsx("select",{value:_,onChange:O=>R(O.target.value),className:"w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:T.map(O=>e.jsx("option",{value:O,children:O==="all"?"All Methods":O.toUpperCase()},O))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Sort By"}),e.jsxs("select",{value:p,onChange:O=>j(O.target.value),className:"w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"importance",children:"Importance"}),e.jsx("option",{value:"alphabetical",children:"Alphabetical"}),e.jsx("option",{value:"category",children:"Category"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Show Features"}),e.jsx("input",{type:"range",min:"5",max:Math.min(50,r.length),value:b,onChange:O=>g(parseInt(O.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[b," features"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:"Total Features"}),e.jsx("div",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:L.length})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Positive Impact"}),e.jsx("div",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:L.filter(O=>O.importance>0).length})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 uppercase tracking-wider",children:"Negative Impact"}),e.jsx("div",{className:"text-xl font-bold text-red-900 dark:text-red-100",children:L.filter(O=>O.importance<0).length})]})]})]}),e.jsx("div",{className:"p-6",children:z()}),n&&e.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Feature Controls"}),e.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Click eye icons to show/hide features"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-40 overflow-y-auto",children:r.slice(0,20).map(O=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsx("span",{className:F("text-sm",N.has(O.feature)?"text-neutral-400 dark:text-neutral-600 line-through":"text-neutral-900 dark:text-neutral-100"),children:O.feature}),e.jsx("button",{onClick:()=>D(O.feature),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:N.has(O.feature)?e.jsx(Or,{className:"w-4 h-4"}):e.jsx(we,{className:"w-4 h-4"})})]},O.feature))})]}),e.jsx(ge,{children:v&&e.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-neutral-200 dark:border-neutral-700 p-6 bg-neutral-50 dark:bg-neutral-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:["Feature Analysis: ",v]}),e.jsx("button",{onClick:()=>w(null),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Statistical Significance:"}),e.jsxs("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:["Detailed statistical analysis for ",v]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Correlation Analysis:"}),e.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:"Correlation data and interaction effects"})]})]})]})})]})},Jd=({modelType:r})=>{const[t,a]=y.useState(""),[s,n]=y.useState("importance"),[i,l]=y.useState("desc"),[c,d]=y.useState("shap"),[m,u]=y.useState(!1),[f,h]=y.useState(null),[_,R]=y.useState([]),[v,w]=y.useState(null),b=[{name:"Customer_Age",importance:.342,type:"numerical",description:"Age of the customer in years",rank:1},{name:"Annual_Income",importance:.289,type:"numerical",description:"Annual income in thousands",rank:2},{name:"Credit_Score",importance:.156,type:"numerical",description:"Credit score (300-850)",rank:3},{name:"Account_Balance",importance:.134,type:"numerical",description:"Current account balance",rank:4},{name:"Employment_Type",importance:.098,type:"categorical",description:"Type of employment",rank:5},{name:"Loan_Amount",importance:.087,type:"numerical",description:"Requested loan amount",rank:6},{name:"Location",importance:.076,type:"categorical",description:"Geographic location",rank:7},{name:"Education_Level",importance:.065,type:"categorical",description:"Highest education level",rank:8},{name:"Marital_Status",importance:.043,type:"categorical",description:"Marital status",rank:9},{name:"Number_of_Dependents",importance:.032,type:"numerical",description:"Number of dependents",rank:10}];y.useEffect(()=>{g()},[c]);const g=async()=>{try{u(!0),h(null);const k=await ze.listModels();if(k.success&&k.data){const L=k.data.find($=>$.model_type===r);if(L){w(L.model_id);const $=await ze.getFeatureImportance(L.model_id,c);if($.success&&$.data){const H=$.data.feature_names.map((A,U)=>({name:A,importance:$.data.importance_values[U],type:"numerical",description:`Feature: ${A}`,rank:U+1}));R(H)}else R(b)}else R(b)}else R(b)}catch(k){console.error("Error loading feature importance:",k),h(k instanceof Error?k.message:"Failed to load feature importance data"),R(b)}finally{u(!1)}};y.useEffect(()=>(v&&(ct.subscribeToModel(v),ct.on("model_update",k=>{k.model_id===v&&k.update_type==="explanation"&&g()})),()=>{v&&ct.unsubscribeFromModel(v)}),[v]);const p=_.length>0?_:b,j=y.useMemo(()=>{const k=p.filter(T=>T.name.toLowerCase().includes(t.toLowerCase())||T.description.toLowerCase().includes(t.toLowerCase()));return k.sort((T,L)=>{const $=s==="importance"?T.importance:T.name,H=s==="importance"?L.importance:L.name;return i==="asc"?$>H?1:-1:$<H?1:-1}),k},[t,s,i]),o={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},x={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},N=k=>k>.2?"bg-red-500":k>.1?"bg-amber-500":k>.05?"bg-blue-500":"bg-green-500";return m?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Feature Importance"}),e.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:["Analyze which features have the greatest impact on your ",r," model's predictions"]})]})}),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(da,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading feature importance data..."})]})]}):e.jsxs(C.div,{variants:o,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:x,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Feature Importance"}),e.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:["Analyze which features have the greatest impact on your ",r," model's predictions"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(pe,{className:"w-4 h-4"}),onClick:g,disabled:m,children:m?"Loading...":"Refresh"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Pe,{className:"w-4 h-4"}),children:"Export"}),f&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[e.jsx(Ye,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Connection issue - using cached data"})]})]})]}),e.jsx(C.div,{variants:x,children:e.jsx(P,{title:"Analysis Method",icon:e.jsx(Ke,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"shap",label:"SHAP Values",desc:"Shapley Additive Explanations"},{id:"permutation",label:"Permutation Importance",desc:"Feature shuffling impact"},{id:"gain",label:"Feature Gain",desc:"Tree-based importance"}].map(k=>e.jsxs(G,{variant:c===k.id?"primary":"outline",size:"sm",onClick:()=>d(k.id),className:"flex flex-col items-start h-auto p-3",children:[e.jsx("div",{className:"font-medium",children:k.label}),e.jsx("div",{className:"text-xs opacity-70",children:k.desc})]},k.id))})})}),e.jsx(C.div,{variants:x,children:e.jsx(P,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search features...",className:"pl-10 pr-4 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500",value:t,onChange:k=>a(k.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Li,{className:"w-4 h-4"}),onClick:()=>n(s==="importance"?"name":"importance"),children:["Sort by ",s==="importance"?"Name":"Importance"]}),e.jsx(G,{variant:"outline",size:"sm",onClick:()=>l(i==="asc"?"desc":"asc"),children:i==="asc"?"↑":"↓"})]})]})})}),e.jsx(C.div,{variants:x,children:e.jsx(P,{title:"Feature Importance Chart",icon:e.jsx(ce,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-end justify-between space-x-2 h-96 p-4 bg-gradient-to-t from-neutral-50 to-transparent dark:from-neutral-900 dark:to-transparent rounded-lg",children:j.map((k,T)=>e.jsxs(C.div,{initial:{height:0,opacity:0},animate:{height:`${k.importance/.35*100}%`,opacity:1},transition:{delay:T*.1,duration:.8,ease:"easeOut"},className:"flex-1 flex flex-col items-center group cursor-pointer",style:{minHeight:"10px"},children:[e.jsx("div",{className:"relative w-full h-full max-w-16",children:e.jsxs("div",{className:`w-full h-full ${N(k.importance)} rounded-t-lg relative overflow-hidden group-hover:opacity-80 transition-opacity duration-200`,style:{minHeight:"10px"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),e.jsxs("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-neutral-900 dark:bg-neutral-100 text-white dark:text-neutral-900 px-3 py-1 rounded-lg text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:[(k.importance*100).toFixed(1),"%",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-neutral-900 dark:border-t-neutral-100"})]})]})}),e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"w-6 h-6 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-1",children:e.jsx("span",{className:"text-xs font-bold text-primary-600 dark:text-primary-400",children:k.rank})}),e.jsx("div",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300 transform -rotate-45 w-16 truncate",children:k.name.replace("_"," ")})]})]},k.name))}),e.jsx("div",{className:"absolute left-0 top-0 h-full flex flex-col justify-between py-4 -ml-12",children:[.35,.3,.25,.2,.15,.1,.05,0].map(k=>e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[(k*100).toFixed(0),"%"]},k))})]})})})}),e.jsx(C.div,{variants:x,children:e.jsx(P,{title:"Detailed Feature Analysis",icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"space-y-3",children:j.map((k,T)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.05},className:"group relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-all duration-200 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-sm font-bold text-white",children:k.rank})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 text-lg",children:k.name.replace("_"," ")}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${k.type==="numerical"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:k.type})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:k.description}),e.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[e.jsx("div",{className:"flex-1 h-2 bg-neutral-200 dark:bg-neutral-700 rounded-full overflow-hidden",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${k.importance/.35*100}%`},transition:{delay:T*.1+.5,duration:.8,ease:"easeOut"},className:`h-full ${N(k.importance)} rounded-full relative`,children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})}),e.jsx("div",{className:"text-right min-w-16",children:e.jsxs("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:[(k.importance*100).toFixed(1),"%"]})})]})]})]}),e.jsxs("div",{className:"ml-4 flex flex-col items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${k.importance>.2?"bg-red-500":k.importance>.1?"bg-amber-500":k.importance>.05?"bg-blue-500":"bg-green-500"}`}),e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:k.importance>.2?"High":k.importance>.1?"Medium":k.importance>.05?"Low":"Minimal"})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-lg pointer-events-none"})]},k.name))})})}),e.jsx(C.div,{variants:x,children:e.jsx(Kd,{importanceData:j.map((k,T)=>({feature:k.name,importance:k.importance,confidenceInterval:[k.importance*.8,k.importance*1.2],pValue:Math.random()*.05,method:c,rank:k.rank,category:k.type==="numerical"?"Numerical":"Categorical",description:k.description})),title:"Interactive Feature Importance Analysis",subtitle:"Explore feature contributions with multiple visualization modes",interactive:!0,showConfidenceIntervals:!0,defaultView:"bar",maxFeatures:20,onFeatureSelect:k=>console.log("Selected feature:",k),allowMethodComparison:!0,exportable:!0})}),e.jsx(C.div,{variants:x,children:e.jsx(P,{title:"Feature Correlation Matrix",icon:e.jsx(ce,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Correlation between top features (darker colors indicate stronger correlation)"}),e.jsxs("div",{className:"grid grid-cols-6 gap-1 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg",children:[e.jsx("div",{className:"col-span-1"}),j.slice(0,5).map(k=>e.jsx("div",{className:"text-xs text-center text-neutral-600 dark:text-neutral-400 p-1 transform -rotate-45",children:k.name.substring(0,8)},k.name)),j.slice(0,5).map((k,T)=>e.jsxs($a.Fragment,{children:[e.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 p-1 text-right",children:k.name.substring(0,8)}),j.slice(0,5).map((L,$)=>{const H=T===$?1:Math.abs(T-$)===1?.6+Math.random()*.3:Math.random()*.5;return e.jsx(C.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:(T+$)*.05},className:"aspect-square rounded flex items-center justify-center text-xs font-medium text-white cursor-pointer hover:scale-110 transition-transform",style:{backgroundColor:`rgba(59, 130, 246, ${H})`},title:`${k.name} vs ${L.name}: ${H.toFixed(2)}`,children:H.toFixed(1)},`${k.name}-${L.name}`)})]},k.name))]})]})})}),e.jsx(C.div,{variants:x,children:e.jsx(P,{title:"Summary Statistics",icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:b.length}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Total Features"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:b.filter(k=>k.type==="numerical").length}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Numerical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:b.filter(k=>k.type==="categorical").length}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Categorical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:[(b.slice(0,3).reduce((k,T)=>k+T.importance,0)*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Top 3 Impact"})]})]})})})]})},ec=()=>{const[r,t]=y.useState(.5),a={accuracy:.847,precision:.821,recall:.758,f1Score:.788,auc:.912,logLoss:.234},s={truePositive:1521,falsePositive:329,falseNegative:487,trueNegative:2163},n=s.truePositive+s.falsePositive+s.falseNegative+s.trueNegative,i=[{fpr:0,tpr:0},{fpr:.05,tpr:.32},{fpr:.12,tpr:.58},{fpr:.18,tpr:.71},{fpr:.23,tpr:.82},{fpr:.31,tpr:.89},{fpr:.42,tpr:.94},{fpr:.58,tpr:.97},{fpr:.73,tpr:.99},{fpr:1,tpr:1}],l={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},c={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},d=u=>u>=.9?"text-green-600 dark:text-green-400":u>=.8?"text-blue-600 dark:text-blue-400":u>=.7?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400",m=u=>u>=.9?"bg-green-100 dark:bg-green-900/20":u>=.8?"bg-blue-100 dark:bg-blue-900/20":u>=.7?"bg-amber-100 dark:bg-amber-900/20":"bg-red-100 dark:bg-red-900/20";return e.jsxs(C.div,{variants:l,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:c,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Classification Statistics"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Detailed analysis of classification model performance and metrics"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(de,{className:"w-4 h-4"}),children:"Settings"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Pe,{className:"w-4 h-4"}),children:"Export"})]})]}),e.jsx(C.div,{variants:c,children:e.jsx(P,{title:"Performance Metrics",icon:e.jsx(re,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(a).map(([u,f])=>e.jsx(C.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Object.keys(a).indexOf(u)*.1},className:`p-4 rounded-lg ${m(f)} transition-all hover:scale-105`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${d(f)}`,children:f.toFixed(3)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1 capitalize",children:u.replace(/([A-Z])/g," $1").trim()})]})},u))})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(C.div,{variants:c,children:e.jsx(P,{title:"Confusion Matrix",icon:e.jsx(ve,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsx("div",{}),e.jsx("div",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400",children:"Predicted"}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Negative"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Positive"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400 transform -rotate-90",children:"Actual"})}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Negative"}),e.jsx(C.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.2},className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center cursor-pointer hover:bg-green-200 dark:hover:bg-green-900/40 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:s.trueNegative}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-500",children:[(s.trueNegative/n*100).toFixed(1),"%"]})]})}),e.jsx(C.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.3},className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center cursor-pointer hover:bg-red-200 dark:hover:bg-red-900/40 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:s.falsePositive}),e.jsxs("div",{className:"text-xs text-red-600 dark:text-red-500",children:[(s.falsePositive/n*100).toFixed(1),"%"]})]})}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Positive"}),e.jsx(C.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.4},className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center cursor-pointer hover:bg-red-200 dark:hover:bg-red-900/40 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:s.falseNegative}),e.jsxs("div",{className:"text-xs text-red-600 dark:text-red-500",children:[(s.falseNegative/n*100).toFixed(1),"%"]})]})}),e.jsx(C.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5},className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center cursor-pointer hover:bg-green-200 dark:hover:bg-green-900/40 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:s.truePositive}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-500",children:[(s.truePositive/n*100).toFixed(1),"%"]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Total Samples:"}),e.jsx("span",{className:"font-medium",children:n.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Correct:"}),e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:(s.truePositive+s.trueNegative).toLocaleString()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Errors:"}),e.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:(s.falsePositive+s.falseNegative).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Error Rate:"}),e.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:[((s.falsePositive+s.falseNegative)/n*100).toFixed(1),"%"]})]})]})]})]})})}),e.jsx(C.div,{variants:c,children:e.jsx(P,{title:"ROC Curve",icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative h-64 bg-neutral-50 dark:bg-neutral-900 rounded-lg p-4",children:[e.jsxs("svg",{viewBox:"0 0 300 300",className:"w-full h-full",children:[[0,.2,.4,.6,.8,1].map(u=>e.jsxs("g",{children:[e.jsx("line",{x1:u*300,y1:0,x2:u*300,y2:300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"}),e.jsx("line",{x1:0,y1:300-u*300,x2:300,y2:300-u*300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"})]},u)),e.jsx("line",{x1:0,y1:300,x2:300,y2:0,stroke:"currentColor",strokeWidth:"2",strokeDasharray:"5,5",className:"text-neutral-400 dark:text-neutral-500"}),e.jsx(C.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2,delay:.5},d:`M ${i.map((u,f)=>`${f===0?"M":"L"} ${u.fpr*300} ${300-u.tpr*300}`).join(" ")}`,fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-primary-500"}),i.map((u,f)=>e.jsx(C.circle,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5+f*.1},cx:u.fpr*300,cy:300-u.tpr*300,r:"4",fill:"currentColor",className:"text-primary-600 hover:text-primary-700 cursor-pointer"},f))]}),e.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 text-xs text-neutral-600 dark:text-neutral-400",children:"False Positive Rate"}),e.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 -rotate-90 text-xs text-neutral-600 dark:text-neutral-400",children:"True Positive Rate"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"AUC Score:"}),e.jsx("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:a.auc.toFixed(3)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Threshold:"}),e.jsx("span",{className:"font-medium",children:r.toFixed(2)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Sensitivity:"}),e.jsx("span",{className:"font-medium",children:a.recall.toFixed(3)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Specificity:"}),e.jsx("span",{className:"font-medium",children:(s.trueNegative/(s.trueNegative+s.falsePositive)).toFixed(3)})]})]})]})]})})})]}),e.jsx(C.div,{variants:c,children:e.jsx(P,{title:"Threshold Analysis",icon:e.jsx(ce,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:["Classification Threshold: ",r.toFixed(2)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"0.0"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:r,onChange:u=>t(parseFloat(u.target.value)),className:"w-32"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"1.0"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Precision",value:a.precision,color:"blue"},{label:"Recall",value:a.recall,color:"green"},{label:"F1 Score",value:a.f1Score,color:"purple"},{label:"Accuracy",value:a.accuracy,color:"orange"}].map((u,f)=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"40",cy:"40",r:"35",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-neutral-200 dark:text-neutral-700"}),e.jsx(C.circle,{initial:{strokeDasharray:"0 220"},animate:{strokeDasharray:`${u.value*220} 220`},transition:{delay:f*.2,duration:1},cx:"40",cy:"40",r:"35",stroke:"currentColor",strokeWidth:"4",fill:"none",className:`text-${u.color}-500`})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-100",children:[(u.value*100).toFixed(0),"%"]})})]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:u.label})]},u.label))})]})})})]})},tc=()=>{const[r,t]=y.useState("residual"),a={r2Score:.847,mse:142.3,rmse:11.9,mae:8.7,mape:12.4,adjustedR2:.841},s=Array.from({length:100},()=>{const d=20+Math.random()*100,m=(Math.random()-.5)*30,u=d+m;return{fitted:d,residual:m,actual:u,predicted:d}}),n={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},i={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},l=(d,m)=>d==="r2Score"||d==="adjustedR2"?m>=.9?"text-green-600 dark:text-green-400":m>=.8?"text-blue-600 dark:text-blue-400":m>=.7?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400":m<=5?"text-green-600 dark:text-green-400":m<=15?"text-blue-600 dark:text-blue-400":m<=25?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400",c=(d,m)=>d==="r2Score"||d==="adjustedR2"?m>=.9?"bg-green-100 dark:bg-green-900/20":m>=.8?"bg-blue-100 dark:bg-blue-900/20":m>=.7?"bg-amber-100 dark:bg-amber-900/20":"bg-red-100 dark:bg-red-900/20":m<=5?"bg-green-100 dark:bg-green-900/20":m<=15?"bg-blue-100 dark:bg-blue-900/20":m<=25?"bg-amber-100 dark:bg-amber-900/20":"bg-red-100 dark:bg-red-900/20";return e.jsxs(C.div,{variants:n,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:i,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Regression Statistics"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Comprehensive analysis of regression model performance and residuals"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(de,{className:"w-4 h-4"}),children:"Settings"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Pe,{className:"w-4 h-4"}),children:"Export"})]})]}),e.jsx(C.div,{variants:i,children:e.jsx(P,{title:"Regression Metrics",icon:e.jsx(re,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(a).map(([d,m])=>e.jsx(C.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Object.keys(a).indexOf(d)*.1},className:`p-4 rounded-lg ${c(d,m)} transition-all hover:scale-105`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${l(d,m)}`,children:d.includes("r2")||d.includes("R2")?m.toFixed(3):d==="mape"?`${m.toFixed(1)}%`:m.toFixed(1)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:d==="r2Score"?"R² Score":d==="adjustedR2"?"Adj. R²":d==="mse"?"MSE":d==="rmse"?"RMSE":d==="mae"?"MAE":d==="mape"?"MAPE":d})]})},d))})})}),e.jsx(C.div,{variants:i,children:e.jsx(P,{title:"Diagnostic Plots",icon:e.jsx(ce,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"residual",label:"Residual Plot",desc:"Residuals vs Fitted"},{id:"qq",label:"Q-Q Plot",desc:"Normal Q-Q"},{id:"predicted",label:"Predicted vs Actual",desc:"Scatter Plot"},{id:"histogram",label:"Residual Distribution",desc:"Histogram"}].map(d=>e.jsxs(G,{variant:r===d.id?"primary":"outline",size:"sm",onClick:()=>t(d.id),className:"flex flex-col items-start h-auto p-3",children:[e.jsx("div",{className:"font-medium text-sm",children:d.label}),e.jsx("div",{className:"text-xs opacity-70",children:d.desc})]},d.id))}),e.jsxs("div",{className:"relative h-96 bg-neutral-50 dark:bg-neutral-900 rounded-lg p-4",children:[r==="residual"&&e.jsxs("div",{className:"h-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Residual vs Fitted Plot"}),e.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full h-full",children:[[0,.25,.5,.75,1].map(d=>e.jsxs("g",{children:[e.jsx("line",{x1:d*400,y1:0,x2:d*400,y2:300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"}),e.jsx("line",{x1:0,y1:d*300,x2:400,y2:d*300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"})]},d)),e.jsx("line",{x1:0,y1:150,x2:400,y2:150,stroke:"currentColor",strokeWidth:"2",className:"text-red-500"}),s.map((d,m)=>e.jsx(C.circle,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:m*.01},cx:d.fitted/120*400,cy:150-d.residual/30*100,r:"3",fill:"currentColor",className:"text-blue-500 opacity-70 hover:opacity-100"},m))]})]}),r==="predicted"&&e.jsxs("div",{className:"h-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Predicted vs Actual Values"}),e.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full h-full",children:[[0,.25,.5,.75,1].map(d=>e.jsxs("g",{children:[e.jsx("line",{x1:d*400,y1:0,x2:d*400,y2:300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"}),e.jsx("line",{x1:0,y1:d*300,x2:400,y2:d*300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"})]},d)),e.jsx("line",{x1:0,y1:300,x2:400,y2:0,stroke:"currentColor",strokeWidth:"2",strokeDasharray:"5,5",className:"text-red-500"}),s.map((d,m)=>e.jsx(C.circle,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:m*.01},cx:d.predicted/120*400,cy:300-d.actual/120*300,r:"3",fill:"currentColor",className:"text-green-500 opacity-70 hover:opacity-100"},m))]})]}),r==="histogram"&&e.jsxs("div",{className:"h-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Residual Distribution"}),e.jsx("div",{className:"flex items-end justify-center h-64 space-x-1",children:Array.from({length:20},(d,m)=>{const u=Math.max(10,Math.random()*200);return e.jsx(C.div,{initial:{height:0},animate:{height:`${u}px`},transition:{delay:m*.05,duration:.5},className:"w-4 bg-primary-500 rounded-t"},m)})})]}),r==="qq"&&e.jsxs("div",{className:"h-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Q-Q Plot (Normal Distribution)"}),e.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full h-full",children:[[0,.25,.5,.75,1].map(d=>e.jsxs("g",{children:[e.jsx("line",{x1:d*400,y1:0,x2:d*400,y2:300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"}),e.jsx("line",{x1:0,y1:d*300,x2:400,y2:d*300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"})]},d)),e.jsx("line",{x1:0,y1:300,x2:400,y2:0,stroke:"currentColor",strokeWidth:"2",className:"text-red-500"}),Array.from({length:50},(d,m)=>{const u=m/50*400,f=300-m/50*300+(Math.random()-.5)*40;return e.jsx(C.circle,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:m*.02},cx:u,cy:f,r:"3",fill:"currentColor",className:"text-purple-500 opacity-70 hover:opacity-100"},m)})]})]})]})]})})}),e.jsx(C.div,{variants:i,children:e.jsx(P,{title:"Performance Summary",icon:e.jsx(ve,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Model Quality"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Explained Variance:"}),e.jsxs("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[(a.r2Score*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Model Fit:"}),e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"Excellent"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Overfitting Risk:"}),e.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:Math.abs(a.r2Score-a.adjustedR2)<.02?"Low":"Medium"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Error Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Average Error:"}),e.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:a.mae.toFixed(1)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Prediction Spread:"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:["±",a.rmse.toFixed(1)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Relative Error:"}),e.jsxs("span",{className:"font-medium text-amber-600 dark:text-amber-400",children:[a.mape.toFixed(1),"%"]})]})]})]})]})})})]})},ac=({modelType:r})=>{const[t,a]=y.useState("inst-1"),[s,n]=y.useState(""),[i,l]=y.useState("prediction"),c=[{id:"inst-1",features:{Customer_Age:35,Annual_Income:75e3,Credit_Score:720,Employment_Type:"Full-time",Account_Balance:15e3,Loan_Amount:5e4,Education_Level:"Bachelor",Marital_Status:"Married"},prediction:.76,actualValue:1,shapValues:{Customer_Age:.08,Annual_Income:.15,Credit_Score:.12,Employment_Type:.09,Account_Balance:.06,Loan_Amount:-.04,Education_Level:.03,Marital_Status:.02},baseValue:.51,confidence:.89},{id:"inst-2",features:{Customer_Age:28,Annual_Income:45e3,Credit_Score:650,Employment_Type:"Part-time",Account_Balance:3e3,Loan_Amount:25e3,Education_Level:"High School",Marital_Status:"Single"},prediction:.34,actualValue:0,shapValues:{Customer_Age:-.05,Annual_Income:-.08,Credit_Score:-.06,Employment_Type:-.07,Account_Balance:-.03,Loan_Amount:-.02,Education_Level:-.04,Marital_Status:-.01},baseValue:.51,confidence:.78},{id:"inst-3",features:{Customer_Age:42,Annual_Income:95e3,Credit_Score:780,Employment_Type:"Full-time",Account_Balance:25e3,Loan_Amount:75e3,Education_Level:"Master",Marital_Status:"Married"},prediction:.89,actualValue:1,shapValues:{Customer_Age:.12,Annual_Income:.18,Credit_Score:.15,Employment_Type:.08,Account_Balance:.09,Loan_Amount:-.03,Education_Level:.05,Marital_Status:.02},baseValue:.51,confidence:.94}],d=c.find(v=>v.id===t),m=y.useMemo(()=>{if(!d)return[];const v=Object.entries(d.shapValues).map(([w,b])=>({feature:w,value:d.features[w],shapValue:b,contribution:Math.abs(b),rank:0}));return v.sort((w,b)=>b.contribution-w.contribution),v.forEach((w,b)=>{w.rank=b+1}),v},[d]),u=y.useMemo(()=>{const v=c.filter(w=>w.id.includes(s)||Object.values(w.features).some(b=>String(b).toLowerCase().includes(s.toLowerCase())));return v.sort((w,b)=>i==="prediction"?b.prediction-w.prediction:b.confidence-w.confidence),v},[s,i]),f={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},h={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},_=v=>v>0?"text-green-600 dark:text-green-400":v<0?"text-red-600 dark:text-red-400":"text-neutral-600 dark:text-neutral-400",R=v=>v>0?"bg-green-500":v<0?"bg-red-500":"bg-neutral-500";return e.jsxs(C.div,{variants:f,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:h,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Individual Predictions"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Analyze individual prediction explanations using SHAP values"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(pe,{className:"w-4 h-4"}),children:"Refresh"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Pe,{className:"w-4 h-4"}),children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(C.div,{variants:h,children:e.jsx(P,{title:"Select Instance",icon:e.jsx(Ke,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search instances...",className:"w-full pl-10 pr-4 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",value:s,onChange:v=>n(v.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:i==="prediction"?"primary":"outline",size:"sm",onClick:()=>l("prediction"),children:"By Prediction"}),e.jsx(G,{variant:i==="confidence"?"primary":"outline",size:"sm",onClick:()=>l("confidence"),children:"By Confidence"})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map(v=>e.jsx("div",{onClick:()=>a(v.id),className:`p-3 rounded-lg border cursor-pointer transition-colors ${t===v.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-800"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-sm text-neutral-900 dark:text-neutral-100",children:["Instance ",v.id.split("-")[1]]}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["Age: ",v.features.Customer_Age,", Income: $",v.features.Annual_Income]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-bold text-neutral-900 dark:text-neutral-100",children:r==="classification"?`${(v.prediction*100).toFixed(1)}%`:v.prediction.toFixed(3)}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[(v.confidence*100).toFixed(1),"% conf"]})]})]})},v.id))})]})})}),e.jsxs(C.div,{variants:h,className:"lg:col-span-2 space-y-6",children:[e.jsx(P,{title:"Prediction Summary",icon:e.jsx(ve,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:r==="classification"?`${(d.prediction*100).toFixed(1)}%`:d.prediction.toFixed(3)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Prediction"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:d.actualValue!==void 0?d.actualValue:"N/A"}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Actual"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:[(d.confidence*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Confidence"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:d.baseValue.toFixed(3)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Base Value"})]})]})}),e.jsx(P,{title:"SHAP Waterfall Chart",icon:e.jsx(ce,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-600 dark:text-neutral-400",children:[e.jsx("span",{children:"Base Value"}),e.jsx("span",{className:"font-mono",children:d.baseValue.toFixed(3)})]}),e.jsx("div",{className:"space-y-3",children:m.map((v,w)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.1},className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-32 text-sm text-neutral-900 dark:text-neutral-100 font-medium",children:v.feature}),e.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[e.jsxs("div",{className:"relative flex-1 h-8 bg-neutral-200 dark:bg-neutral-700 rounded-lg overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 h-full ${R(v.shapValue)} transition-all duration-500`,style:{width:`${Math.abs(v.shapValue)*400}px`,maxWidth:"100%",left:v.shapValue>0?"50%":"auto",right:v.shapValue<0?"50%":"auto"}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-medium text-white",children:[v.shapValue>0?"+":"",v.shapValue.toFixed(3)]})})]}),e.jsx("div",{className:"w-20 text-sm text-neutral-600 dark:text-neutral-400",children:typeof v.value=="number"?v.value.toFixed(0):v.value})]})]},v.feature))}),e.jsxs("div",{className:"flex items-center justify-between text-sm font-bold text-neutral-900 dark:text-neutral-100 pt-2 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsx("span",{children:"Final Prediction"}),e.jsx("span",{className:"font-mono",children:d.prediction.toFixed(3)})]})]})}),e.jsx(P,{title:"Feature Contributions",icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"space-y-3",children:m.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-primary-600 dark:text-primary-400",children:v.rank})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:v.feature}),e.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Value: ",typeof v.value=="number"?v.value.toFixed(0):v.value]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${_(v.shapValue)}`,children:[v.shapValue>0?"+":"",v.shapValue.toFixed(3)]}),e.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:v.shapValue>0?"increases":"decreases"})]})]},v.feature))})})]})]})]})},rc=({features:r,onFeatureChange:t,onRunAnalysis:a,scenarios:s,counterfactuals:n=[],originalPrediction:i,modelType:l,className:c,interactive:d=!0})=>{const[m,u]=y.useState(null),[f,h]=y.useState(!1),[_,R]=y.useState("builder"),[v,w]=y.useState(new Set),[b,g]=y.useState(!1),[p,j]=y.useState(!1),o=y.useMemo(()=>r.map(E=>{const B=Math.random()*.5;return{...E,impactScore:B,sensitivity:B>.3?"high":B>.15?"medium":"low"}}),[r]),x=y.useMemo(()=>s.map((E,B)=>({name:E.name,prediction:E.prediction,confidence:E.confidence,index:B,originalPrediction:i,difference:E.prediction-i})),[s,i]),N=y.useCallback((E,B)=>{t(E,B)},[t]),k=async()=>{h(!0);try{const E=await a(r);u({id:`scenario_${Date.now()}`,name:`Scenario ${s.length+1}`,features:[...r],prediction:E.prediction,confidence:E.confidence,createdAt:new Date().toISOString(),status:"completed"})}catch(E){console.error("Analysis failed:",E)}finally{h(!1)}},T=()=>{r.forEach(E=>{t(E.name,E.originalValue)})},L=E=>{var B;switch(E.type){case"numerical":return e.jsx("input",{type:"range",min:E.min||0,max:E.max||100,step:E.step||1,value:E.value,onChange:D=>N(E.name,parseFloat(D.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer"});case"categorical":return e.jsx("select",{value:E.value,onChange:D=>N(E.name,D.target.value),className:"w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:(B=E.options)==null?void 0:B.map(D=>e.jsx("option",{value:D,children:D},D))});case"boolean":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:E.value,onChange:D=>N(E.name,D.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:E.value?"True":"False"})]});default:return null}},$=({active:E,payload:B,label:D})=>{if(E&&B&&B.length){const z=B[0].payload;return e.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-neutral-800 p-4 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700",children:[e.jsx("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:z.name}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Prediction:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:l==="classification"?`${(z.prediction*100).toFixed(1)}%`:z.prediction.toFixed(3)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Confidence:"}),e.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[(z.confidence*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Change:"}),e.jsxs("span",{className:F("font-medium",z.difference>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[z.difference>0?"+":"",z.difference.toFixed(3)]})]})]})]})}return null},H=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Current Prediction"}),e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mt-2",children:l==="classification"?`${(i*100).toFixed(1)}%`:i.toFixed(3)})]}),e.jsx(ve,{className:"w-12 h-12 text-blue-500"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx(nn,{className:"w-5 h-5"}),"Feature Controls"]}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.map(E=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:E.name}),e.jsxs("span",{className:F("px-2 py-1 rounded-full text-xs font-medium",E.sensitivity==="high"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":E.sensitivity==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"),children:[E.sensitivity," impact"]})]}),e.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:typeof E.value=="number"?E.value.toFixed(2):String(E.value)})]}),L(E),E.description&&e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-2",children:E.description})]},E.name))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5"}),"Impact Analysis"]}),e.jsx("div",{style:{width:"100%",height:"300px"},children:e.jsx(Mt,{width:"100%",height:"100%",children:e.jsxs(en,{data:o.slice(0,10),children:[e.jsx(ua,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(ma,{dataKey:"name",stroke:"#6b7280",fontSize:12,angle:-45,textAnchor:"end",height:100}),e.jsx(xa,{stroke:"#6b7280",fontSize:12}),e.jsx(Rt,{}),e.jsx(Fr,{dataKey:"impactScore",fill:"#3b82f6",children:o.slice(0,10).map((E,B)=>e.jsx(gr,{fill:E.sensitivity==="high"?"#ef4444":E.sensitivity==="medium"?"#f59e0b":"#10b981"},`cell-${B}`))})]})})})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:k,disabled:f,className:F("flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium transition-all",f?"opacity-50 cursor-not-allowed":"hover:bg-blue-700 transform hover:scale-105"),children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Running Analysis..."]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"w-4 h-4"}),"Run What-If Analysis"]})}),e.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:[e.jsx(ga,{className:"w-4 h-4"}),"Reset to Original"]})]})]}),A=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Scenario Comparison"}),e.jsx("div",{style:{width:"100%",height:"300px"},children:e.jsx(Mt,{width:"100%",height:"100%",children:e.jsxs(yi,{data:x,children:[e.jsx(ua,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(ma,{dataKey:"confidence",stroke:"#6b7280",fontSize:12,label:{value:"Confidence",position:"insideBottom",offset:-5}}),e.jsx(xa,{dataKey:"prediction",stroke:"#6b7280",fontSize:12,label:{value:"Prediction",angle:-90,position:"insideLeft"}}),e.jsx(Rt,{content:e.jsx($,{})}),e.jsx(tn,{y:i,stroke:"#ef4444",strokeDasharray:"5 5",label:{value:"Original",position:"topLeft"}}),e.jsx(vi,{dataKey:"prediction",fill:"#3b82f6",children:x.map((E,B)=>e.jsx(gr,{fill:E.difference>0?"#10b981":"#ef4444"},`cell-${B}`))})]})})})]}),e.jsx("div",{className:"space-y-3",children:s.map((E,B)=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},className:"p-4 bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:E.name}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Created: ",new Date(E.createdAt).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:l==="classification"?`${(E.prediction*100).toFixed(1)}%`:E.prediction.toFixed(3)}),e.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[(E.confidence*100).toFixed(1),"% confidence"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[E.status==="completed"&&e.jsx(ie,{className:"w-5 h-5 text-green-500"}),E.status==="running"&&e.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),E.status==="failed"&&e.jsx(fa,{className:"w-5 h-5 text-red-500"})]})]})]})},E.id))})]}),U=()=>e.jsx("div",{className:"space-y-6",children:n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ye,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"No counterfactual examples available. Run what-if analyses to generate suggestions."})]}):n.map((E,B)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},className:"p-6 bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h5",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:["Counterfactual Example #",B+1]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Feasibility: "}),e.jsxs("span",{className:F("font-medium",E.feasibility>.7?"text-green-600":E.feasibility>.4?"text-yellow-600":"text-red-600"),children:[(E.feasibility*100).toFixed(0),"%"]})]}),e.jsx(sa,{className:"w-4 h-4 text-neutral-400"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:"Original"}),e.jsx("div",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:l==="classification"?`${(E.originalPrediction*100).toFixed(1)}%`:E.originalPrediction.toFixed(3)})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(sa,{className:"w-6 h-6 text-blue-500"})}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Target"}),e.jsx("div",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:l==="classification"?`${(E.targetPrediction*100).toFixed(1)}%`:E.targetPrediction.toFixed(3)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:"Required Changes:"}),E.changedFeatures.map((D,z)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 dark:bg-neutral-700 rounded",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:D.feature}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:String(D.originalValue)}),e.jsx(sa,{className:"w-3 h-3 text-neutral-400"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:String(D.newValue)})]})]},z))]})]},B))});return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:F("bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 shadow-sm",b?"fixed inset-4 z-50":"",c),children:[e.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx(Ve,{className:"w-5 h-5 text-orange-500"}),"What-If Analysis"]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:"Explore counterfactual scenarios and understand feature impacts"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(!p),className:F("px-3 py-1 text-sm rounded-md transition-colors",p?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400"),children:"Comparison Mode"}),e.jsx("button",{onClick:()=>g(!b),className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",children:e.jsx(Ba,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex gap-1 mt-4",children:[{key:"builder",label:"Scenario Builder",icon:de},{key:"scenarios",label:"Scenarios",icon:ve},{key:"counterfactuals",label:"Counterfactuals",icon:sa}].map(({key:E,label:B,icon:D})=>e.jsxs("button",{onClick:()=>R(E),className:F("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",_===E?"bg-blue-500 text-white shadow-lg":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:[e.jsx(D,{className:"w-4 h-4"}),B]},E))})]}),e.jsx("div",{className:"p-6",children:e.jsxs(ge,{mode:"wait",children:[_==="builder"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:H()},"builder"),_==="scenarios"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:A()},"scenarios"),_==="counterfactuals"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:U()},"counterfactuals")]})})]})},sc=({modelType:r})=>{const[t,a]=y.useState([{name:"Customer_Age",type:"numerical",value:35,min:18,max:80,description:"Age of customer"},{name:"Annual_Income",type:"numerical",value:75e3,min:2e4,max:2e5,description:"Annual income in USD"},{name:"Credit_Score",type:"numerical",value:720,min:300,max:850,description:"Credit score"},{name:"Employment_Type",type:"categorical",value:"Full-time",options:["Full-time","Part-time","Self-employed","Unemployed"],description:"Employment status"},{name:"Education_Level",type:"categorical",value:"Bachelor",options:["High School","Bachelor","Master","PhD"],description:"Education level"}]),[s,n]=y.useState(.76),[i,l]=y.useState(.89),[c,d]=y.useState([]),[m,u]=y.useState(!1),f=p=>{var L,$,H;const j=(L=p.find(A=>A.name==="Customer_Age"))==null?void 0:L.value,o=($=p.find(A=>A.name==="Annual_Income"))==null?void 0:$.value,x=(H=p.find(A=>A.name==="Credit_Score"))==null?void 0:H.value,N=j*.01+o*2e-6+x*.001,k=Math.min(Math.max(N*.8,.1),.95),T=Math.min(Math.max(N*.9,.6),.98);return{prediction:k,confidence:T}},h=(p,j)=>{a(o=>o.map(x=>x.name===p?{...x,value:j}:x))},_=()=>{u(!0),setTimeout(()=>{const{prediction:p,confidence:j}=f(t);n(p),l(j),u(!1)},1e3)},R=()=>{a([{name:"Customer_Age",type:"numerical",value:35,min:18,max:80,description:"Age of customer"},{name:"Annual_Income",type:"numerical",value:75e3,min:2e4,max:2e5,description:"Annual income in USD"},{name:"Credit_Score",type:"numerical",value:720,min:300,max:850,description:"Credit score"},{name:"Employment_Type",type:"categorical",value:"Full-time",options:["Full-time","Part-time","Self-employed","Unemployed"],description:"Employment status"},{name:"Education_Level",type:"categorical",value:"Bachelor",options:["High School","Bachelor","Master","PhD"],description:"Education level"}])},v=()=>{const p={id:Date.now().toString(),name:`Scenario ${c.length+1}`,features:[...t],prediction:s,confidence:i,timestamp:new Date};d(j=>[...j,p])};y.useEffect(()=>{_()},[t]);const w={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},b={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},g=p=>r==="classification"?p>.7?"text-green-500":p>.5?"text-amber-500":"text-red-500":"text-blue-500";return e.jsxs(C.div,{variants:w,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:b,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"What-If Analysis"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Interactive scenario analysis to explore how changes in features affect predictions"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(ga,{className:"w-4 h-4"}),onClick:R,children:"Reset"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(ba,{className:"w-4 h-4"}),onClick:v,children:"Save Scenario"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(C.div,{variants:b,className:"lg:col-span-2",children:e.jsx(P,{title:"Feature Controls",icon:e.jsx(nn,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"space-y-6",children:t.map((p,j)=>{var o;return e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.1},className:"border-b border-neutral-200 dark:border-neutral-700 pb-4 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:p.name}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:p.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-neutral-900 dark:text-neutral-100",children:p.value}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:p.type})]})]}),p.type==="numerical"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:p.min,max:p.max,value:p.value,onChange:x=>h(p.name,parseFloat(x.target.value)),className:"w-full h-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 dark:text-neutral-400",children:[e.jsx("span",{children:p.min}),e.jsx("span",{children:p.max})]})]}):e.jsx("select",{value:p.value,onChange:x=>h(p.name,x.target.value),className:"w-full p-2 border border-neutral-200 dark:border-neutral-700 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:(o=p.options)==null?void 0:o.map(x=>e.jsx("option",{value:x,children:x},x))})]},p.name)})})})}),e.jsxs(C.div,{variants:b,className:"space-y-6",children:[e.jsx(P,{title:"Current Prediction",icon:e.jsx(Ve,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 mx-auto border-4 border-neutral-200 dark:border-neutral-700 rounded-full flex items-center justify-center",children:e.jsx("div",{className:`text-2xl font-bold ${g(s)}`,children:r==="classification"?`${(s*100).toFixed(1)}%`:s.toFixed(3)})}),m&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-24 w-24 border-2 border-primary-500 border-t-transparent"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:r==="classification"?"Approval Probability":"Predicted Value"}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:["Confidence: ",(i*100).toFixed(1),"%"]})]})]})}),e.jsx(P,{title:"Impact Analysis",icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"space-y-3",children:t.slice(0,3).map((p,j)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:p.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-12 h-1 bg-neutral-200 dark:bg-neutral-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${(j+1)*30}%`}})}),e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:((j+1)*.1).toFixed(1)})]})]},p.name))})})]})]}),e.jsx(C.div,{variants:b,children:e.jsx(rc,{features:t.map(p=>({...p,originalValue:p.value,impact:Math.random()>.5?"high":Math.random()>.5?"medium":"low"})),onFeatureChange:h,onRunAnalysis:async p=>{const{prediction:j,confidence:o}=f(p);return{prediction:j,confidence:o}},scenarios:c.map(p=>({id:p.id,name:p.name,features:p.features.map(j=>({...j,originalValue:j.value,impact:Math.random()>.5?"high":Math.random()>.5?"medium":"low"})),prediction:p.prediction,confidence:p.confidence,createdAt:p.timestamp.toISOString(),status:"completed"})),counterfactuals:[{originalPrediction:.3,targetPrediction:.8,changedFeatures:[{feature:"Credit_Score",originalValue:650,newValue:750,changeType:"increase"},{feature:"Annual_Income",originalValue:45e3,newValue:85e3,changeType:"increase"}],feasibility:.75,actionability:.65}],originalPrediction:s,modelType:r,interactive:!0})}),c.length>0&&e.jsx(C.div,{variants:b,children:e.jsx(P,{title:"Saved Scenarios",icon:e.jsx(Fi,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(p=>e.jsxs("div",{className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:p.name}),e.jsx("div",{className:`text-sm font-bold ${g(p.prediction)}`,children:r==="classification"?`${(p.prediction*100).toFixed(1)}%`:p.prediction.toFixed(3)})]}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:p.timestamp.toLocaleString()})]},p.id))})})})]})},nc=({modelType:r})=>{var R,v,w,b;const[t,a]=y.useState("Annual_Income"),[s,n]=y.useState("partial"),[i,l]=y.useState(""),c=[{name:"Annual_Income",type:"numerical",description:"Annual income in thousands",importance:.289},{name:"Credit_Score",type:"numerical",description:"Credit score (300-850)",importance:.156},{name:"Customer_Age",type:"numerical",description:"Age of the customer in years",importance:.342},{name:"Account_Balance",type:"numerical",description:"Current account balance",importance:.134},{name:"Loan_Amount",type:"numerical",description:"Requested loan amount",importance:.087},{name:"Employment_Type",type:"categorical",description:"Type of employment",importance:.098},{name:"Location",type:"categorical",description:"Geographic location",importance:.076},{name:"Education_Level",type:"categorical",description:"Highest education level",importance:.065}],d=y.useMemo(()=>c.filter(g=>g.name.toLowerCase().includes(i.toLowerCase())||g.description.toLowerCase().includes(i.toLowerCase())).sort((g,p)=>p.importance-g.importance),[i]),m=c.find(g=>g.name===t),u=y.useMemo(()=>m?m.type==="numerical"?Array.from({length:50},(g,p)=>{const j=p/49*100+20,o=.5,x=m.importance*(j-60)/60,N=(Math.random()-.5)*.1,k=Math.max(0,Math.min(1,o+x+N));return{value:j,prediction:k,confidence:.7+Math.random()*.3,shapValue:x+N*.5}}):["Entry Level","Mid Level","Senior Level","Executive","Freelance"].map((p,j)=>{const x=(j-2)*.15,N=(Math.random()-.5)*.05;return{value:j,prediction:Math.max(0,Math.min(1,.5+x+N)),confidence:.8+Math.random()*.2,shapValue:x+N}}):[],[t,m]),f={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},h={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},_=g=>g>.2?"bg-red-500":g>.1?"bg-amber-500":g>.05?"bg-blue-500":"bg-green-500";return e.jsxs(C.div,{variants:f,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:h,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Feature Dependence"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Explore how individual features affect model predictions across their value ranges"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(de,{className:"w-4 h-4"}),children:"Settings"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Pe,{className:"w-4 h-4"}),children:"Export"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx(C.div,{variants:h,children:e.jsx(P,{title:"Select Feature",icon:e.jsx(Ke,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search features...",className:"w-full pl-10 pr-4 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm",value:i,onChange:g=>l(g.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.map(g=>e.jsx("div",{onClick:()=>a(g.name),className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md ${t===g.name?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 shadow-sm":"border-neutral-200 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-800"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${_(g.importance)}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-neutral-900 dark:text-neutral-100",children:g.name.replace("_"," ")}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:g.description}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g.type==="numerical"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:g.type}),e.jsxs("span",{className:"text-xs font-medium text-neutral-600 dark:text-neutral-400",children:[((g.importance||0)*100).toFixed(1),"%"]})]})]})]})},g.name))})]})})}),e.jsxs(C.div,{variants:h,className:"lg:col-span-3 space-y-6",children:[e.jsx(P,{title:"Plot Type",icon:e.jsx(ce,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"partial",label:"Partial Dependence",desc:"Average effect of feature"},{id:"shap",label:"SHAP Dependence",desc:"Feature interaction effects"},{id:"ice",label:"Individual ICE",desc:"Individual conditional expectation"}].map(g=>e.jsxs(G,{variant:s===g.id?"primary":"outline",size:"sm",onClick:()=>n(g.id),className:"flex flex-col items-start h-auto p-3",children:[e.jsx("div",{className:"font-medium text-sm",children:g.label}),e.jsx("div",{className:"text-xs opacity-70",children:g.desc})]},g.id))})}),e.jsx(P,{title:`${s.toUpperCase()} Plot: ${m==null?void 0:m.name.replace("_"," ")}`,icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:m==null?void 0:m.description}),e.jsx("div",{className:"relative h-96 bg-neutral-50 dark:bg-neutral-900 rounded-lg p-4",children:e.jsxs("svg",{viewBox:"0 0 600 400",className:"w-full h-full",children:[[0,.25,.5,.75,1].map(g=>e.jsxs("g",{children:[e.jsx("line",{x1:60+g*520,y1:50,x2:60+g*520,y2:350,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"}),e.jsx("line",{x1:60,y1:50+g*300,x2:580,y2:50+g*300,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"})]},g)),e.jsx("line",{x1:60,y1:350,x2:580,y2:350,stroke:"currentColor",strokeWidth:"2",className:"text-neutral-700 dark:text-neutral-300"}),e.jsx("line",{x1:60,y1:50,x2:60,y2:350,stroke:"currentColor",strokeWidth:"2",className:"text-neutral-700 dark:text-neutral-300"}),(m==null?void 0:m.type)==="numerical"?e.jsxs(e.Fragment,{children:[e.jsx(C.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,delay:.5},d:`M ${u.map((g,p)=>`${60+p/(u.length-1)*520} ${350-g.prediction*300}`).join(" L ")}`,fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-primary-500"}),u.map((g,p)=>e.jsx(C.circle,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5+p*.02},cx:60+p/(u.length-1)*520,cy:350-g.prediction*300,r:"4",fill:"currentColor",className:"text-primary-600 hover:text-primary-700 cursor-pointer",style:{opacity:g.confidence}},p))]}):u.map((g,p)=>e.jsx(C.rect,{initial:{height:0,y:350},animate:{height:g.prediction*300,y:350-g.prediction*300},transition:{delay:p*.2,duration:.8},x:60+p*104,width:"80",fill:"currentColor",className:"text-primary-500 hover:text-primary-600 cursor-pointer",style:{opacity:g.confidence}},p)),e.jsx("text",{x:320,y:390,textAnchor:"middle",className:"text-sm fill-neutral-600 dark:fill-neutral-400",children:m==null?void 0:m.name.replace("_"," ")}),e.jsx("text",{x:30,y:200,textAnchor:"middle",className:"text-sm fill-neutral-600 dark:fill-neutral-400",transform:"rotate(-90 30 200)",children:r==="classification"?"Prediction Probability":"Prediction Value"}),[0,.25,.5,.75,1].map(g=>e.jsx("text",{x:50,y:355-g*300,textAnchor:"end",className:"text-xs fill-neutral-500 dark:fill-neutral-400",children:g.toFixed(2)},g))]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:Math.min(...u.map(g=>g.prediction)).toFixed(3)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Min Effect"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:Math.max(...u.map(g=>g.prediction)).toFixed(3)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Max Effect"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:(Math.max(...u.map(g=>g.prediction))-Math.min(...u.map(g=>g.prediction))).toFixed(3)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Range"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:[(u.reduce((g,p)=>g+p.confidence,0)/u.length*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Avg Confidence"})]})]})]})}),e.jsx(P,{title:"Feature Impact Analysis",icon:e.jsx(re,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Impact Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Feature Type:"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${(m==null?void 0:m.type)==="numerical"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:m==null?void 0:m.type})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Importance:"}),e.jsxs("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[(((m==null?void 0:m.importance)||0)*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Effect Range:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(Math.max(...u.map(g=>g.prediction))-Math.min(...u.map(g=>g.prediction))).toFixed(3)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Trend Analysis"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Trend Direction:"}),e.jsx("span",{className:`font-medium ${((R=u[u.length-1])==null?void 0:R.prediction)>((v=u[0])==null?void 0:v.prediction)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:((w=u[u.length-1])==null?void 0:w.prediction)>((b=u[0])==null?void 0:b.prediction)?"Increasing":"Decreasing"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Variability:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(m==null?void 0:m.type)==="numerical"?"Continuous":"Discrete"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Confidence:"}),e.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[(u.reduce((g,p)=>g+p.confidence,0)/u.length*100).toFixed(1),"%"]})]})]})]})]})})})]})]})]})},ic=({modelType:r})=>{const[t,a]=y.useState(["Annual_Income","Credit_Score"]),[s,n]=y.useState("heatmap"),[i,l]=y.useState(""),[c,d]=y.useState(.1),m=[{name:"Annual_Income",type:"numerical",importance:.289},{name:"Credit_Score",type:"numerical",importance:.156},{name:"Customer_Age",type:"numerical",importance:.342},{name:"Account_Balance",type:"numerical",importance:.134},{name:"Loan_Amount",type:"numerical",importance:.087},{name:"Employment_Type",type:"categorical",importance:.098},{name:"Location",type:"categorical",importance:.076},{name:"Education_Level",type:"categorical",importance:.065}],u=y.useMemo(()=>{const b=[];let g=1;for(let p=0;p<m.length;p++)for(let j=p+1;j<m.length;j++){const o=m[p],x=m[j],N=(o.importance+x.importance)/2,k=Math.random()*.5+.5,T=Math.min(1,N*k);let L="independent";T>.3?L="synergy":T>.15&&(L="redundancy");const $=(Math.random()-.5)*T;b.push({feature1:o.name,feature2:x.name,strength:T,type:L,shapInteraction:$,rank:g++})}return b.sort((p,j)=>j.strength-p.strength)},[m]),f=y.useMemo(()=>u.filter(b=>{const g=i===""||b.feature1.toLowerCase().includes(i.toLowerCase())||b.feature2.toLowerCase().includes(i.toLowerCase()),p=b.strength>=c;return g&&p}),[u,i,c]),h={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},_={initial:{opacity:0,y:20},animate:{opacity:1,y:0}},R=b=>{switch(b){case"synergy":return"text-green-600 dark:text-green-400";case"redundancy":return"text-amber-600 dark:text-amber-400";default:return"text-neutral-600 dark:text-neutral-400"}},v=(b,g)=>{const p=g;switch(b){case"synergy":return`rgba(34, 197, 94, ${p})`;case"redundancy":return`rgba(245, 158, 11, ${p})`;default:return`rgba(107, 114, 128, ${p})`}},w=b=>b>.5?"text-red-600 dark:text-red-400":b>.3?"text-amber-600 dark:text-amber-400":b>.15?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400";return e.jsxs(C.div,{variants:h,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:_,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Feature Interactions"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Discover how features interact with each other to influence predictions"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(de,{className:"w-4 h-4"}),children:"Settings"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Pe,{className:"w-4 h-4"}),children:"Export"})]})]}),e.jsx(C.div,{variants:_,children:e.jsx(P,{title:"Analysis Controls",icon:e.jsx(Ke,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"heatmap",label:"Interaction Heatmap",icon:e.jsx(Ma,{className:"w-4 h-4"})},{id:"network",label:"Network Graph",icon:e.jsx(Ir,{className:"w-4 h-4"})},{id:"pairwise",label:"Pairwise Analysis",icon:e.jsx(ce,{className:"w-4 h-4"})}].map(b=>e.jsx(G,{variant:s===b.id?"primary":"outline",size:"sm",leftIcon:b.icon,onClick:()=>n(b.id),children:b.label},b.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search feature pairs...",className:"w-full pl-10 pr-4 py-2 border border-neutral-200 dark:border-neutral-700 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500",value:i,onChange:b=>l(b.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Min Strength:"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:c,onChange:b=>d(parseFloat(b.target.value)),className:"w-24"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 min-w-12",children:c.toFixed(2)})]})]})]})})}),e.jsx(C.div,{variants:_,children:e.jsxs(P,{title:`${s==="heatmap"?"Interaction Heatmap":s==="network"?"Network Graph":"Pairwise Analysis"}`,icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:[s==="heatmap"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Color intensity represents interaction strength between feature pairs"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"inline-block min-w-full",children:e.jsxs("div",{className:"grid gap-1 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg",style:{gridTemplateColumns:`repeat(${m.length+1}, minmax(0, 1fr))`},children:[e.jsx("div",{className:"p-2"}),m.map(b=>e.jsx("div",{className:"p-2 text-xs text-center text-neutral-600 dark:text-neutral-400 transform -rotate-45 h-16 flex items-end justify-center",children:e.jsx("span",{className:"whitespace-nowrap",children:b.name.substring(0,10)})},b.name)),m.map((b,g)=>e.jsxs($a.Fragment,{children:[e.jsx("div",{className:"p-2 text-xs text-neutral-600 dark:text-neutral-400 text-right flex items-center justify-end",children:e.jsx("span",{className:"whitespace-nowrap",children:b.name.substring(0,10)})}),m.map((p,j)=>{const o=u.find(k=>k.feature1===b.name&&k.feature2===p.name||k.feature1===p.name&&k.feature2===b.name),x=g===j?1:(o==null?void 0:o.strength)||0,N=g===j?"synergy":(o==null?void 0:o.type)||"independent";return e.jsx(C.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:(g+j)*.02},className:"aspect-square rounded flex items-center justify-center text-xs font-medium text-white cursor-pointer hover:scale-110 transition-transform",style:{backgroundColor:v(N,x),minHeight:"40px"},title:`${b.name} vs ${p.name}: ${x.toFixed(2)}`,children:x.toFixed(2)},`${b.name}-${p.name}`)})]},b.name))]})})}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Synergy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-amber-500"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Redundancy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-neutral-500"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Independent"})]})]})]}),s==="network"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Network visualization of feature interactions (nodes represent features, edges represent interactions)"}),e.jsx("div",{className:"relative h-96 bg-neutral-50 dark:bg-neutral-900 rounded-lg p-4",children:e.jsxs("svg",{viewBox:"0 0 600 400",className:"w-full h-full",children:[m.map((b,g)=>{const p=g/m.length*2*Math.PI,j=300+Math.cos(p)*150,o=200+Math.sin(p)*150;return e.jsxs(C.g,{children:[e.jsx(C.circle,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:g*.1},cx:j,cy:o,r:20+b.importance*30,fill:"currentColor",className:"text-primary-500 hover:text-primary-600 cursor-pointer"}),e.jsx("text",{x:j,y:o+5,textAnchor:"middle",className:"text-xs font-medium fill-white pointer-events-none",children:b.name.substring(0,8)})]},b.name)}),f.map((b,g)=>{const p=m.findIndex($=>$.name===b.feature1),j=m.findIndex($=>$.name===b.feature2),o=p/m.length*2*Math.PI,x=j/m.length*2*Math.PI,N=300+Math.cos(o)*150,k=200+Math.sin(o)*150,T=300+Math.cos(x)*150,L=200+Math.sin(x)*150;return e.jsx(C.line,{initial:{opacity:0,pathLength:0},animate:{opacity:b.strength,pathLength:1},transition:{delay:.5+g*.05},x1:N,y1:k,x2:T,y2:L,stroke:b.type==="synergy"?"#22c55e":b.type==="redundancy"?"#f59e0b":"#6b7280",strokeWidth:2+b.strength*4,className:"hover:stroke-primary-500 cursor-pointer"},`${b.feature1}-${b.feature2}`)})]})})]}),s==="pairwise"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Select two features to analyze their interaction pattern"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(b=>e.jsx(G,{variant:t.includes(b.name)?"primary":"outline",size:"sm",onClick:()=>{const g=t.includes(b.name)?t.filter(p=>p!==b.name):[...t.slice(-1),b.name];a(g.slice(0,2))},children:b.name},b.name))}),t.length===2&&e.jsxs("div",{className:"relative h-64 bg-neutral-50 dark:bg-neutral-900 rounded-lg p-4",children:[e.jsxs("div",{className:"text-center text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:[t[0]," vs ",t[1]]}),e.jsxs("svg",{viewBox:"0 0 400 200",className:"w-full h-full",children:[[0,.25,.5,.75,1].map(b=>e.jsxs("g",{children:[e.jsx("line",{x1:b*400,y1:0,x2:b*400,y2:200,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"}),e.jsx("line",{x1:0,y1:b*200,x2:400,y2:b*200,stroke:"currentColor",strokeWidth:"0.5",className:"text-neutral-300 dark:text-neutral-600"})]},b)),Array.from({length:50},(b,g)=>{const p=Math.random()*400,j=Math.random()*200,o=u.find(x=>x.feature1===t[0]&&x.feature2===t[1]||x.feature1===t[1]&&x.feature2===t[0]);return e.jsx(C.circle,{initial:{opacity:0,scale:0},animate:{opacity:.7,scale:1},transition:{delay:g*.02},cx:p,cy:j,r:"3",fill:(o==null?void 0:o.type)==="synergy"?"#22c55e":(o==null?void 0:o.type)==="redundancy"?"#f59e0b":"#6b7280",className:"hover:opacity-100 cursor-pointer"},g)})]})]})]})]})}),e.jsx(C.div,{variants:_,children:e.jsx(P,{title:"Top Feature Interactions",icon:e.jsx(le,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsx("div",{className:"space-y-3",children:f.slice(0,10).map((b,g)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.05},className:"flex items-center justify-between p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400",children:g+1})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[b.feature1," ↔ ",b.feature2]}),e.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["SHAP Interaction: ",b.shapInteraction>0?"+":"",b.shapInteraction.toFixed(3)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-lg font-bold ${w(b.strength)}`,children:[(b.strength*100).toFixed(1),"%"]}),e.jsx("div",{className:`text-sm font-medium ${R(b.type)}`,children:b.type})]})]},`${b.feature1}-${b.feature2}`))})})}),e.jsx(C.div,{variants:_,children:e.jsx(P,{title:"Interaction Summary",icon:e.jsx(ce,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:u.filter(b=>b.type==="synergy").length}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Synergistic"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:u.filter(b=>b.type==="redundancy").length}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Redundant"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:u.filter(b=>b.type==="independent").length}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Independent"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:[(u.reduce((b,g)=>b+g.strength,0)/u.length*100).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Avg Strength"})]})]})})})]})},lc=({treeData:r,maxDepth:t=5,modelType:a,className:s,interactive:n=!0,onNodeClick:i,highlightPath:l=[],showMetrics:c=!0})=>{const[d,m]=y.useState(null),[u,f]=y.useState(""),[h,_]=y.useState(1),[R,v]=y.useState(!1),[w,b]=y.useState(t),[g,p]=y.useState(null),j=y.useRef(null),o=y.useRef(null),x=200,N=80,k=120,T=50,L=y.useMemo(()=>{const I=(S,q,V,oe)=>{const ue={...S,x:V,y:q*k+50,depth:q};if(!S.children||q>=w)return{node:ue,width:x,children:[]};const De=S.children.map((Z,ee)=>{const te=V+(ee-(S.children.length-1)/2)*(x+T);return I(Z,q+1,te)}),W=De.reduce((Z,ee)=>Z+ee.width,0)+(De.length-1)*T;return{node:ue,width:Math.max(x,W),children:De}};return I(r,0,0)},[r,w]),$=y.useMemo(()=>{const I=S=>[S.node,...S.children.flatMap(I)];return I(L)},[L]);y.useMemo(()=>u?$.filter(I=>{var S;return((S=I.feature)==null?void 0:S.toLowerCase().includes(u.toLowerCase()))||I.id.toLowerCase().includes(u.toLowerCase())||I.prediction&&String(I.prediction).toLowerCase().includes(u.toLowerCase())}):$,[$,u]);const H=I=>{n&&(m(I),i==null||i(I))},A=I=>l.includes(I.id)?"#3b82f6":I.type==="leaf"?a==="classification"?I.purity>.8?"#10b981":I.purity>.6?"#f59e0b":"#ef4444":"#10b981":"#6b7280",U=I=>(d==null?void 0:d.id)===I.id?"#1d4ed8":g===I.id?"#3b82f6":"transparent",E=I=>{const{node:S}=I,q=l.includes(S.id),V=(d==null?void 0:d.id)===S.id,oe=g===S.id;return e.jsxs("g",{children:[I.children.map((ue,De)=>e.jsxs("g",{children:[e.jsx(C.line,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,delay:S.depth*.1},x1:S.x,y1:S.y+N/2,x2:ue.node.x,y2:ue.node.y-N/2,stroke:q?"#3b82f6":"#d1d5db",strokeWidth:q?2:1,markerEnd:"url(#arrowhead)"}),e.jsx("text",{x:(S.x+ue.node.x)/2,y:(S.y+ue.node.y)/2,fill:"#6b7280",fontSize:"12",textAnchor:"middle",className:"pointer-events-none",children:S.children&&De===0?"No":"Yes"})]},`${S.id}-${ue.node.id}`)),e.jsxs(C.g,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:S.depth*.1},onClick:()=>H(S),onMouseEnter:()=>p(S.id),onMouseLeave:()=>p(null),style:{cursor:n?"pointer":"default"},children:[e.jsx("rect",{x:S.x-x/2,y:S.y-N/2,width:x,height:N,fill:A(S),fillOpacity:S.type==="leaf"?.8:.1,stroke:U(S),strokeWidth:V?3:oe?2:1,rx:8,className:"transition-all duration-200"}),e.jsx("foreignObject",{x:S.x-12,y:S.y-N/2+8,width:"24",height:"24",children:S.type==="decision"?e.jsx(at,{className:"w-6 h-6 text-gray-600"}):e.jsx(ve,{className:"w-6 h-6 text-green-600"})}),e.jsx("text",{x:S.x,y:S.y-15,fill:"#1f2937",fontSize:"12",fontWeight:"bold",textAnchor:"middle",className:"pointer-events-none",children:S.type==="decision"&&S.feature?`${S.feature} ${S.operator} ${S.threshold}`:`Prediction: ${S.prediction}`}),e.jsxs("text",{x:S.x,y:S.y,fill:"#6b7280",fontSize:"10",textAnchor:"middle",className:"pointer-events-none",children:["Samples: ",S.samples]}),c&&e.jsx("text",{x:S.x,y:S.y+15,fill:"#6b7280",fontSize:"10",textAnchor:"middle",className:"pointer-events-none",children:S.type==="leaf"?`Confidence: ${((S.confidence||0)*100).toFixed(1)}%`:`Purity: ${(S.purity*100).toFixed(1)}%`})]}),I.children.map(ue=>E(ue))]},S.id)},B=()=>{const I=$,S=Math.min(...I.map(ue=>ue.x-x/2)),q=Math.max(...I.map(ue=>ue.x+x/2)),V=Math.min(...I.map(ue=>ue.y-N/2)),oe=Math.max(...I.map(ue=>ue.y+N/2));return{width:(q-S+100)*h,height:(oe-V+100)*h,viewBox:`${S-50} ${V-50} ${q-S+100} ${oe-V+100}`}},{width:D,height:z,viewBox:O}=B(),M=()=>{if(!j.current)return;const I=new XMLSerializer().serializeToString(j.current),S=new Blob([I],{type:"image/svg+xml"}),q=URL.createObjectURL(S),V=document.createElement("a");V.href=q,V.download=`decision-tree-${Date.now()}.svg`,V.click(),URL.revokeObjectURL(q)};return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:F("bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 shadow-sm",R?"fixed inset-4 z-50":"",s),children:[e.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx(at,{className:"w-5 h-5 text-purple-500"}),"Decision Tree Visualization"]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:"Interactive exploration of model decision paths and logic"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:M,className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",title:"Export tree as SVG",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(!R),className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",children:e.jsx(Ba,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Search Nodes"}),e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-2 top-2 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",value:u,onChange:I=>f(I.target.value),placeholder:"Feature name or value...",className:"pl-8 w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Max Depth"}),e.jsx("input",{type:"range",min:"1",max:"10",value:w,onChange:I=>b(parseInt(I.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[w," levels"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Zoom Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_(Math.max(.5,h-.1)),className:"p-1 text-neutral-600 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-100",children:e.jsx(Ii,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300 min-w-16 text-center",children:[(h*100).toFixed(0),"%"]}),e.jsx("button",{onClick:()=>_(Math.min(2,h+.1)),className:"p-1 text-neutral-600 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-100",children:e.jsx(Oi,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Options"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:()=>_(1),className:"px-3 py-1 text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700",children:[e.jsx(ga,{className:"w-3 h-3 mr-1 inline"}),"Reset"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:"Total Nodes"}),e.jsx("div",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:$.length})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Leaf Nodes"}),e.jsx("div",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:$.filter(I=>I.type==="leaf").length})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Max Depth"}),e.jsx("div",{className:"text-xl font-bold text-purple-900 dark:text-purple-100",children:Math.max(...$.map(I=>I.depth))})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-orange-600 dark:text-orange-400 uppercase tracking-wider",children:"Avg Purity"}),e.jsxs("div",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:[($.filter(I=>I.type==="leaf").reduce((I,S)=>I+S.purity,0)/$.filter(I=>I.type==="leaf").length*100).toFixed(0),"%"]})]})]})]}),e.jsx("div",{ref:o,className:"p-6 overflow-auto",style:{height:R?"calc(100vh - 300px)":"600px"},children:e.jsxs("svg",{ref:j,width:D,height:z,viewBox:O,className:"border border-neutral-200 dark:border-neutral-700 rounded-lg bg-neutral-50 dark:bg-neutral-800",children:[e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",fill:"#d1d5db",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7"})})}),E(L)]})}),e.jsx(ge,{children:d&&e.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-neutral-200 dark:border-neutral-700 p-6 bg-neutral-50 dark:bg-neutral-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:["Node Details: ",d.id]}),e.jsx("button",{onClick:()=>m(null),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Type:"}),e.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100 capitalize",children:d.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Samples:"}),e.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:d.samples})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Depth:"}),e.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:d.depth})]}),d.type==="decision"&&d.feature&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Feature:"}),e.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:d.feature})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Threshold:"}),e.jsxs("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:[d.operator," ",d.threshold]})]})]}),d.type==="leaf"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Prediction:"}),e.jsx("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:d.prediction})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Confidence:"}),e.jsxs("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:[((d.confidence||0)*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Purity:"}),e.jsxs("span",{className:"ml-2 text-neutral-900 dark:text-neutral-100",children:[(d.purity*100).toFixed(1),"%"]})]})]}),d.classDistribution&&e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Class Distribution:"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.entries(d.classDistribution).map(([I,S])=>e.jsxs("div",{className:"bg-white dark:bg-neutral-700 rounded p-2 text-center",children:[e.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:I}),e.jsx("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:S})]},I))})]})]})})]})},dc=({modelType:r})=>{const[t,a]=y.useState(0),[s,n]=y.useState(3),[i,l]=y.useState([]),[c,d]=y.useState("tree"),m=(j,o,x="0")=>{const N=j>=o||Math.random()<.3,k=Math.floor(Math.random()*1e3)+100,T=Math.random()*.5;if(N)return{id:x,samples:k,impurity:T,isLeaf:!0,depth:j,prediction:r==="classification"?Math.random():Math.random()*100,class:r==="classification"?Math.random()>.5?"Approved":"Rejected":void 0};const L=["Annual_Income","Credit_Score","Customer_Age","Account_Balance","Loan_Amount"],$=L[Math.floor(Math.random()*L.length)],H=Math.random()*100+50;return{id:x,feature:$,threshold:H,samples:k,impurity:T,isLeaf:!1,depth:j,left:m(j+1,o,`${x}L`),right:m(j+1,o,`${x}R`)}},u=y.useMemo(()=>Array.from({length:5},(j,o)=>({id:o,name:`Tree ${o+1}`,accuracy:.85+Math.random()*.1,importance:.15+Math.random()*.1,tree:m(0,s)})),[s]),f=u[t],h=(j,o)=>{if(j)return{id:j.id,type:j.isLeaf?"leaf":"decision",feature:j.feature,threshold:j.threshold,operator:"<=",samples:j.samples,purity:1-j.impurity,prediction:j.prediction||j.class,confidence:.85,children:j.isLeaf?void 0:[j.left&&h(j.left,o+1),j.right&&h(j.right,o+1)].filter(Boolean),depth:o,gini:j.impurity,entropy:j.impurity*.8,classDistribution:r==="classification"?{Approved:Math.floor(j.samples*.6),Rejected:Math.floor(j.samples*.4)}:void 0}},_=j=>{const o=N=>{if(N.isLeaf)return{nodes:1,leaves:1,depths:[N.depth]};const k=N.left?o(N.left):{nodes:0,leaves:0,depths:[]},T=N.right?o(N.right):{nodes:0,leaves:0,depths:[]};return{nodes:1+k.nodes+T.nodes,leaves:k.leaves+T.leaves,depths:[...k.depths,...T.depths]}},x=o(j);return{totalNodes:x.nodes,leafNodes:x.leaves,maxDepth:Math.max(...x.depths),avgDepth:x.depths.reduce((N,k)=>N+k,0)/x.depths.length,totalSamples:j.samples}},R=_(f.tree),v=(j,o,x,N,k)=>{var $,H,A;const L=i.includes(j.id);return e.jsxs("g",{children:[N!==void 0&&k!==void 0&&e.jsx(C.line,{initial:{opacity:0,pathLength:0},animate:{opacity:1,pathLength:1},transition:{delay:j.depth*.2},x1:N,y1:k,x2:o,y2:x,stroke:L?"#3b82f6":"#6b7280",strokeWidth:L?3:2,className:"transition-all duration-200"}),e.jsxs(C.g,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:j.depth*.2+.1},className:"cursor-pointer",onClick:()=>{const U=[],E=j;for(;E;){U.push(E.id);break}l(U)},children:[e.jsx("circle",{cx:o,cy:x,r:40/2,fill:j.isLeaf?"#22c55e":"#3b82f6",stroke:L?"#1d4ed8":"#374151",strokeWidth:L?3:2,className:"transition-all duration-200 hover:stroke-primary-500"}),e.jsx("text",{x:o,y:x-5,textAnchor:"middle",className:"text-xs font-medium fill-white pointer-events-none",children:j.isLeaf?j.class||(($=j.prediction)==null?void 0:$.toFixed(1)):(H=j.feature)==null?void 0:H.substring(0,8)}),!j.isLeaf&&e.jsxs("text",{x:o,y:x+8,textAnchor:"middle",className:"text-xs fill-white pointer-events-none",children:["≤ ",(A=j.threshold)==null?void 0:A.toFixed(1)]})]}),!j.isLeaf&&e.jsxs(e.Fragment,{children:[j.left&&v(j.left,o-80,x+80,o,x),j.right&&v(j.right,o+80,x+80,o,x)]})]},j.id)},w=(j,o=[])=>{var N,k,T;if(j.isLeaf){const L=o.join(" AND "),$=j.class||((N=j.prediction)==null?void 0:N.toFixed(2));return[`IF ${L} THEN ${$}`]}const x=[];return j.left&&x.push(...w(j.left,[...o,`${j.feature} <= ${(k=j.threshold)==null?void 0:k.toFixed(2)}`])),j.right&&x.push(...w(j.right,[...o,`${j.feature} > ${(T=j.threshold)==null?void 0:T.toFixed(2)}`])),x},b=w(f.tree),g={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1}}},p={initial:{opacity:0,y:20},animate:{opacity:1,y:0}};return e.jsxs(C.div,{variants:g,initial:"initial",animate:"animate",className:"space-y-6",children:[e.jsxs(C.div,{variants:p,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Decision Trees"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Visualize and analyze decision tree structures for tree-based models"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(de,{className:"w-4 h-4"}),children:"Settings"}),e.jsx(G,{variant:"outline",size:"sm",leftIcon:e.jsx(Pe,{className:"w-4 h-4"}),children:"Export"})]})]}),e.jsx(C.div,{variants:p,children:e.jsx(P,{title:"Tree Selection & Controls",icon:e.jsx(Ke,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((j,o)=>e.jsxs(G,{variant:t===o?"primary":"outline",size:"sm",onClick:()=>a(o),className:"flex flex-col items-center h-auto p-3",children:[e.jsx("div",{className:"font-medium",children:j.name}),e.jsxs("div",{className:"text-xs opacity-70",children:["Acc: ",(j.accuracy*100).toFixed(1),"%"]})]},j.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Max Depth:"}),e.jsx("input",{type:"range",min:"2",max:"6",step:"1",value:s,onChange:j=>n(parseInt(j.target.value)),className:"w-24"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 min-w-8",children:s})]}),e.jsx("div",{className:"flex items-center space-x-2",children:[{id:"tree",label:"Tree View",icon:e.jsx(at,{className:"w-4 h-4"})},{id:"rules",label:"Decision Rules",icon:e.jsx(ce,{className:"w-4 h-4"})},{id:"stats",label:"Statistics",icon:e.jsx(le,{className:"w-4 h-4"})}].map(j=>e.jsx(G,{variant:c===j.id?"primary":"outline",size:"sm",leftIcon:j.icon,onClick:()=>d(j.id),children:j.label},j.id))})]})]})})}),e.jsx(C.div,{variants:p,children:e.jsx(lc,{treeData:{id:f.tree.id,type:f.tree.isLeaf?"leaf":"decision",feature:f.tree.feature,threshold:f.tree.threshold,operator:"<=",samples:f.tree.samples,purity:1-f.tree.impurity,prediction:f.tree.prediction||f.tree.class,confidence:.85,children:f.tree.isLeaf?void 0:[h(f.tree.left,1),h(f.tree.right,1)],depth:0,gini:f.tree.impurity,entropy:f.tree.impurity*.8,classDistribution:r==="classification"?{Approved:Math.floor(f.tree.samples*.6),Rejected:Math.floor(f.tree.samples*.4)}:void 0},maxDepth:s,modelType:r,interactive:!0,onNodeClick:j=>{console.log("Selected node:",j)},highlightPath:i,showMetrics:!0})}),e.jsx(C.div,{variants:p,children:e.jsxs(P,{title:`${f.name} - ${c==="tree"?"Tree Structure":c==="rules"?"Decision Rules":"Tree Statistics"}`,icon:e.jsx(we,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:[c==="tree"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Enhanced interactive decision tree visualization above. Traditional view below for comparison."}),e.jsx("div",{className:"relative h-96 bg-neutral-50 dark:bg-neutral-900 rounded-lg p-4 overflow-auto",children:e.jsx("svg",{viewBox:"0 0 800 400",className:"w-full h-full min-w-[800px]",children:v(f.tree,400,50)})}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Decision Node"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Leaf Node"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-0.5 bg-blue-500"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Highlighted Path"})]})]})]}),c==="rules"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Decision rules extracted from the tree structure (",b.length," rules total)"]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:b.map((j,o)=>e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.05},className:"p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xs font-bold text-primary-600 dark:text-primary-400",children:o+1})}),e.jsx("div",{className:"flex-1 font-mono text-sm text-neutral-900 dark:text-neutral-100 leading-relaxed",children:j})]})},o))})]}),c==="stats"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:R.totalNodes}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Total Nodes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:R.leafNodes}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Leaf Nodes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:R.maxDepth}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Max Depth"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:R.avgDepth.toFixed(1)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Avg Depth"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Tree Performance"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Accuracy:"}),e.jsxs("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:[(f.accuracy*100).toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Importance:"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[(f.importance*100).toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Total Samples:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:R.totalSamples.toLocaleString()})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Tree Complexity"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Node Ratio:"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[(R.leafNodes/R.totalNodes*100).toFixed(1),"% leaves"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Branching:"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[((R.totalNodes-R.leafNodes)/R.leafNodes).toFixed(2)," splits/leaf"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Depth Efficiency:"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[(R.avgDepth/R.maxDepth*100).toFixed(1),"%"]})]})]})]})]})]})]})}),e.jsx(C.div,{variants:p,children:e.jsx(P,{title:"Tree Comparison",icon:e.jsx(zi,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Compare performance and complexity across different trees in the ensemble"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx("th",{className:"text-left p-2 text-neutral-900 dark:text-neutral-100",children:"Tree"}),e.jsx("th",{className:"text-right p-2 text-neutral-900 dark:text-neutral-100",children:"Accuracy"}),e.jsx("th",{className:"text-right p-2 text-neutral-900 dark:text-neutral-100",children:"Importance"}),e.jsx("th",{className:"text-right p-2 text-neutral-900 dark:text-neutral-100",children:"Nodes"}),e.jsx("th",{className:"text-right p-2 text-neutral-900 dark:text-neutral-100",children:"Depth"}),e.jsx("th",{className:"text-right p-2 text-neutral-900 dark:text-neutral-100",children:"Leaves"})]})}),e.jsx("tbody",{children:u.map((j,o)=>{const x=_(j.tree);return e.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:o*.1},className:`border-b border-neutral-100 dark:border-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors cursor-pointer ${t===o?"bg-primary-50 dark:bg-primary-900/20":""}`,onClick:()=>a(o),children:[e.jsx("td",{className:"p-2 font-medium text-neutral-900 dark:text-neutral-100",children:j.name}),e.jsxs("td",{className:"p-2 text-right text-neutral-900 dark:text-neutral-100",children:[(j.accuracy*100).toFixed(1),"%"]}),e.jsxs("td",{className:"p-2 text-right text-neutral-900 dark:text-neutral-100",children:[(j.importance*100).toFixed(1),"%"]}),e.jsx("td",{className:"p-2 text-right text-neutral-900 dark:text-neutral-100",children:x.totalNodes}),e.jsx("td",{className:"p-2 text-right text-neutral-900 dark:text-neutral-100",children:x.maxDepth}),e.jsx("td",{className:"p-2 text-right text-neutral-900 dark:text-neutral-100",children:x.leafNodes})]},j.id)})})]})})]})})})]})},cc=()=>{const[r,t]=y.useState([]),[a,s]=y.useState([]),[n,i]=y.useState([]),[l,c]=y.useState(!0),[d,m]=y.useState({});console.log("Upload progress state:",d,m);const[u,f]=y.useState(null),[h,_]=y.useState(null),[R,v]=y.useState(""),[w,b]=y.useState("all"),[g,p]=y.useState(!1),[j,o]=y.useState({totalConnections:0,activeConnections:0,totalRecords:0,realTimeStreams:0});y.useEffect(()=>{N(),x();const D=setInterval(N,3e4);return()=>clearInterval(D)},[]);const x=y.useCallback(()=>{ct.connect(),ct.on("system_notification",D=>{(D.message.includes("dataset")||D.message.includes("data"))&&N()}),ct.on("stats",D=>{o(z=>({...z,totalConnections:D.active_connections||0,activeConnections:D.active_connections||0}))})},[]),N=async()=>{try{c(!0);const D=await ze.listDatasets();if(D.success&&D.data){t(D.data);const z=D.data.reduce((O,M)=>O+M.num_rows,0);o(O=>({...O,totalRecords:z}))}s([{id:"postgres-1",name:"Production Database",type:"database",status:"connected",lastSync:"2024-01-15T10:30:00Z",recordCount:125e4,icon:e.jsx(ke,{className:"w-5 h-5"}),description:"Main production PostgreSQL database"},{id:"api-1",name:"Customer API",type:"api",status:"connected",lastSync:"2024-01-15T10:25:00Z",recordCount:45e3,icon:e.jsx(ln,{className:"w-5 h-5"}),description:"REST API for customer data"},{id:"stream-1",name:"Event Stream",type:"stream",status:"connected",lastSync:"2024-01-15T10:35:00Z",recordCount:98e4,icon:e.jsx(re,{className:"w-5 h-5"}),description:"Real-time event streaming pipeline"}]),i([{id:"kafka-1",name:"User Events",type:"kafka",status:"active",messagesProcessed:15420,lastMessage:"2024-01-15T10:34:30Z",config:{topic:"user-events",partition:3}},{id:"kinesis-1",name:"Transaction Stream",type:"kinesis",status:"active",messagesProcessed:8930,lastMessage:"2024-01-15T10:34:45Z",config:{stream:"transactions",shard:"shard-001"}}])}catch(D){console.error("Error loading data:",D)}finally{c(!1)}},k=async D=>{const z=D.target.files;if(!(!z||z.length===0)){p(!0);for(const O of z)try{const M=await ze.uploadDataset(O,{dataset_name:O.name.replace(/\.[^/.]+$/,""),description:`Uploaded dataset from ${O.name}`});M.success?(console.log("Dataset uploaded successfully:",M.data),await N()):console.error("Upload failed:",M.error)}catch(M){console.error("Upload error:",M)}p(!1)}},T=async D=>{try{(await ze.deleteDataset(D)).success&&(t(r.filter(O=>O.dataset_id!==D)),u===D&&(f(null),_(null)))}catch(z){console.error("Delete error:",z)}},L=async D=>{try{f(D);const z=await ze.assessDataQuality(D);z.success&&z.data&&_(z.data)}catch(z){console.error("Error loading dataset details:",z)}},$=r.filter(D=>{const z=D.name.toLowerCase().includes(R.toLowerCase())||D.description.toLowerCase().includes(R.toLowerCase()),O=w==="all"||D.format===w;return z&&O}),H=D=>{switch(D){case"connected":case"active":return e.jsx($i,{className:"w-4 h-4 text-green-500"});case"disconnected":case"inactive":return e.jsx(Ye,{className:"w-4 h-4 text-red-500"});case"error":return e.jsx(he,{className:"w-4 h-4 text-red-500"});case"connecting":return e.jsx(da,{className:"w-4 h-4 text-blue-500 animate-spin"});default:return e.jsx(mt,{className:"w-4 h-4 text-gray-500"})}},A=D=>{switch(D){case"connected":case"active":return"bg-green-100 text-green-800 border-green-200";case"disconnected":case"inactive":return"bg-red-100 text-red-800 border-red-200";case"error":return"bg-red-100 text-red-800 border-red-200";case"connecting":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},U=D=>{if(D===0)return"0 B";const z=1024,O=["B","KB","MB","GB"],M=Math.floor(Math.log(D)/Math.log(z));return parseFloat((D/Math.pow(z,M)).toFixed(2))+" "+O[M]},E=D=>new Intl.NumberFormat().format(D),B=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Connectivity"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage datasets, connections, and streaming data sources"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(G,{onClick:()=>ct.getStats(),className:"flex items-center space-x-2",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh Stats"})]}),e.jsxs("label",{className:"relative",children:[e.jsx("input",{type:"file",multiple:!0,accept:".csv,.json,.parquet",onChange:k,className:"hidden",disabled:g}),e.jsxs(G,{disabled:g,className:"flex items-center space-x-2",children:[g?e.jsx(da,{className:"w-4 h-4 animate-spin"}):e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:g?"Uploading...":"Upload Dataset"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Connections"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.totalConnections})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(zr,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Connections"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.activeConnections})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(qa,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Records"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E(j.totalRecords)})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:e.jsx(ke,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Real-time Streams"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.length})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:e.jsx(re,{className:"w-6 h-6 text-orange-600"})})]})})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Sources"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(D=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[D.icon,e.jsx("h3",{className:"font-medium text-gray-900",children:D.name})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs border ${A(D.status)}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[H(D.status),e.jsx("span",{className:"capitalize",children:D.status})]})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:D.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Records:"}),e.jsx("span",{className:"font-medium",children:E(D.recordCount)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Last Sync:"}),e.jsx("span",{className:"font-medium",children:B(D.lastSync)})]})]})]},D.id))})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Real-time Streaming"}),e.jsx("div",{className:"space-y-4",children:n.map(D=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(re,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[D.type.toUpperCase()," Stream"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Messages Processed"}),e.jsx("p",{className:"font-semibold text-gray-900",children:E(D.messagesProcessed)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last Message"}),e.jsx("p",{className:"font-semibold text-gray-900",children:B(D.lastMessage)})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm border ${A(D.status)}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[H(D.status),e.jsx("span",{className:"capitalize",children:D.status})]})})]})]},D.id))})]}),e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Datasets"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search datasets...",value:R,onChange:D=>v(D.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:w,onChange:D=>b(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"csv",children:"CSV"}),e.jsx("option",{value:"json",children:"JSON"}),e.jsx("option",{value:"parquet",children:"Parquet"})]})]})]}),l?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(da,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading datasets..."})]}):$.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ke,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No datasets found. Upload your first dataset to get started."})]}):e.jsx("div",{className:"space-y-4",children:$.map(D=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(Qe,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:D.name}),e.jsx("p",{className:"text-sm text-gray-600",children:D.description||"No description"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[E(D.num_rows)," rows × ",D.num_columns," columns"]}),e.jsx("span",{className:"text-xs text-gray-500",children:U(D.size_bytes)}),e.jsx("span",{className:"text-xs text-gray-500",children:D.format.toUpperCase()})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(G,{onClick:()=>L(D.dataset_id),size:"sm",variant:"outline",className:"flex items-center space-x-1",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsxs(G,{onClick:()=>T(D.dataset_id),size:"sm",variant:"outline",className:"flex items-center space-x-1 text-red-600 hover:text-red-700",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]},D.dataset_id))})]}),e.jsx(ge,{children:u&&h&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dataset Quality Report"}),e.jsx(G,{onClick:()=>{f(null),_(null)},variant:"outline",size:"sm",children:"Close"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quality Score"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[Math.round(h.quality_score*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${h.quality_score>.8?"bg-green-500":h.quality_score>.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${h.quality_score*100}%`}})})]}),h.issues.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Data Quality Issues"}),e.jsx("div",{className:"space-y-2",children:h.issues.map((D,z)=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-red-50 rounded-lg",children:[e.jsx(he,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:D})]},z))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Dataset Overview"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Rows:"}),e.jsx("span",{className:"text-sm font-medium",children:E(h.total_rows)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Features:"}),e.jsx("span",{className:"text-sm font-medium",children:h.total_features})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Duplicate Rows:"}),e.jsx("span",{className:"text-sm font-medium",children:E(h.duplicate_rows)})]})]})]}),e.jsxs(P,{className:"p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Missing Values"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:Object.entries(h.missing_values).map(([D,z])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600 truncate",children:[D,":"]}),e.jsx("span",{className:"text-sm font-medium",children:z})]},D))})]})]})]})})})})]})},oc=({driftTimeSeries:r,featureDrifts:t,alerts:a,className:s,interactive:n=!0,onFeatureSelect:i,onAlertAcknowledge:l,refreshInterval:c=3e4})=>{const[d,m]=y.useState("overview"),[u,f]=y.useState("24h"),[h,_]=y.useState(null),[R,v]=y.useState(new Set),[w,b]=y.useState(!1),[g,p]=y.useState(!0),j=y.useMemo(()=>{const A=new Date,U={"1h":60*60*1e3,"24h":24*60*60*1e3,"7d":7*24*60*60*1e3,"30d":30*24*60*60*1e3},E=new Date(A.getTime()-U[u]);return r.filter(B=>new Date(B.timestamp)>=E)},[r,u]),o=y.useMemo(()=>{const A=a.filter(D=>D.severity==="critical"&&!D.acknowledged).length,U=a.filter(D=>D.severity==="high"&&!D.acknowledged).length,E=t.filter(D=>D.alertLevel!=="none").length,B=t.reduce((D,z)=>D+z.driftScore,0)/t.length;return{criticalAlerts:A,highAlerts:U,driftingFeatures:E,avgDriftScore:B||0,totalFeatures:t.length}},[a,t]),x=A=>{switch(A){case"increasing":return e.jsx(le,{className:"w-4 h-4 text-red-500"});case"decreasing":return e.jsx(ot,{className:"w-4 h-4 text-blue-500"});default:return e.jsx(re,{className:"w-4 h-4 text-gray-500"})}},N=({active:A,payload:U,label:E})=>{if(A&&U&&U.length){const B=U[0].payload;return e.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-neutral-800 p-4 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700",children:[e.jsx("div",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:new Date(E).toLocaleString()}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Drift Score:"}),e.jsx("span",{className:F("font-medium",B.severity==="critical"?"text-red-600":B.severity==="high"?"text-orange-600":B.severity==="medium"?"text-yellow-600":"text-green-600"),children:B.value.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Threshold:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:B.threshold.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Severity:"}),e.jsx("span",{className:F("font-medium capitalize",B.severity==="critical"?"text-red-600":B.severity==="high"?"text-orange-600":B.severity==="medium"?"text-yellow-600":"text-green-600"),children:B.severity})]}),B.featureName&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Feature:"}),e.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:B.featureName})]})]})]})}return null},k=A=>{n&&(_(A),i==null||i(A))},T=A=>{l==null||l(A)},L=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 uppercase tracking-wider",children:"Critical Alerts"}),e.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:o.criticalAlerts})]}),e.jsx(he,{className:"w-8 h-8 text-red-500"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-orange-600 dark:text-orange-400 uppercase tracking-wider",children:"Drifting Features"}),e.jsx("div",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:o.driftingFeatures})]}),e.jsx(le,{className:"w-8 h-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:"Avg Drift Score"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:o.avgDriftScore.toFixed(3)})]}),e.jsx(re,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Monitored Features"}),e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:o.totalFeatures})]}),e.jsx(Ce,{className:"w-8 h-8 text-green-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Drift Score Timeline"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:u,onChange:A=>f(A.target.value),className:"px-3 py-1 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"1h",children:"Last Hour"}),e.jsx("option",{value:"24h",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"})]})})]}),e.jsx("div",{style:{width:"100%",height:"300px"},children:e.jsx(Mt,{width:"100%",height:"100%",children:e.jsxs(js,{data:j,children:[e.jsx(ua,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(ma,{dataKey:"timestamp",type:"category",scale:"time",stroke:"#6b7280",fontSize:12,tickFormatter:A=>new Date(A).toLocaleTimeString()}),e.jsx(xa,{stroke:"#6b7280",fontSize:12}),e.jsx(Rt,{content:e.jsx(N,{})}),e.jsx(tn,{y:.05,stroke:"#ef4444",strokeDasharray:"5 5",label:{value:"Alert Threshold",position:"topLeft"}}),e.jsx(Ni,{type:"monotone",dataKey:"value",stroke:"#3b82f6",fill:"url(#driftGradient)",strokeWidth:2}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"driftGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.05})]})})]})})})]})]}),$=()=>{var A,U;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Feature Drift Heatmap"}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Click features to explore details"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map((E,B)=>e.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:B*.05},onClick:()=>k(E.feature),className:F("p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md",E.alertLevel==="critical"?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-700":E.alertLevel==="warning"?"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-700":"bg-neutral-50 border-neutral-200 dark:bg-neutral-800 dark:border-neutral-600",h===E.feature?"ring-2 ring-blue-500":""),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100 text-sm truncate",children:E.feature}),x(E.trend)]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Drift Score:"}),e.jsx("span",{className:F("font-medium",E.driftScore>.1?"text-red-600":E.driftScore>.05?"text-yellow-600":"text-green-600"),children:E.driftScore.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"p-value:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:E.pValue.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Status:"}),e.jsx("span",{className:F("font-medium capitalize",E.alertLevel==="critical"?"text-red-600":E.alertLevel==="warning"?"text-yellow-600":"text-green-600"),children:E.alertLevel==="none"?"Normal":E.alertLevel})]})]})]},E.feature))})]}),h&&e.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:["Distribution Comparison: ",h]}),e.jsx("button",{onClick:()=>_(null),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]}),e.jsx("div",{style:{width:"100%",height:"250px"},children:e.jsx(Mt,{width:"100%",height:"100%",children:e.jsxs(js,{data:((U=(A=t.find(E=>E.feature===h))==null?void 0:A.distribution)==null?void 0:U.current)||[],children:[e.jsx(ua,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(ma,{dataKey:"value",stroke:"#6b7280",fontSize:12}),e.jsx(xa,{stroke:"#6b7280",fontSize:12}),e.jsx(Rt,{}),e.jsx(Fr,{dataKey:"frequency",fill:"#3b82f6",fillOpacity:.7})]})})})]})]})},H=()=>e.jsx("div",{className:"space-y-4",children:a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"No active drift alerts. System is operating normally."})]}):a.map(A=>e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:F("p-4 rounded-lg border-l-4",A.severity==="critical"?"bg-red-50 border-red-500 dark:bg-red-900/20":A.severity==="high"?"bg-orange-50 border-orange-500 dark:bg-orange-900/20":A.severity==="medium"?"bg-yellow-50 border-yellow-500 dark:bg-yellow-900/20":"bg-blue-50 border-blue-500 dark:bg-blue-900/20",A.acknowledged?"opacity-60":""),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:F("px-2 py-1 rounded text-xs font-medium uppercase",A.severity==="critical"?"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100":A.severity==="high"?"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-100":A.severity==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100":"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100"),children:A.severity}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:A.feature}),e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:new Date(A.timestamp).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 mb-2",children:A.message}),A.suggestedAction&&e.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 bg-neutral-100 dark:bg-neutral-700 rounded p-2",children:[e.jsx("strong",{children:"Suggested Action:"})," ",A.suggestedAction]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!A.acknowledged&&e.jsx("button",{onClick:()=>T(A.id),className:"px-3 py-1 text-xs bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded hover:bg-neutral-300 dark:hover:bg-neutral-600",children:"Acknowledge"}),e.jsx(He,{className:F("w-4 h-4",A.acknowledged?"text-neutral-400":"text-orange-500")})]})]})},A.id))});return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:F("bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 shadow-sm",w?"fixed inset-4 z-50":"",s),children:[e.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx(Ve,{className:"w-5 h-5 text-yellow-500"}),"Real-time Data Drift Monitoring"]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:"Monitor feature distributions, detect concept drift, and prevent model degradation"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(!g),className:F("p-2 rounded-md transition-colors",g?"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400":"text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100"),title:g?"Disable auto-refresh":"Enable auto-refresh",children:e.jsx(ga,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(!w),className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",children:e.jsx(Ba,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex gap-1 mt-4",children:[{key:"overview",label:"Overview",icon:re},{key:"features",label:"Features",icon:Ke},{key:"alerts",label:"Alerts",icon:He}].map(({key:A,label:U,icon:E})=>e.jsxs("button",{onClick:()=>m(A),className:F("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",d===A?"bg-blue-500 text-white shadow-lg":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:[e.jsx(E,{className:"w-4 h-4"}),U,A==="alerts"&&o.criticalAlerts+o.highAlerts>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:o.criticalAlerts+o.highAlerts})]},A))})]}),e.jsx("div",{className:"p-6",children:e.jsxs(ge,{mode:"wait",children:[d==="overview"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:L()},"overview"),d==="features"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:$()},"features"),d==="alerts"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:H()},"alerts")]})})]})},uc=()=>{var I;const[r,t]=y.useState({reference:null,current:null,single:null,referencePredictions:null,currentPredictions:null,referenceLabels:null,currentLabels:null}),[a,s]=y.useState("dual"),[n,i]=y.useState(!1),[l,c]=y.useState(null),[d,m]=y.useState(null),[u,f]=y.useState(null),[h,_]=y.useState(!1),[R,v]=y.useState(!1),[w,b]=y.useState({splitRatio:.7,dropColumns:[],timeColumn:"",referenceStart:"",referenceEnd:"",currentStart:"",currentEnd:"",useTimeBasedSplit:!1,taskType:"classification"}),[g]=y.useState([{id:"postgres-prod",name:"Production Database",type:"PostgreSQL",status:"connected",icon:e.jsx(ke,{className:"w-5 h-5"}),connection:"postgresql://prod:5432/ml_data",table:"model_inputs"},{id:"api-stream",name:"ML API Stream",type:"REST API",status:"connected",icon:e.jsx(ln,{className:"w-5 h-5"}),connection:"https://api.company.com/ml/predictions",table:"predictions_log"},{id:"kafka-events",name:"Event Stream",type:"Kafka",status:"connected",icon:e.jsx(re,{className:"w-5 h-5"}),connection:"kafka://localhost:9092",table:"user_events"}]),[p,j]=y.useState(""),[o,x]=y.useState({referenceDataSource:"",referencePeriod:"7d",monitoringInterval:"1h",driftThreshold:.1,alertEnabled:!0,autoRetraining:!1}),[N]=y.useState([{id:"monitor-1",timestamp:"2024-01-15T10:30:00Z",driftDetected:!0,driftScore:.15,affectedFeatures:["age","income","location"],status:"alert_sent"},{id:"monitor-2",timestamp:"2024-01-15T09:30:00Z",driftDetected:!1,driftScore:.05,affectedFeatures:[],status:"normal"}]),k=[{timestamp:"2024-01-15T08:00:00Z",value:.03,threshold:.05,severity:"low",driftType:"feature"},{timestamp:"2024-01-15T09:00:00Z",value:.05,threshold:.05,severity:"medium",driftType:"feature"},{timestamp:"2024-01-15T10:00:00Z",value:.15,threshold:.05,severity:"high",driftType:"feature",featureName:"age"},{timestamp:"2024-01-15T11:00:00Z",value:.08,threshold:.05,severity:"medium",driftType:"prediction"}],T=[{feature:"age",currentValue:45.2,baselineValue:42.1,driftScore:.15,pValue:.001,alertLevel:"critical",trend:"increasing",lastUpdated:"2024-01-15T10:30:00Z"},{feature:"income",currentValue:65e3,baselineValue:63e3,driftScore:.08,pValue:.02,alertLevel:"warning",trend:"increasing",lastUpdated:"2024-01-15T10:30:00Z"},{feature:"location",currentValue:.7,baselineValue:.8,driftScore:.12,pValue:.005,alertLevel:"warning",trend:"decreasing",lastUpdated:"2024-01-15T10:30:00Z"},{feature:"education",currentValue:3.2,baselineValue:3.1,driftScore:.02,pValue:.45,alertLevel:"none",trend:"stable",lastUpdated:"2024-01-15T10:30:00Z"}],L=[{id:"alert-1",feature:"age",alertType:"feature_drift",severity:"critical",message:"Significant drift detected in age feature - distribution has shifted by 15%",timestamp:"2024-01-15T10:30:00Z",acknowledged:!1,suggestedAction:"Review data collection process and consider model retraining"},{id:"alert-2",feature:"income",alertType:"feature_drift",severity:"high",message:"Income distribution shows moderate drift - monitoring required",timestamp:"2024-01-15T10:25:00Z",acknowledged:!1,suggestedAction:"Monitor for additional drift in related features"}],$=y.useCallback((S,q)=>{t(V=>({...V,[S]:q})),f(null),c(null),m(null)},[]),H=y.useCallback(()=>{if(a==="dual"){if(!r.reference||!r.current)return f("Please upload both reference and current datasets"),!1}else if(a==="single"){if(!r.single)return f("Please upload a dataset to analyze"),!1}else if(a==="model"){if(!r.reference||!r.current||!r.referencePredictions||!r.currentPredictions)return f("Please upload reference dataset, current dataset, and prediction files for both periods"),!1}else if(a==="monitor"){if(!p)return f("Please select a data source for monitoring"),!1;if(!o.referenceDataSource)return f("Please configure reference data source"),!1}return!0},[a,r,p,o]),A=async()=>{if(H()){i(!0),f(null);try{let S;if(a==="dual"){const V=new FormData;V.append("reference_file",r.reference),V.append("current_file",r.current),V.append("request_data",JSON.stringify({drop_columns:w.dropColumns})),S=await fetch("/api/v1/data-drift/analyze/upload-datasets",{method:"POST",body:V})}else if(a==="single"){const V=new FormData;V.append("dataset_file",r.single);const oe={split_ratio:w.splitRatio,drop_columns:w.dropColumns,...w.useTimeBasedSplit&&{time_column:w.timeColumn,reference_start:w.referenceStart,reference_end:w.referenceEnd,current_start:w.currentStart,current_end:w.currentEnd}};V.append("request_data",JSON.stringify(oe)),S=await fetch("/api/v1/data-drift/analyze/single-dataset",{method:"POST",body:V})}else if(a==="model"){const V=new FormData;V.append("reference_file",r.reference),V.append("current_file",r.current),V.append("reference_predictions_file",r.referencePredictions),V.append("current_predictions_file",r.currentPredictions),r.referenceLabels&&V.append("reference_labels_file",r.referenceLabels),r.currentLabels&&V.append("current_labels_file",r.currentLabels),V.append("request_data",JSON.stringify({task_type:w.taskType,drop_columns:w.dropColumns})),S=await fetch("/api/v1/data-drift/analyze/model-drift",{method:"POST",body:V})}else if(a==="monitor"){const V={data_source_id:p,reference_data_source:o.referenceDataSource,reference_period:o.referencePeriod,monitoring_interval:o.monitoringInterval,drift_threshold:o.driftThreshold,alert_enabled:o.alertEnabled,auto_retraining:o.autoRetraining};S=await fetch("/api/v1/data-drift/setup-monitoring",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})}if(!S.ok){const V=await S.json();throw new Error(V.detail||"Analysis failed")}const q=await S.json();a==="model"?m(q):c(q),v(!0)}catch(S){f(S instanceof Error?S.message:"An error occurred during analysis")}finally{i(!1)}}},U=({type:S,label:q,accept:V=".csv",file:oe,onFileChange:ue})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:q}),e.jsxs("div",{className:F("border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer",oe?"border-green-300 bg-green-50 dark:bg-green-900/20 dark:border-green-600":"border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500"),onClick:()=>{var De;return(De=document.getElementById(`file-${S}`))==null?void 0:De.click()},children:[e.jsx("input",{id:`file-${S}`,type:"file",accept:V,onChange:De=>{var W;return ue(((W=De.target.files)==null?void 0:W[0])||null)},className:"hidden"}),e.jsx("div",{className:"space-y-2",children:oe?e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"mx-auto h-8 w-8 text-green-500"}),e.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:oe.name}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:[(oe.size/1024/1024).toFixed(2)," MB"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"mx-auto h-8 w-8 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click to upload CSV file"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Supports CSV files up to 100MB"})]})})]})]}),E=({summary:S})=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full",S.overall_drift_detected?"bg-red-100 dark:bg-red-900/20":"bg-green-100 dark:bg-green-900/20"),children:S.overall_drift_detected?e.jsx(Ye,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):e.jsx(ie,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Overall Drift"}),e.jsx("p",{className:F("font-semibold",S.overall_drift_detected?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:S.overall_drift_detected?"Detected":"Not Detected"})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:e.jsx(ce,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Columns"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:S.total_columns})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-full",children:e.jsx(le,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drifted Columns"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:S.drifted_columns})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-full",children:e.jsx(re,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drift Percentage"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[S.drift_percentage.toFixed(1),"%"]})]})]})})]}),B=({columns:S})=>e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Column-wise Drift Analysis"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 font-medium",children:"Column"}),e.jsx("th",{className:"text-left py-2 font-medium",children:"Status"}),e.jsx("th",{className:"text-left py-2 font-medium",children:"Method"}),e.jsx("th",{className:"text-left py-2 font-medium",children:"Score"}),e.jsx("th",{className:"text-left py-2 font-medium",children:"Threshold"})]})}),e.jsx("tbody",{children:S.map((q,V)=>{var oe,ue;return e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-2 font-mono text-sm",children:q.column}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:F("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",q.drift_detected?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300"),children:q.drift_detected?"Drift Detected":"No Drift"})}),e.jsx("td",{className:"py-2 text-gray-600 dark:text-gray-400",children:q.stattest_name}),e.jsx("td",{className:"py-2 font-mono",children:((oe=q.drift_score)==null?void 0:oe.toFixed(4))||"N/A"}),e.jsx("td",{className:"py-2 font-mono",children:((ue=q.threshold)==null?void 0:ue.toFixed(4))||"N/A"})]},V)})})]})})]}),D=({summary:S})=>{var q;return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:F("p-2 rounded-full",S.prediction_drift_detected?"bg-red-100 dark:bg-red-900/20":"bg-green-100 dark:bg-green-900/20"),children:S.prediction_drift_detected?e.jsx(Ye,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):e.jsx(ie,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Model Drift"}),e.jsx("p",{className:F("font-semibold",S.prediction_drift_detected?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:S.prediction_drift_detected?"Detected":"Not Detected"})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:e.jsx(re,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drift Score"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:((q=S.prediction_drift_score)==null?void 0:q.toFixed(4))||"N/A"})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-full",children:e.jsx(mt,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Model Analysis"})]})]})})]})},z=({changes:S})=>{var q,V,oe,ue,De,W,Z,ee,te,se,fe,Ne,Ae,be,Ee,xe,je,Le,ht,pt,Fe,Kt;return e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Prediction Distribution Changes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Reference Statistics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-mono",children:(V=(q=S.reference_stats)==null?void 0:q.mean)==null?void 0:V.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-mono",children:(ue=(oe=S.reference_stats)==null?void 0:oe.std)==null?void 0:ue.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Min:"}),e.jsx("span",{className:"font-mono",children:(W=(De=S.reference_stats)==null?void 0:De.min)==null?void 0:W.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Max:"}),e.jsx("span",{className:"font-mono",children:(ee=(Z=S.reference_stats)==null?void 0:Z.max)==null?void 0:ee.toFixed(4)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Current Statistics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Mean:"}),e.jsx("span",{className:"font-mono",children:(se=(te=S.current_stats)==null?void 0:te.mean)==null?void 0:se.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Std Dev:"}),e.jsx("span",{className:"font-mono",children:(Ne=(fe=S.current_stats)==null?void 0:fe.std)==null?void 0:Ne.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Min:"}),e.jsx("span",{className:"font-mono",children:(be=(Ae=S.current_stats)==null?void 0:Ae.min)==null?void 0:be.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Max:"}),e.jsx("span",{className:"font-mono",children:(xe=(Ee=S.current_stats)==null?void 0:Ee.max)==null?void 0:xe.toFixed(4)})]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Distribution Test Results"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kolmogorov-Smirnov Statistic:"}),e.jsx("span",{className:"font-mono",children:(ht=(Le=(je=S.distribution_tests)==null?void 0:je.kolmogorov_smirnov)==null?void 0:Le.statistic)==null?void 0:ht.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"P-value:"}),e.jsx("span",{className:"font-mono",children:(Kt=(Fe=(pt=S.distribution_tests)==null?void 0:pt.kolmogorov_smirnov)==null?void 0:Fe.p_value)==null?void 0:Kt.toFixed(4)})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Interpretation:"})," ",S.interpretation]})})]})]})]})},O=({performance:S})=>{var q,V,oe,ue,De,W,Z,ee,te,se,fe,Ne,Ae,be,Ee,xe,je,Le,ht,pt,Fe,Kt,cs,os,us,ms,xs,hs,ps,gs,fs,bs;return S.available?e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Degradation Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Reference Performance"}),e.jsx("div",{className:"space-y-2 text-sm",children:S.task_type==="classification"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accuracy:"}),e.jsx("span",{className:"font-mono",children:(V=(q=S.reference_performance)==null?void 0:q.accuracy)==null?void 0:V.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"F1 Score:"}),e.jsx("span",{className:"font-mono",children:(ue=(oe=S.reference_performance)==null?void 0:oe.f1_score)==null?void 0:ue.toFixed(4)})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"MSE:"}),e.jsx("span",{className:"font-mono",children:(W=(De=S.reference_performance)==null?void 0:De.mse)==null?void 0:W.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"R² Score:"}),e.jsx("span",{className:"font-mono",children:(ee=(Z=S.reference_performance)==null?void 0:Z.r2_score)==null?void 0:ee.toFixed(4)})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Current Performance"}),e.jsx("div",{className:"space-y-2 text-sm",children:S.task_type==="classification"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accuracy:"}),e.jsx("span",{className:"font-mono",children:(se=(te=S.current_performance)==null?void 0:te.accuracy)==null?void 0:se.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"F1 Score:"}),e.jsx("span",{className:"font-mono",children:(Ne=(fe=S.current_performance)==null?void 0:fe.f1_score)==null?void 0:Ne.toFixed(4)})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"MSE:"}),e.jsx("span",{className:"font-mono",children:(be=(Ae=S.current_performance)==null?void 0:Ae.mse)==null?void 0:be.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"R² Score:"}),e.jsx("span",{className:"font-mono",children:(xe=(Ee=S.current_performance)==null?void 0:Ee.r2_score)==null?void 0:xe.toFixed(4)})]})]})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Performance Changes"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:S.task_type==="classification"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accuracy Change:"}),e.jsxs("span",{className:F("font-mono",(((je=S.degradation)==null?void 0:je.accuracy_change)||0)<0?"text-red-600":"text-green-600"),children:[((Le=S.degradation)==null?void 0:Le.accuracy_change)>0?"+":"",(pt=(ht=S.degradation)==null?void 0:ht.accuracy_change)==null?void 0:pt.toFixed(4)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"F1 Score Change:"}),e.jsxs("span",{className:F("font-mono",(((Fe=S.degradation)==null?void 0:Fe.f1_change)||0)<0?"text-red-600":"text-green-600"),children:[((Kt=S.degradation)==null?void 0:Kt.f1_change)>0?"+":"",(os=(cs=S.degradation)==null?void 0:cs.f1_change)==null?void 0:os.toFixed(4)]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"MSE Change:"}),e.jsxs("span",{className:F("font-mono",(((us=S.degradation)==null?void 0:us.mse_change)||0)>0?"text-red-600":"text-green-600"),children:[((ms=S.degradation)==null?void 0:ms.mse_change)>0?"+":"",(hs=(xs=S.degradation)==null?void 0:xs.mse_change)==null?void 0:hs.toFixed(4)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"R² Score Change:"}),e.jsxs("span",{className:F("font-mono",(((ps=S.degradation)==null?void 0:ps.r2_change)||0)<0?"text-red-600":"text-green-600"),children:[((gs=S.degradation)==null?void 0:gs.r2_change)>0?"+":"",(bs=(fs=S.degradation)==null?void 0:fs.r2_change)==null?void 0:bs.toFixed(4)]})]})]})}),e.jsx("div",{className:"mt-3",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Interpretation:"})," ",S.interpretation]})})]})]})]}):e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Analysis"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(mt,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:S.message||"Performance analysis not available without true labels"})]})]})},M=()=>e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Monitoring History"}),e.jsxs(G,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsx("div",{className:"space-y-4",children:N.map(S=>e.jsxs("div",{className:F("p-4 border rounded-lg",S.driftDetected?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[S.driftDetected?e.jsx(Ye,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):e.jsx(ie,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"font-medium",children:S.driftDetected?"Drift Detected":"No Drift"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(S.timestamp).toLocaleString()})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Drift Score:"}),e.jsx("span",{className:"ml-2 font-mono",children:S.driftScore.toFixed(3)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),e.jsx("span",{className:F("ml-2 px-2 py-1 rounded-full text-xs",S.status==="alert_sent"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300"),children:S.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Affected Features:"}),e.jsx("span",{className:"ml-2",children:S.affectedFeatures.length})]})]}),S.affectedFeatures.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Features: "}),e.jsx("span",{className:"text-sm",children:S.affectedFeatures.join(", ")})]})]},S.id))})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Data Drift Analysis"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detect statistical changes in your data over time using Evidently AI"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>_(!h),className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),(l||d)&&e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>v(!R),className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{children:"View Report"})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Analysis Mode"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>s("dual"),className:F("p-4 border-2 rounded-lg text-left transition-colors",a==="dual"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Qe,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Data Drift Analysis"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Compare two separate datasets (reference vs current)"})]}),e.jsxs("button",{onClick:()=>s("single"),className:F("p-4 border-2 rounded-lg text-left transition-colors",a==="single"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Pa,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Single Dataset Analysis"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Split one dataset by time or ratio for analysis"})]}),e.jsxs("button",{onClick:()=>s("model"),className:F("p-4 border-2 rounded-lg text-left transition-colors",a==="model"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(ot,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Model Drift Analysis"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analyze how data drift affects model predictions"})]}),e.jsxs("button",{onClick:()=>s("monitor"),className:F("p-4 border-2 rounded-lg text-left transition-colors",a==="monitor"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Continuous Monitoring"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connect data sources for real-time drift monitoring"})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload Data"}),a==="dual"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(U,{type:"reference",label:"Reference Dataset",file:r.reference,onFileChange:S=>$("reference",S)}),e.jsx(U,{type:"current",label:"Current Dataset",file:r.current,onFileChange:S=>$("current",S)})]}):a==="single"?e.jsx("div",{className:"max-w-md",children:e.jsx(U,{type:"single",label:"Dataset to Analyze",file:r.single,onFileChange:S=>$("single",S)})}):a==="model"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium mb-3",children:"Dataset Files"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(U,{type:"reference",label:"Reference Dataset",file:r.reference,onFileChange:S=>$("reference",S)}),e.jsx(U,{type:"current",label:"Current Dataset",file:r.current,onFileChange:S=>$("current",S)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium mb-3",children:"Prediction Files (Required)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(U,{type:"referencePredictions",label:"Reference Predictions",file:r.referencePredictions,onFileChange:S=>$("referencePredictions",S)}),e.jsx(U,{type:"currentPredictions",label:"Current Predictions",file:r.currentPredictions,onFileChange:S=>$("currentPredictions",S)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium mb-3",children:"Label Files (Optional - for performance analysis)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(U,{type:"referenceLabels",label:"Reference Labels",file:r.referenceLabels,onFileChange:S=>$("referenceLabels",S)}),e.jsx(U,{type:"currentLabels",label:"Current Labels",file:r.currentLabels,onFileChange:S=>$("currentLabels",S)})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium mb-3",children:"Select Data Source"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.map(S=>e.jsxs("button",{onClick:()=>j(S.id),className:F("p-4 border-2 rounded-lg text-left transition-colors",p===S.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[S.icon,e.jsx("span",{className:"font-medium",children:S.name})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:S.type}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:F("inline-flex items-center px-2 py-1 rounded-full text-xs",S.status==="connected"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"),children:S.status})})]},S.id))})]}),p&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium mb-3",children:"Monitoring Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reference Data Source"}),e.jsxs("select",{value:o.referenceDataSource,onChange:S=>x(q=>({...q,referenceDataSource:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600",children:[e.jsx("option",{value:"",children:"Select reference data source"}),g.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reference Period"}),e.jsxs("select",{value:o.referencePeriod,onChange:S=>x(q=>({...q,referencePeriod:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600",children:[e.jsx("option",{value:"1d",children:"Last 1 day"}),e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Monitoring Interval"}),e.jsxs("select",{value:o.monitoringInterval,onChange:S=>x(q=>({...q,monitoringInterval:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600",children:[e.jsx("option",{value:"15m",children:"Every 15 minutes"}),e.jsx("option",{value:"1h",children:"Every hour"}),e.jsx("option",{value:"6h",children:"Every 6 hours"}),e.jsx("option",{value:"24h",children:"Daily"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Drift Threshold"}),e.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:o.driftThreshold,onChange:S=>x(q=>({...q,driftThreshold:parseFloat(S.target.value)})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600"})]})]}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"alert-enabled",checked:o.alertEnabled,onChange:S=>x(q=>({...q,alertEnabled:S.target.checked})),className:"rounded border-gray-300"}),e.jsx("label",{htmlFor:"alert-enabled",className:"text-sm font-medium",children:"Enable drift alerts"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"auto-retraining",checked:o.autoRetraining,onChange:S=>x(q=>({...q,autoRetraining:S.target.checked})),className:"rounded border-gray-300"}),e.jsx("label",{htmlFor:"auto-retraining",className:"text-sm font-medium",children:"Enable automatic model retraining"})]})]})]})]})]}),e.jsx(ge,{children:h&&e.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Advanced Settings"}),a==="single"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"use-time-split",checked:w.useTimeBasedSplit,onChange:S=>b(q=>({...q,useTimeBasedSplit:S.target.checked})),className:"rounded border-gray-300"}),e.jsx("label",{htmlFor:"use-time-split",className:"text-sm font-medium",children:"Use time-based splitting"})]}),w.useTimeBasedSplit?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time Column"}),e.jsx("input",{type:"text",value:w.timeColumn,onChange:S=>b(q=>({...q,timeColumn:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600",placeholder:"e.g., timestamp"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reference Period"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"date",value:w.referenceStart,onChange:S=>b(q=>({...q,referenceStart:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600"}),e.jsx("input",{type:"date",value:w.referenceEnd,onChange:S=>b(q=>({...q,referenceEnd:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Current Period"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"date",value:w.currentStart,onChange:S=>b(q=>({...q,currentStart:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600"}),e.jsx("input",{type:"date",value:w.currentEnd,onChange:S=>b(q=>({...q,currentEnd:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600"})]})]})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Split Ratio (Reference/Current): ",(w.splitRatio*100).toFixed(0),"% / ",((1-w.splitRatio)*100).toFixed(0),"%"]}),e.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.1",value:w.splitRatio,onChange:S=>b(q=>({...q,splitRatio:parseFloat(S.target.value)})),className:"w-full"})]})]}),a==="model"&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Task Type"}),e.jsxs("select",{value:w.taskType,onChange:S=>b(q=>({...q,taskType:S.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600",children:[e.jsx("option",{value:"classification",children:"Classification"}),e.jsx("option",{value:"regression",children:"Regression"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Columns to Exclude (comma-separated)"}),e.jsx("input",{type:"text",value:w.dropColumns.join(", "),onChange:S=>b(q=>({...q,dropColumns:S.target.value.split(",").map(V=>V.trim()).filter(Boolean)})),className:"w-full p-2 border rounded-md dark:bg-gray-800 dark:border-gray-600",placeholder:"e.g., id, timestamp, metadata"})]})]})})}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(G,{onClick:A,disabled:n||!H(),size:"lg",className:"flex items-center space-x-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Xt,{size:"sm"}),e.jsx("span",{children:"Analyzing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"h-5 w-5"}),e.jsx("span",{children:a==="monitor"?"Start Monitoring":"Run Drift Analysis"})]})}),(l||d)&&e.jsxs(G,{variant:"outline",size:"lg",onClick:()=>{const S=l||d,q=new Blob([S.html_report],{type:"text/html"}),V=URL.createObjectURL(q),oe=document.createElement("a");oe.href=V,oe.download=`${a}_report_${S.analysis_id}.html`,oe.click(),URL.revokeObjectURL(V)},className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"h-5 w-5"}),e.jsx("span",{children:"Download Report"})]})]}),e.jsx(ge,{children:u&&e.jsx(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:e.jsx(P,{className:"p-4 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ye,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:u})]})})})}),e.jsx(ge,{children:(l||d)&&e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a==="model"?"Model Drift Analysis Results":"Data Drift Analysis Results"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Analysis ID: ",(l==null?void 0:l.analysis_id)||(d==null?void 0:d.analysis_id)]})]}),l&&a!=="model"&&e.jsxs(e.Fragment,{children:[e.jsx(E,{summary:l.drift_summary}),l.drift_summary.column_results.length>0&&e.jsx(B,{columns:l.drift_summary.column_results}),e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Data Preview"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Reference Dataset"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Shape: ",l.data_preview.reference_info.shape.join(" × ")]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs border",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800",children:Object.keys(l.data_preview.reference_preview[0]||{}).map(S=>e.jsx("th",{className:"p-2 border text-left",children:S},S))})}),e.jsx("tbody",{children:l.data_preview.reference_preview.map((S,q)=>e.jsx("tr",{className:"border-t",children:Object.values(S).map((V,oe)=>e.jsx("td",{className:"p-2 border",children:V!==null?String(V):"null"},oe))},q))})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Current Dataset"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Shape: ",l.data_preview.current_info.shape.join(" × ")]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs border",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gray-50 dark:bg-gray-800",children:Object.keys(l.data_preview.current_preview[0]||{}).map(S=>e.jsx("th",{className:"p-2 border text-left",children:S},S))})}),e.jsx("tbody",{children:l.data_preview.current_preview.map((S,q)=>e.jsx("tr",{className:"border-t",children:Object.values(S).map((V,oe)=>e.jsx("td",{className:"p-2 border",children:V!==null?String(V):"null"},oe))},q))})]})})]})]})]})]}),a==="monitor"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:e.jsx(Wt,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monitoring Status"}),e.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Active"})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-full",children:e.jsx(Te,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Next Check"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:o.monitoringInterval})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-full",children:e.jsx(re,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Threshold"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:o.driftThreshold})]})]})})]}),e.jsx(oc,{driftTimeSeries:k,featureDrifts:T,alerts:L,interactive:!0,onFeatureSelect:S=>console.log("Selected feature:",S),onAlertAcknowledge:S=>console.log("Acknowledged alert:",S),refreshInterval:3e4}),e.jsx(M,{})]}),d&&a==="model"&&e.jsxs(e.Fragment,{children:[e.jsx(D,{summary:d.model_drift_summary}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(z,{changes:d.prediction_distribution_changes}),e.jsx(O,{performance:d.performance_degradation})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Drift Analysis Explanation"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:d.model_drift_summary.drift_explanation})})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Analysis Metadata"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Task Type:"}),e.jsx("span",{className:"ml-2 capitalize",children:d.metadata.task_type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Reference Predictions:"}),e.jsx("span",{className:"ml-2",children:d.metadata.reference_predictions_count})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Current Predictions:"}),e.jsx("span",{className:"ml-2",children:d.metadata.current_predictions_count})]})]})]})]}),e.jsx(ge,{children:R&&e.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Detailed Report"}),e.jsx(G,{variant:"outline",size:"sm",onClick:()=>v(!1),children:e.jsx(Et,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"w-full border rounded-lg overflow-hidden",style:{height:"600px"},children:e.jsx("iframe",{srcDoc:(I=l||d)==null?void 0:I.html_report,className:"w-full h-full",title:"Drift Analysis Report"})})]})})})]})})]})},mc=()=>{var A,U,E,B;const[r,t]=y.useState({}),[a,s]=y.useState(""),[n,i]=y.useState(null),[l,c]=y.useState(null),[d,m]=y.useState([]),[u,f]=y.useState({}),[h,_]=y.useState(!1),[R,v]=y.useState(null),[w,b]=y.useState("overview"),[g,p]=y.useState(!1),[j,o]=y.useState({model_id:"",model_type:"classification",business_metrics:["conversion_rate","revenue_per_prediction"],performance_thresholds:{accuracy:.8,f1_score:.75}});y.useEffect(()=>{x()},[]),y.useEffect(()=>{a&&N(a)},[a]);const x=async()=>{try{_(!0);const D=await fetch("/api/v1/model-monitoring/models");if(D.ok){const z=await D.json();t(z.models),!a&&Object.keys(z.models).length>0&&s(Object.keys(z.models)[0])}}catch(D){v("Failed to load models"),console.error("Error loading models:",D)}finally{_(!1)}},N=async D=>{try{_(!0);const z=await fetch(`/api/v1/model-monitoring/model-health/${D}`);if(z.ok){const S=await z.json();i(S)}const O=await fetch(`/api/v1/model-monitoring/business-metrics/${D}`);if(O.ok){const S=await O.json();c(S.business_impact)}const M=await fetch(`/api/v1/model-monitoring/alerts/${D}`);if(M.ok){const S=await M.json();m(S.alerts)}const I=await fetch("/api/v1/model-monitoring/ab-tests");if(I.ok){const S=await I.json();f(S.ab_tests)}}catch(z){v("Failed to load model data"),console.error("Error loading model data:",z)}finally{_(!1)}},k=async()=>{try{const D=new FormData,z=new Blob(["mock model content"],{type:"application/octet-stream"});D.append("model_file",z,"model.pkl"),D.append("request_data",JSON.stringify(j));const O=await fetch("/api/v1/model-monitoring/register-model",{method:"POST",body:D});if(O.ok)await x(),p(!1),s(j.model_id);else{const M=await O.json();v(M.detail||"Failed to register model")}}catch(D){v("Failed to register model"),console.error("Error registering model:",D)}},T=({title:D,value:z,change:O,icon:M,color:I="blue"})=>e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:z}),O!==void 0&&e.jsxs("div",{className:F("flex items-center space-x-1 text-sm",O>0?"text-green-600":O<0?"text-red-600":"text-gray-600"),children:[O>0?e.jsx(le,{className:"h-3 w-3"}):O<0?e.jsx(ot,{className:"h-3 w-3"}):null,e.jsxs("span",{children:[O>0?"+":"",O==null?void 0:O.toFixed(1),"%"]})]})]}),e.jsx("div",{className:F("p-3 rounded-full",I==="blue"&&"bg-blue-100 dark:bg-blue-900/20",I==="green"&&"bg-green-100 dark:bg-green-900/20",I==="orange"&&"bg-orange-100 dark:bg-orange-900/20",I==="purple"&&"bg-purple-100 dark:bg-purple-900/20"),children:e.jsx(M,{className:F("w-6 h-6",I==="blue"&&"text-blue-600 dark:text-blue-400",I==="green"&&"text-green-600 dark:text-green-400",I==="orange"&&"text-orange-600 dark:text-orange-400",I==="purple"&&"text-purple-600 dark:text-purple-400")})})]})}),L=({data:D})=>{var z;return!D||!((z=D.charts)!=null&&z.performance_trends)?e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Trends"}),e.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No performance trend data available"})]}):e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Trends"}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:D.charts.performance_trends}})})]})},$=({alerts:D})=>e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Alerts"}),e.jsxs(G,{variant:"outline",size:"sm",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Configure"]})]}),D.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No alerts found"}):e.jsx("div",{className:"space-y-3",children:D.slice(0,5).map(z=>e.jsxs("div",{className:F("p-3 border rounded-lg",z.severity==="high"&&"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",z.severity==="medium"&&"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ye,{className:F("h-4 w-4",z.severity==="high"?"text-red-600":"text-yellow-600")}),e.jsx("span",{className:"font-medium",children:z.metric})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(z.timestamp).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:z.message})]},z.alert_id))})]}),H=({tests:D})=>e.jsxs(P,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"A/B Tests"}),e.jsxs(G,{variant:"outline",size:"sm",children:[e.jsx(at,{className:"h-4 w-4 mr-2"}),"Create Test"]})]}),Object.keys(D).length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No A/B tests configured"}):e.jsx("div",{className:"space-y-3",children:Object.entries(D).slice(0,3).map(([z,O])=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:z}),e.jsx("span",{className:F("px-2 py-1 rounded-full text-xs",O.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:O.status})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[O.champion_model_id," vs ",O.challenger_model_id]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Traffic Split: ",(O.traffic_split*100).toFixed(0),"% to challenger"]})]},z))})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Model Performance Monitoring"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Enterprise-grade model monitoring, A/B testing, and business impact analysis"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(G,{variant:"outline",onClick:()=>a&&N(a),className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs(G,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"h-4 w-4"}),e.jsx("span",{children:"Register Model"})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Model"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r).map(([D,z])=>e.jsxs("button",{onClick:()=>s(D),className:F("p-4 border-2 rounded-lg text-left transition-colors",a===D?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(ke,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-medium",children:D})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:z.model_type}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("span",{className:F("inline-flex items-center px-2 py-1 rounded-full text-xs",z.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"),children:z.status}),z.has_tracking_data&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",children:"tracking"})]})]},D))})]}),a&&e.jsxs(P,{className:"p-6",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:we},{id:"performance",label:"Performance",icon:qi},{id:"business",label:"Business Impact",icon:Ra},{id:"explainability",label:"Explainability",icon:we},{id:"alerts",label:"Alerts",icon:He},{id:"ab-tests",label:"A/B Tests",icon:at}].map(D=>e.jsxs("button",{onClick:()=>b(D.id),className:F("flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm",w===D.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.jsx(D.icon,{className:"h-4 w-4"}),e.jsx("span",{children:D.label})]},D.id))})}),e.jsxs("div",{className:"mt-6",children:[w==="overview"&&n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(T,{title:"Model Health",value:((A=n.performance_summary)==null?void 0:A.performance_trend)||"Stable",icon:re,color:"green"}),e.jsx(T,{title:"Data Quality",value:((U=n.data_quality)==null?void 0:U.drift_status)||"Stable",icon:Ce,color:"blue"}),e.jsx(T,{title:"Business Impact",value:l?`$${l.total_revenue.toFixed(0)}`:"N/A",icon:Ra,color:"purple"}),e.jsx(T,{title:"Active Alerts",value:((E=n.alerts)==null?void 0:E.recent_alerts)||0,icon:He,color:"orange"})]}),n.recommendations&&e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommendations"}),e.jsx("div",{className:"space-y-3",children:n.recommendations.map((D,z)=>e.jsxs("div",{className:F("p-4 border rounded-lg",D.type==="critical"&&"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",D.type==="warning"&&"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20",D.type==="success"&&"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"),children:[e.jsx("h4",{className:"font-medium",children:D.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:D.description}),e.jsx("p",{className:"text-sm font-medium mt-2",children:D.action})]},z))})]})]}),w==="performance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(L,{data:n}),(n==null?void 0:n.performance_summary)&&e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Current Performance Metrics"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(n.performance_summary.current_performance||{}).map(([D,z])=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.replace("_"," ").toUpperCase()}),e.jsx("p",{className:"text-lg font-semibold",children:typeof z=="number"?z.toFixed(3):z})]},D))})]})]}),w==="business"&&l&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(T,{title:"Total Revenue",value:`$${l.total_revenue.toFixed(0)}`,icon:Ra,color:"green"}),e.jsx(T,{title:"Conversion Rate",value:`${(l.average_conversion_rate*100).toFixed(1)}%`,icon:ve,color:"blue"}),e.jsx(T,{title:"Total Predictions",value:l.total_predictions.toLocaleString(),icon:ce,color:"purple"}),e.jsx(T,{title:"Revenue per Prediction",value:`$${l.revenue_per_prediction.toFixed(2)}`,icon:le,color:"orange"})]})}),w==="explainability"&&e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Feature Importance"}),(B=n==null?void 0:n.feature_importance)!=null&&B.current_importance?e.jsx("div",{className:"space-y-3",children:Object.entries(n.feature_importance.current_importance).slice(0,10).map(([D,z])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:D}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Number(z)*100}%`}})}),e.jsx("span",{className:"text-sm text-gray-600",children:Number(z).toFixed(3)})]})]},D))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No explainability data available"})]}),w==="alerts"&&e.jsx($,{alerts:d}),w==="ab-tests"&&e.jsx(H,{tests:u})]})]}),e.jsx(ge,{children:g&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Register Model for Monitoring"}),e.jsx(G,{onClick:()=>p(!1),variant:"outline",size:"sm",children:"Cancel"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model ID"}),e.jsx("input",{type:"text",value:j.model_id,onChange:D=>o(z=>({...z,model_id:D.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",placeholder:"e.g., fraud_detection_v1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),e.jsxs("select",{value:j.model_type,onChange:D=>o(z=>({...z,model_type:D.target.value})),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:[e.jsx("option",{value:"classification",children:"Classification"}),e.jsx("option",{value:"regression",children:"Regression"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Performance Thresholds"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Accuracy"}),e.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:j.performance_thresholds.accuracy,onChange:D=>o(z=>({...z,performance_thresholds:{...z.performance_thresholds,accuracy:parseFloat(D.target.value)}})),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"F1 Score"}),e.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:j.performance_thresholds.f1_score,onChange:D=>o(z=>({...z,performance_thresholds:{...z.performance_thresholds,f1_score:parseFloat(D.target.value)}})),className:"w-full p-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(G,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(G,{onClick:k,disabled:!j.model_id,children:"Register Model"})]})]})]})})})}),e.jsx(ge,{children:R&&e.jsx(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:e.jsx(P,{className:"p-4 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ye,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:R}),e.jsx(G,{variant:"outline",size:"sm",onClick:()=>v(null),children:"Dismiss"})]})})})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-40",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg flex items-center space-x-3",children:[e.jsx(Xt,{size:"sm"}),e.jsx("span",{children:"Loading model data..."})]})})]})},xc=()=>{const[r,t]=y.useState("model_v2.3"),[a,s]=y.useState("EU_AI_Act"),n={overallFairnessScore:82.4,biasViolations:2,complianceStatus:"Partially Compliant",attributesAnalyzed:4,metricsCalculated:85},i=[{metric:"Demographic Parity",value:.12,threshold:.1,status:"violation",description:"Difference in positive prediction rates",complianceFrameworks:["EU AI Act","US EEOC"]},{metric:"Equalized Odds",value:.08,threshold:.1,status:"compliant",description:"Equal TPR and FPR across groups",complianceFrameworks:["EU AI Act"]},{metric:"Equality of Opportunity",value:.06,threshold:.1,status:"compliant",description:"Equal TPR across groups",complianceFrameworks:["US EEOC"]},{metric:"Calibration",value:.04,threshold:.05,status:"compliant",description:"Predicted vs actual positive rates",complianceFrameworks:["FDA"]},{metric:"Disparate Impact Ratio",value:.76,threshold:.8,status:"violation",description:"4/5ths rule for adverse impact",complianceFrameworks:["US EEOC"]}],l=[{attribute:"Gender",groups:["Male","Female","Non-binary"],biasDetected:!0,severity:"Medium",affectedMetrics:["Demographic Parity","Disparate Impact"]},{attribute:"Race",groups:["White","Black","Hispanic","Asian","Other"],biasDetected:!1,severity:"Low",affectedMetrics:[]},{attribute:"Age Group",groups:["18-25","26-35","36-50","51+"],biasDetected:!1,severity:"Low",affectedMetrics:[]},{attribute:"Geography",groups:["Urban","Suburban","Rural"],biasDetected:!0,severity:"High",affectedMetrics:["Demographic Parity","Equalized Odds"]}],c=[{intersection:"Female × Rural",biasScore:.23,riskLevel:"High",description:"Significant underrepresentation in positive predictions"},{intersection:"Male × Urban",biasScore:.08,riskLevel:"Low",description:"Within acceptable fairness thresholds"},{intersection:"Non-binary × Suburban",biasScore:.15,riskLevel:"Medium",description:"Moderate bias detected, requires monitoring"}],d=[{name:"EU AI Act",status:"Partially Compliant",score:78,violations:2,requirements:["Risk assessment documentation","Bias monitoring and mitigation","Transparency and explainability","Human oversight mechanisms"]},{name:"US EEOC Guidelines",status:"Non-Compliant",score:65,violations:3,requirements:["4/5ths rule compliance","Adverse impact analysis","Job-relatedness validation","Alternative selection procedures"]},{name:"GDPR Article 22",status:"Compliant",score:92,violations:0,requirements:["Automated decision-making transparency","Right to explanation","Data protection by design","Consent management"]}],m=[{strategy:"Data Resampling",effectiveness:"High",implementation:"Pre-processing",description:"Balance training data representation across groups",estimatedImprovement:"+12% fairness score"},{strategy:"Fairness Constraints",effectiveness:"Medium",implementation:"In-processing",description:"Add fairness constraints during model training",estimatedImprovement:"+8% fairness score"},{strategy:"Threshold Optimization",effectiveness:"Medium",implementation:"Post-processing",description:"Optimize decision thresholds per group",estimatedImprovement:"+6% fairness score"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Enterprise Fairness Analysis"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Comprehensive bias detection with 80+ metrics and regulatory compliance"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:r,onChange:u=>t(u.target.value),className:"px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"model_v2.3",children:"Credit Risk Model v2.3"}),e.jsx("option",{value:"model_v2.2",children:"Credit Risk Model v2.2"}),e.jsx("option",{value:"fraud_model",children:"Fraud Detection Model"})]}),e.jsxs("select",{value:a,onChange:u=>s(u.target.value),className:"px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"EU_AI_Act",children:"EU AI Act"}),e.jsx("option",{value:"US_EEOC",children:"US EEOC"}),e.jsx("option",{value:"GDPR",children:"GDPR"}),e.jsx("option",{value:"All",children:"All Frameworks"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(Q,{title:"Overall Fairness Score",value:`${n.overallFairnessScore}%`,change:"+2.3%",changeType:"positive",icon:dn,description:"Composite fairness across all metrics"}),e.jsx(Q,{title:"Bias Violations",value:n.biasViolations.toString(),change:"-1",changeType:"negative",icon:he,description:"Metrics exceeding thresholds"}),e.jsx(Q,{title:"Compliance Status",value:n.complianceStatus,change:"Improving",changeType:"positive",icon:Ce,description:"Regulatory compliance level"}),e.jsx(Q,{title:"Sensitive Attributes",value:n.attributesAnalyzed.toString(),change:"+1",changeType:"positive",icon:Pt,description:"Protected characteristics analyzed"}),e.jsx(Q,{title:"Metrics Calculated",value:n.metricsCalculated.toString(),change:"+5",changeType:"positive",icon:ce,description:"Total fairness metrics computed"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Bias Metrics Analysis"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(we,{className:"w-4 h-4 text-neutral-500"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Real-time monitoring"})]})]}),e.jsx("div",{className:"space-y-4",children:i.map((u,f)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.1},className:`p-4 rounded-lg border-l-4 ${u.status==="violation"?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-green-500 bg-green-50 dark:bg-green-900/20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.metric}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u.status==="violation"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:u.status==="violation"?"Violation":"Compliant"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"font-bold text-lg",children:u.value.toFixed(3)}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["Threshold: ",u.threshold.toFixed(2)]})]})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:u.description}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-neutral-500",children:"Frameworks:"}),u.complianceFrameworks.map(h=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 rounded text-xs",children:h},h))]})]},u.metric))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Sensitive Attributes"}),e.jsx("div",{className:"space-y-4",children:l.map((u,f)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.attribute}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u.biasDetected?u.severity==="High"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:u.biasDetected?u.severity:"Clean"})]}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-2",children:["Groups: ",u.groups.join(", ")]}),u.affectedMetrics.length>0&&e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"text-neutral-500",children:"Affected metrics:"}),e.jsx("div",{className:"mt-1 space-x-1",children:u.affectedMetrics.map(h=>e.jsx("span",{className:"inline-block px-2 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded text-xs",children:h},h))})]})]},u.attribute))})]})})]}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Intersectional Bias Analysis"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Multi-dimensional bias detection across attribute combinations"})]}),e.jsx(de,{className:"w-5 h-5 text-neutral-500"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map((u,f)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},className:`p-4 rounded-lg border ${u.riskLevel==="High"?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":u.riskLevel==="Medium"?"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-900/20":"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.intersection}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u.riskLevel==="High"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":u.riskLevel==="Medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:u.riskLevel})]}),e.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:u.biasScore.toFixed(3)}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:u.description})]},u.intersection))})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Regulatory Compliance"}),e.jsx("div",{className:"space-y-4",children:d.map((u,f)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u.status==="Compliant"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":u.status==="Partially Compliant"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:u.status}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:[u.score,"%"]})]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${u.score>=90?"bg-green-500":u.score>=70?"bg-amber-500":"bg-red-500"}`,style:{width:`${u.score}%`}})}),u.violations>0&&e.jsxs("div",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:[u.violations," violation",u.violations!==1?"s":""," detected"]}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["Key requirements: ",u.requirements.slice(0,2).join(", "),u.requirements.length>2&&"..."]})]},u.name))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Bias Mitigation Strategies"}),e.jsx("div",{className:"space-y-4",children:m.map((u,f)=>e.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:f*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:border-blue-300 dark:hover:border-blue-600 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.strategy}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${u.effectiveness==="High"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300"}`,children:[u.effectiveness," Impact"]})]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:u.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-neutral-500",children:["Type: ",u.implementation]}),e.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:u.estimatedImprovement})]})]},u.strategy))}),e.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Generate Mitigation Plan"})]})})]})]})},hc=()=>{const[r,t]=y.useState(null),[a,s]=y.useState(!1),n={activeAlerts:7,resolvedToday:23,criticalAlerts:2,averageResponseTime:"4.2 min",alertRules:15,notificationChannels:4},i=[{id:"alert_001",title:"High Bias Detected in Credit Model",severity:"critical",model:"credit_risk_v2.3",metric:"Demographic Parity",value:.15,threshold:.1,duration:"15 minutes",description:"Gender bias exceeding acceptable threshold",channels:["email","slack","sms"],assignee:"ML Team",created:"2024-01-19T10:30:00Z"},{id:"alert_002",title:"Data Drift Detected",severity:"high",model:"fraud_detection_v1.8",metric:"Jensen-Shannon Divergence",value:.28,threshold:.2,duration:"32 minutes",description:"Significant drift in user behavior patterns",channels:["email","slack"],assignee:"Data Science Team",created:"2024-01-19T10:15:00Z"},{id:"alert_003",title:"Model Performance Degradation",severity:"medium",model:"recommendation_engine_v3.1",metric:"Accuracy",value:.78,threshold:.8,duration:"1 hour 12 minutes",description:"Accuracy below expected performance threshold",channels:["email"],assignee:"Platform Team",created:"2024-01-19T09:18:00Z"}],l=[{id:"rule_001",name:"Bias Threshold Monitor",metric:"Demographic Parity",condition:"greater_than",threshold:.1,severity:"critical",models:["credit_risk_v2.3","loan_approval_v1.5"],channels:["email","slack","sms"],isActive:!0,lastTriggered:"2024-01-19T10:30:00Z"},{id:"rule_002",name:"Data Drift Alert",metric:"Jensen-Shannon Divergence",condition:"greater_than",threshold:.2,severity:"high",models:["all"],channels:["email","slack"],isActive:!0,lastTriggered:"2024-01-19T10:15:00Z"},{id:"rule_003",name:"Performance Degradation",metric:"Model Accuracy",condition:"less_than",threshold:.8,severity:"medium",models:["all"],channels:["email"],isActive:!0,lastTriggered:"2024-01-19T09:18:00Z"},{id:"rule_004",name:"Compliance Violation",metric:"GDPR Compliance Score",condition:"less_than",threshold:.95,severity:"critical",models:["all"],channels:["email","slack","pagerduty"],isActive:!0,lastTriggered:null}],c=[{type:"email",name:"Email Notifications",endpoint:"ml-alerts@company.com",status:"active",lastUsed:"2024-01-19T10:30:00Z",deliveryRate:"99.2%"},{type:"slack",name:"Slack #ml-alerts",endpoint:"#ml-alerts",status:"active",lastUsed:"2024-01-19T10:30:00Z",deliveryRate:"98.7%"},{type:"sms",name:"SMS Alerts",endpoint:"+1-555-****",status:"active",lastUsed:"2024-01-19T10:30:00Z",deliveryRate:"100%"},{type:"pagerduty",name:"PagerDuty",endpoint:"ml-team-service",status:"active",lastUsed:"2024-01-18T22:15:00Z",deliveryRate:"100%"}],d=u=>{switch(u){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";case"high":return"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-300";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"low":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},m=u=>{switch(u){case"email":return e.jsx(pa,{className:"w-4 h-4"});case"slack":return e.jsx(yr,{className:"w-4 h-4"});case"sms":return e.jsx(jr,{className:"w-4 h-4"});case"pagerduty":return e.jsx(Ve,{className:"w-4 h-4"});default:return e.jsx(He,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Enterprise Alerts"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Real-time monitoring and alerting across all ML models and metrics"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Alert Rule"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e.jsx(Q,{title:"Active Alerts",value:n.activeAlerts.toString(),change:"+2",changeType:"negative",icon:he,description:"Currently active alerts"}),e.jsx(Q,{title:"Resolved Today",value:n.resolvedToday.toString(),change:"+5",changeType:"positive",icon:ie,description:"Alerts resolved in last 24h"}),e.jsx(Q,{title:"Critical Alerts",value:n.criticalAlerts.toString(),change:"0",changeType:"neutral",icon:Ce,description:"High priority alerts"}),e.jsx(Q,{title:"Avg Response Time",value:n.averageResponseTime,change:"-0.8 min",changeType:"positive",icon:Te,description:"Average time to response"}),e.jsx(Q,{title:"Alert Rules",value:n.alertRules.toString(),change:"+1",changeType:"positive",icon:ce,description:"Configured alert rules"}),e.jsx(Q,{title:"Notification Channels",value:n.notificationChannels.toString(),change:"0",changeType:"neutral",icon:He,description:"Active notification channels"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Active Alerts"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Live monitoring"})]})]}),e.jsx("div",{className:"space-y-4",children:i.map((u,f)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.1},className:`p-4 border-l-4 rounded-lg ${u.severity==="critical"?"border-red-500 bg-red-50 dark:bg-red-900/20":u.severity==="high"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.title}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d(u.severity)}`,children:u.severity.toUpperCase()})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:u.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-neutral-500",children:[e.jsxs("span",{children:["Model: ",u.model]}),e.jsxs("span",{children:["Metric: ",u.metric]}),e.jsxs("span",{children:["Value: ",u.value]}),e.jsxs("span",{children:["Threshold: ",u.threshold]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 ml-4",children:u.channels.map(h=>e.jsx("div",{className:"text-neutral-400",children:m(h)},h))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-neutral-500",children:[e.jsxs("span",{children:["Duration: ",u.duration]}),e.jsxs("span",{children:["Assignee: ",u.assignee]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-800 rounded text-xs font-medium transition-colors",children:"Acknowledge"}),e.jsx("button",{className:"px-3 py-1 bg-green-100 hover:bg-green-200 text-green-800 rounded text-xs font-medium transition-colors",children:"Resolve"})]})]})]},u.id))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Notification Channels"}),e.jsx("div",{className:"space-y-4",children:c.map((u,f)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[m(u.type),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.name})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded text-xs font-medium",children:u.status})]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:u.endpoint}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500",children:[e.jsxs("span",{children:["Delivery: ",u.deliveryRate]}),e.jsxs("span",{children:["Last used: ",new Date(u.lastUsed).toLocaleDateString()]})]})]},u.type))}),e.jsx("button",{className:"w-full mt-4 px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:"+ Add Channel"})]})})]}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Alert Rules"}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"New Rule"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Rule Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Metric"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Condition"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Severity"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Models"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Channels"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Actions"})]})}),e.jsx("tbody",{children:l.map((u,f)=>e.jsxs(C.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:f*.1},className:"border-b border-neutral-100 dark:border-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-900/50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:u.name})}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:u.metric}),e.jsxs("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:[u.condition.replace("_"," ")," ",u.threshold]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d(u.severity)}`,children:u.severity})}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:Array.isArray(u.models)&&u.models.includes("all")?"All Models":`${u.models.length} models`}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex items-center space-x-1",children:u.channels.map(h=>e.jsx("div",{className:"text-neutral-400",children:m(h)},h))})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[u.isActive?e.jsx($e,{className:"w-4 h-4 text-green-500"}):e.jsx(Et,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:`text-sm ${u.isActive?"text-green-600":"text-gray-500"}`,children:u.isActive?"Active":"Paused"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(rt,{className:"w-4 h-4"})})]})})]},u.id))})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Alert Volume Trends"}),e.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg flex items-center justify-center border-2 border-dashed border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"w-12 h-12 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Alert Volume Chart"}),e.jsx("p",{className:"text-sm text-blue-500 dark:text-blue-300 mt-1",children:"7-day trend analysis"})]})})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Response Time Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Average Response Time"}),e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"4.2 min"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Fastest Response"}),e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"45 sec"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"SLA Compliance"}),e.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"98.5%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Escalated Alerts"}),e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"3"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Auto-Resolved"}),e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"12"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-green-700 dark:text-green-300 font-medium",children:"All critical alerts resolved within SLA"})]})})]})})]})]})},pc=()=>{const[r,t]=y.useState("monthly"),[a,s]=y.useState({modelsInProduction:12,totalPredictions:2.4,averageAccuracy:87.3,biasScore:.08,complianceStatus:"compliant",costPerPrediction:.002,revenueImpact:1.2,alertsCount:3});y.useEffect(()=>{const c=setInterval(()=>{s(d=>({...d,totalPredictions:d.totalPredictions+Math.random()*.1,averageAccuracy:Math.max(75,Math.min(95,d.averageAccuracy+(Math.random()-.5)*2))}))},5e3);return()=>clearInterval(c)},[]);const n=[{title:"Models in Production",value:a.modelsInProduction.toString(),change:"+2",changeType:"positive",icon:re,description:"Active ML models serving predictions"},{title:"Daily Predictions",value:`${a.totalPredictions.toFixed(1)}M`,change:"+15.3%",changeType:"positive",icon:le,description:"Total predictions served today"},{title:"Average Accuracy",value:`${a.averageAccuracy.toFixed(1)}%`,change:a.averageAccuracy>85?"+1.2%":"-0.8%",changeType:a.averageAccuracy>85?"positive":"negative",icon:ve,description:"Weighted average across all models"},{title:"Bias Score",value:a.biasScore.toFixed(3),change:"-12%",changeType:"positive",icon:Ce,description:"Lower is better - EU AI Act compliant"},{title:"Revenue Impact",value:`$${a.revenueImpact.toFixed(1)}M`,change:"+18.7%",changeType:"positive",icon:Ra,description:"Monthly revenue attributed to ML"},{title:"Cost per Prediction",value:`$${a.costPerPrediction.toFixed(4)}`,change:"-5.2%",changeType:"positive",icon:ot,description:"Infrastructure cost optimization"}],i=[{type:"Bias Alert",severity:"Medium",count:1,description:"Gender bias detected in model_v2.3",color:"amber"},{type:"Drift Alert",severity:"High",count:2,description:"Significant data drift in user behavior",color:"red"},{type:"Performance",severity:"Low",count:0,description:"All models performing within SLA",color:"green"}],l=[{framework:"GDPR",status:"Compliant",score:98,lastAudit:"2024-01-15"},{framework:"EU AI Act",status:"Compliant",score:95,lastAudit:"2024-01-10"},{framework:"SOC2 Type II",status:"Compliant",score:99,lastAudit:"2024-01-20"},{framework:"ISO 27001",status:"In Progress",score:87,lastAudit:"2024-01-05"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Executive Dashboard"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Real-time ML operations overview and business metrics"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:r,onChange:c=>t(c.target.value),className:"px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-green-700 dark:text-green-300 font-medium",children:"Live Data"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((c,d)=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:e.jsx(Q,{title:c.title,value:c.value,change:c.change,changeType:c.changeType,icon:$a.createElement(c.icon,{className:"w-5 h-5"}),description:c.description})},c.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-1",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Risk Indicators"}),e.jsx(He,{className:"w-5 h-5 text-neutral-500"})]}),e.jsx("div",{className:"space-y-4",children:i.map((c,d)=>e.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${c.color==="red"?"border-red-500 bg-red-50 dark:bg-red-900/20":c.color==="amber"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-green-500 bg-green-50 dark:bg-green-900/20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:c.type}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.severity==="High"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":c.severity==="Medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:c.severity})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:c.description}),c.count>0&&e.jsxs("div",{className:"mt-2 text-xs text-neutral-500 dark:text-neutral-400",children:[c.count," active alert",c.count!==1?"s":""]})]},d))})]})}),e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Model Performance Trends"}),e.jsx(ce,{className:"w-5 h-5 text-neutral-500"})]}),e.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg flex items-center justify-center border-2 border-dashed border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ce,{className:"w-12 h-12 text-blue-400 mx-auto mb-2"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Interactive Performance Chart"}),e.jsx("p",{className:"text-sm text-blue-500 dark:text-blue-300 mt-1",children:"Real-time accuracy, latency, and throughput metrics"})]})})]})})]}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Compliance Status"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Regulatory compliance across all frameworks"})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(ie,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700 dark:text-green-300 font-medium",children:"Overall Compliant"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((c,d)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:c.framework}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.status==="Compliant"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300"}`,children:c.status})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Score"}),e.jsxs("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[c.score,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${c.score>=95?"bg-green-500":c.score>=85?"bg-amber-500":"bg-red-500"}`,style:{width:`${c.score}%`}})})]}),e.jsxs("div",{className:"flex items-center text-xs text-neutral-500 dark:text-neutral-400",children:[e.jsx(Te,{className:"w-3 h-3 mr-1"}),"Last audit: ",c.lastAudit]})]},c.framework))})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Business Impact Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Revenue Attribution"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Monthly ML-driven revenue"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"$1.2M"}),e.jsx("p",{className:"text-sm text-green-500",children:"+18.7% MoM"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Cost Savings"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Automation efficiency gains"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"$450K"}),e.jsx("p",{className:"text-sm text-blue-500",children:"+12.3% MoM"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900 dark:text-purple-100",children:"Risk Mitigation"}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Prevented compliance violations"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"$2.1M"}),e.jsx("p",{className:"text-sm text-purple-500",children:"Potential savings"})]})]})]})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Operational Excellence"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Model Uptime"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"99.97%"})}),e.jsx(ie,{className:"w-4 h-4 text-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Average Latency"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"45ms"}),e.jsx(ot,{className:"w-4 h-4 text-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Error Rate"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"0.03%"}),e.jsx(ot,{className:"w-4 h-4 text-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Throughput"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"1.2K RPS"}),e.jsx(le,{className:"w-4 h-4 text-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Resource Utilization"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"68%"}),e.jsx(re,{className:"w-4 h-4 text-blue-500"})]})]})]})]})})]})]})},Je=[{id:"gdpr",name:"General Data Protection Regulation",shortName:"GDPR",description:"EU regulation on data protection and privacy",region:"European Union",status:"compliant",lastAudit:"2024-01-15",nextAudit:"2024-07-15",score:94,riskLevel:"low",autoGenerated:!0,requirements:[{id:"gdpr-art-13",name:"Right to Explanation",status:"met",description:"Automated individual decision explanations available",evidence:["Explanation API logs","User interface screenshots"],lastChecked:"2024-01-15"},{id:"gdpr-art-5",name:"Data Minimization",status:"met",description:"Only necessary data used for ML models",evidence:["Data inventory","Privacy impact assessment"],lastChecked:"2024-01-15"}]},{id:"eu-ai-act",name:"European Union AI Act",shortName:"EU AI Act",description:"EU regulation on artificial intelligence",region:"European Union",status:"partially-compliant",lastAudit:"2024-01-10",nextAudit:"2024-04-10",score:78,riskLevel:"medium",autoGenerated:!0,requirements:[{id:"ai-act-art-10",name:"Risk Assessment",status:"met",description:"High-risk AI system classification completed",evidence:["Risk assessment document"],lastChecked:"2024-01-10"},{id:"ai-act-art-13",name:"Transparency Requirements",status:"partial",description:"Some transparency obligations need completion",evidence:["Model cards","Documentation"],lastChecked:"2024-01-10"}]},{id:"soc2",name:"SOC 2 Type II",shortName:"SOC 2",description:"Service Organization Control 2 audit framework",region:"United States",status:"compliant",lastAudit:"2023-12-01",nextAudit:"2024-12-01",score:96,riskLevel:"low",autoGenerated:!1,requirements:[{id:"soc2-security",name:"Security Controls",status:"met",description:"All security controls implemented and tested",evidence:["Penetration test results","Security audit logs"],lastChecked:"2023-12-01"}]},{id:"fcra",name:"Fair Credit Reporting Act",shortName:"FCRA",description:"US federal law regulating credit reporting",region:"United States",status:"in-progress",lastAudit:"2024-01-20",nextAudit:"2024-04-20",score:65,riskLevel:"high",autoGenerated:!0,requirements:[{id:"fcra-adverse",name:"Adverse Action Notices",status:"in-progress",description:"Automated adverse action notice generation",evidence:["Template documentation"],lastChecked:"2024-01-20"}]}],gc=[{id:"rep-001",title:"GDPR Compliance Audit Report Q1 2024",framework:"GDPR",type:"audit",status:"approved",createdAt:"2024-01-15",createdBy:"System Admin",lastModified:"2024-01-16",size:"2.4 MB",downloadUrl:"#",summary:{totalRequirements:25,metRequirements:24,pendingRequirements:1,riskScore:94}},{id:"rep-002",title:"EU AI Act Readiness Assessment",framework:"EU AI Act",type:"assessment",status:"pending",createdAt:"2024-01-10",createdBy:"Compliance Team",lastModified:"2024-01-12",size:"1.8 MB",summary:{totalRequirements:18,metRequirements:14,pendingRequirements:4,riskScore:78}},{id:"rep-003",title:"SOC 2 Annual Certification",framework:"SOC 2",type:"certification",status:"approved",createdAt:"2023-12-01",createdBy:"External Auditor",lastModified:"2023-12-15",size:"5.2 MB",downloadUrl:"#",summary:{totalRequirements:32,metRequirements:31,pendingRequirements:1,riskScore:96}}],fc=()=>{const[r,t]=y.useState(null),[a,s]=y.useState(""),[n,i]=y.useState("all"),[l,c]=y.useState("all"),[d,m]=y.useState("overview"),[u,f]=y.useState(!1),h=y.useMemo(()=>Je.filter(o=>{const x=o.name.toLowerCase().includes(a.toLowerCase())||o.shortName.toLowerCase().includes(a.toLowerCase()),N=n==="all"||o.status===n,k=l==="all"||o.region===l;return x&&N&&k}),[a,n,l]),_=y.useMemo(()=>{const o=Je.length,x=Je.filter(A=>A.status==="compliant").length,N=Je.filter(A=>A.status==="partially-compliant").length,k=Je.filter(A=>A.status==="non-compliant").length,T=Je.filter(A=>A.status==="in-progress").length,L=Je.reduce((A,U)=>A+U.score,0)/o,$=Je.filter(A=>A.riskLevel==="critical").length,H=Je.filter(A=>A.riskLevel==="high").length;return{total:o,compliant:x,partiallyCompliant:N,nonCompliant:k,inProgress:T,avgScore:L,criticalRisks:$,highRisks:H}},[]),R=o=>{switch(o){case"compliant":case"approved":case"met":return e.jsx(ie,{className:"w-5 h-5 text-green-500"});case"partially-compliant":case"pending":case"partial":return e.jsx(he,{className:"w-5 h-5 text-yellow-500"});case"non-compliant":case"rejected":case"not-met":return e.jsx(fa,{className:"w-5 h-5 text-red-500"});case"in-progress":case"draft":return e.jsx(Te,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(Te,{className:"w-5 h-5 text-gray-500"})}},v=o=>{switch(o){case"compliant":case"approved":case"met":return"text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400";case"partially-compliant":case"pending":case"partial":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400";case"non-compliant":case"rejected":case"not-met":return"text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400";case"in-progress":case"draft":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20 dark:text-gray-400"}},w=async o=>{f(!0),await new Promise(x=>setTimeout(x,3e3)),f(!1)},b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Compliance Rate"}),e.jsxs("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100 mt-2",children:[(_.compliant/_.total*100).toFixed(0),"%"]}),e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:[_.compliant," of ",_.total," frameworks"]})]}),e.jsx(Ce,{className:"w-12 h-12 text-green-500"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:"Avg Score"}),e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mt-2",children:_.avgScore.toFixed(0)}),e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Out of 100 points"})]}),e.jsx(ce,{className:"w-12 h-12 text-blue-500"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400 uppercase tracking-wider",children:"High Risk"}),e.jsx("div",{className:"text-3xl font-bold text-yellow-900 dark:text-yellow-100 mt-2",children:_.highRisks+_.criticalRisks}),e.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Frameworks requiring attention"})]}),e.jsx(he,{className:"w-12 h-12 text-yellow-500"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Auto Reports"}),e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100 mt-2",children:Je.filter(o=>o.autoGenerated).length}),e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300 mt-1",children:"Automated compliance tracking"})]}),e.jsx(Ve,{className:"w-12 h-12 text-purple-500"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Framework Status Distribution"}),e.jsx("div",{className:"space-y-3",children:[{status:"compliant",count:_.compliant,label:"Compliant"},{status:"partially-compliant",count:_.partiallyCompliant,label:"Partially Compliant"},{status:"in-progress",count:_.inProgress,label:"In Progress"},{status:"non-compliant",count:_.nonCompliant,label:"Non-Compliant"}].map(({status:o,count:x,label:N})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[R(o),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:N})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:x}),e.jsx("div",{className:"w-24 bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:F("h-2 rounded-full",o==="compliant"?"bg-green-500":o==="partially-compliant"?"bg-yellow-500":o==="in-progress"?"bg-blue-500":"bg-red-500"),style:{width:`${x/_.total*100}%`}})})]})]},o))})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Recent Compliance Activities"}),e.jsx("div",{className:"space-y-3",children:[{action:"GDPR Audit Completed",framework:"GDPR",timestamp:"2 hours ago",status:"success"},{action:"EU AI Act Assessment Started",framework:"EU AI Act",timestamp:"1 day ago",status:"in-progress"},{action:"SOC 2 Report Generated",framework:"SOC 2",timestamp:"3 days ago",status:"success"},{action:"FCRA Compliance Check Failed",framework:"FCRA",timestamp:"1 week ago",status:"warning"}].map((o,x)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:F("w-2 h-2 rounded-full",o.status==="success"?"bg-green-500":o.status==="warning"?"bg-yellow-500":"bg-blue-500")}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:o.action}),e.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:o.framework})]})]}),e.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:o.timestamp})]},x))})]})]})]}),g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-2.5 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search frameworks...",value:a,onChange:o=>s(o.target.value),className:"pl-10 w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("select",{value:n,onChange:o=>i(o.target.value),className:"px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"compliant",children:"Compliant"}),e.jsx("option",{value:"partially-compliant",children:"Partially Compliant"}),e.jsx("option",{value:"non-compliant",children:"Non-Compliant"}),e.jsx("option",{value:"in-progress",children:"In Progress"})]}),e.jsxs("select",{value:l,onChange:o=>c(o.target.value),className:"px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"all",children:"All Regions"}),e.jsx("option",{value:"European Union",children:"European Union"}),e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"Global",children:"Global"})]}),e.jsx("button",{onClick:()=>w(),disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4"}),"Generate Report"]})})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h.map(o=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(o),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:o.shortName}),e.jsx("span",{className:F("px-2 py-1 rounded-full text-xs font-medium",v(o.status)),children:o.status.replace("-"," ")}),o.autoGenerated&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",children:"Auto"})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:o.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-500 dark:text-neutral-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(cn,{className:"w-3 h-3"}),o.region]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pa,{className:"w-3 h-3"}),"Last audit: ",new Date(o.lastAudit).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:o.score}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Score"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:[e.jsx("span",{children:"Compliance Score"}),e.jsxs("span",{children:[o.score,"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:F("h-2 rounded-full transition-all duration-500",o.score>=90?"bg-green-500":o.score>=70?"bg-yellow-500":"bg-red-500"),style:{width:`${o.score}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded p-2",children:[e.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:o.requirements.filter(x=>x.status==="met").length}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Met"})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded p-2",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-900 dark:text-yellow-100",children:o.requirements.filter(x=>x.status==="partial").length}),e.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Partial"})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded p-2",children:[e.jsx("div",{className:"text-lg font-bold text-red-900 dark:text-red-100",children:o.requirements.filter(x=>x.status==="not-met").length}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Not Met"})]})]})]},o.id))})]}),p=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700",children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:"Compliance Reports"}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Generate New Report"]})]})}),e.jsx("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:gc.map(o=>e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 hover:bg-neutral-50 dark:hover:bg-neutral-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:o.title}),R(o.status),e.jsx("span",{className:F("px-2 py-1 rounded-full text-xs font-medium",v(o.status)),children:o.status}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:o.type})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-neutral-600 dark:text-neutral-400",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Framework:"})," ",o.framework]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(o.createdAt).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Size:"})," ",o.size]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created by:"})," ",o.createdBy]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-3 text-sm",children:[e.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 rounded p-2 text-center",children:[e.jsx("div",{className:"font-bold text-neutral-900 dark:text-neutral-100",children:o.summary.totalRequirements}),e.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Total Req."})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded p-2 text-center",children:[e.jsx("div",{className:"font-bold text-green-900 dark:text-green-100",children:o.summary.metRequirements}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Met"})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded p-2 text-center",children:[e.jsx("div",{className:"font-bold text-yellow-900 dark:text-yellow-100",children:o.summary.pendingRequirements}),e.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Pending"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded p-2 text-center",children:[e.jsxs("div",{className:"font-bold text-blue-900 dark:text-blue-100",children:[o.summary.riskScore,"%"]}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Risk Score"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:e.jsx(we,{className:"w-4 h-4"})}),o.downloadUrl&&e.jsx("button",{className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:e.jsx(Pe,{className:"w-4 h-4"})})]})]})},o.id))})]})}),j=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Compliance Score Trends"}),e.jsx("div",{className:"h-64 flex items-center justify-center text-neutral-500 dark:text-neutral-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Compliance trend chart would be displayed here"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-4",children:[e.jsx("h5",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-3",children:"Alerts & Notifications"}),e.jsx("div",{className:"space-y-2",children:[{message:"GDPR compliance score dropped to 89%",time:"2 minutes ago",severity:"warning"},{message:"EU AI Act assessment due in 7 days",time:"1 hour ago",severity:"info"},{message:"SOC 2 audit successfully completed",time:"2 hours ago",severity:"success"}].map((o,x)=>e.jsxs("div",{className:"flex items-start gap-2 p-2 rounded bg-neutral-50 dark:bg-neutral-700",children:[e.jsx("div",{className:F("w-2 h-2 rounded-full mt-1.5",o.severity==="warning"?"bg-yellow-500":o.severity==="success"?"bg-green-500":"bg-blue-500")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:o.message}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:o.time})]})]},x))})]}),e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-4",children:[e.jsx("h5",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-3",children:"Upcoming Audits"}),e.jsx("div",{className:"space-y-2",children:Je.filter(o=>new Date(o.nextAudit)<=new Date(Date.now()+30*24*60*60*1e3)).map(o=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-neutral-50 dark:bg-neutral-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:o.shortName}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:new Date(o.nextAudit).toLocaleDateString()})]}),e.jsx(Pa,{className:"w-4 h-4 text-neutral-400"})]},o.id))})]})]})]})});return e.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[e.jsx("div",{className:"bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100 flex items-center gap-3",children:[e.jsx(Ce,{className:"w-8 h-8 text-blue-500"}),"Compliance & Regulatory Reports"]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:"Enterprise-grade compliance monitoring and automated regulatory reporting"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Last updated: ",new Date().toLocaleString()]}),e.jsx("button",{className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:e.jsx(pe,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex gap-1 mt-6",children:[{key:"overview",label:"Overview",icon:ce},{key:"frameworks",label:"Frameworks",icon:Ce},{key:"reports",label:"Reports",icon:Qe},{key:"monitoring",label:"Monitoring",icon:le}].map(({key:o,label:x,icon:N})=>e.jsxs("button",{onClick:()=>m(o),className:F("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all",d===o?"bg-blue-500 text-white shadow-lg":"bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-600"),children:[e.jsx(N,{className:"w-4 h-4"}),x]},o))})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(ge,{mode:"wait",children:[d==="overview"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:b()},"overview"),d==="frameworks"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:g()},"frameworks"),d==="reports"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:p()},"reports"),d==="monitoring"&&e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:j()},"monitoring")]})}),e.jsx(ge,{children:r&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>t(null),children:e.jsxs(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-neutral-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:o=>o.stopPropagation(),children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:r.name}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:r.description})]}),e.jsx("button",{onClick:()=>t(null),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Framework Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Region:"}),e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:r.region})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Status:"}),e.jsx("span",{className:F("capitalize",v(r.status)),children:r.status.replace("-"," ")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Score:"}),e.jsxs("span",{className:"text-neutral-900 dark:text-neutral-100",children:[r.score,"/100"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Risk Level:"}),e.jsx("span",{className:F("capitalize",r.riskLevel==="critical"?"text-red-600":r.riskLevel==="high"?"text-orange-600":r.riskLevel==="medium"?"text-yellow-600":"text-green-600"),children:r.riskLevel})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Last Audit:"}),e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:new Date(r.lastAudit).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Next Audit:"}),e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:new Date(r.nextAudit).toLocaleDateString()})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:["Requirements (",r.requirements.length,")"]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.requirements.map(o=>e.jsxs("div",{className:"p-3 bg-neutral-50 dark:bg-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100 text-sm",children:o.name}),R(o.status)]}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-2",children:o.description}),e.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["Last checked: ",new Date(o.lastChecked).toLocaleDateString()]})]},o.id))})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("button",{onClick:()=>w(r.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Generate Report"]}),e.jsx("button",{onClick:()=>t(null),className:"px-4 py-2 bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-md hover:bg-neutral-300 dark:hover:bg-neutral-600",children:"Close"})]})]})]})})})]})},bc=()=>{const[r,t]=y.useState("issue_001"),[a,s]=y.useState("completed"),n={activeInvestigations:3,resolvedIssues:15,averageResolutionTime:"2.4 hours",automatedHypotheses:28,successRate:87.5,criticalIssues:1},i=[{id:"issue_001",title:"Model Accuracy Degradation - Credit Risk Model",severity:"High",model:"credit_risk_v2.3",detected:"2024-01-19T09:15:00Z",status:"investigating",impact:"High",metrics:{accuracy:{current:.78,baseline:.85,change:-8.2},precision:{current:.72,baseline:.82,change:-12.2},recall:{current:.84,baseline:.88,change:-4.5}},assignee:"ML Team"},{id:"issue_002",title:"Data Drift Alert - Fraud Detection",severity:"Medium",model:"fraud_detection_v1.8",detected:"2024-01-19T11:30:00Z",status:"analyzing",impact:"Medium",metrics:{jsd:{current:.23,baseline:.08,change:187.5},psi:{current:.15,baseline:.05,change:200}},assignee:"Data Science Team"},{id:"issue_003",title:"Bias Threshold Violation - Loan Approval",severity:"Critical",model:"loan_approval_v1.5",detected:"2024-01-19T14:45:00Z",status:"hypothesis_generated",impact:"Critical",metrics:{demographic_parity:{current:.18,baseline:.08,change:125},equalized_odds:{current:.12,baseline:.06,change:100}},assignee:"Fairness Team"}],l=[{id:"hyp_001",hypothesis:"Recent data distribution shift due to seasonal patterns",confidence:.85,evidence:["Feature correlation analysis shows 23% change in income distribution","Temporal analysis indicates alignment with Q4 seasonal trends","Similar patterns observed in historical data from previous years"],category:"Data Drift",impact:"High",likelihood:"Very Likely",supportingData:{correlationChange:.23,temporalAlignment:.91,historicalSimilarity:.88}},{id:"hyp_002",hypothesis:"Training data bias in recent model update",confidence:.72,evidence:["Model version 2.3 deployed 3 days before issue detection","Training dataset shows underrepresentation of certain demographics","Bias metrics degraded specifically after model deployment"],category:"Model Bias",impact:"Critical",likelihood:"Likely",supportingData:{deploymentAlignment:.95,datasetBias:.68,metricCorrelation:.89}},{id:"hyp_003",hypothesis:"Infrastructure latency affecting feature computation",confidence:.45,evidence:["Increased feature computation time observed","Database query performance degraded by 15%","Feature engineering pipeline showing timeout errors"],category:"Infrastructure",impact:"Medium",likelihood:"Possible",supportingData:{latencyIncrease:.15,queryPerformance:.85,timeoutFrequency:.08}}],c=[{step:1,title:"Issue Detection & Classification",status:"completed",timestamp:"2024-01-19T09:15:00Z",details:"Automated monitoring detected accuracy degradation below threshold",evidence:["Performance metrics","Alert logs","Model metadata"],duration:"2 minutes"},{step:2,title:"Data Collection & Analysis",status:"completed",timestamp:"2024-01-19T09:17:00Z",details:"Gathered recent prediction data, feature distributions, and system logs",evidence:["Prediction logs","Feature analysis","System metrics"],duration:"15 minutes"},{step:3,title:"Hypothesis Generation",status:"completed",timestamp:"2024-01-19T09:32:00Z",details:"AI-powered analysis generated 3 potential root causes with confidence scores",evidence:["Statistical analysis","Pattern recognition","Historical comparisons"],duration:"8 minutes"},{step:4,title:"Evidence Validation",status:"in_progress",timestamp:"2024-01-19T09:40:00Z",details:"Validating hypotheses through controlled experiments and data analysis",evidence:["A/B testing","Feature importance","Correlation analysis"],duration:"45 minutes (ongoing)"},{step:5,title:"Root Cause Confirmation",status:"pending",timestamp:null,details:"Final validation and confirmation of primary root cause",evidence:[],duration:"Estimated 20 minutes"},{step:6,title:"Remediation Planning",status:"pending",timestamp:null,details:"Generate actionable remediation steps and implementation plan",evidence:[],duration:"Estimated 15 minutes"}],d=[{id:"rec_001",title:"Immediate Model Rollback",priority:"Critical",category:"Emergency Response",description:"Rollback to previous model version (v2.2) to restore baseline performance",estimatedImpact:"Restore 85% accuracy within 15 minutes",effort:"Low",timeline:"15 minutes",confidence:.95,steps:["Deploy model version 2.2 to production","Update routing configuration","Validate performance restoration","Monitor for 2 hours"]},{id:"rec_002",title:"Retrain with Balanced Dataset",priority:"High",category:"Model Improvement",description:"Address training data bias by rebalancing demographic representation",estimatedImpact:"Improve fairness metrics by 60-80%",effort:"Medium",timeline:"2-3 days",confidence:.82,steps:["Audit training dataset for bias","Apply sampling techniques for balance","Retrain model with fairness constraints","Validate on holdout test set","Deploy with gradual rollout"]},{id:"rec_003",title:"Enhanced Data Monitoring",priority:"Medium",category:"Prevention",description:"Implement proactive monitoring for data distribution changes",estimatedImpact:"Detect drift 70% earlier",effort:"Medium",timeline:"1 week",confidence:.78,steps:["Deploy real-time drift detection","Set up automated alerts","Create drift visualization dashboard","Train team on new monitoring tools"]}],m=h=>{switch(h){case"completed":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300";case"in_progress":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";case"pending":return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},u=h=>{switch(h){case"Critical":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";case"High":return"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-300";case"Medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"Low":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},f=h=>{switch(h){case"Critical":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";case"High":return"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-300";case"Medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"Low":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Root Cause Analysis"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"AI-powered investigation and automated hypothesis generation for ML issues"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:"Start Investigation"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e.jsx(Q,{title:"Active Investigations",value:n.activeInvestigations.toString(),change:"+1",changeType:"neutral",icon:qe,description:"Currently analyzing issues"}),e.jsx(Q,{title:"Resolved Issues",value:n.resolvedIssues.toString(),change:"+3",changeType:"positive",icon:ie,description:"Issues resolved this week"}),e.jsx(Q,{title:"Avg Resolution Time",value:n.averageResolutionTime,change:"-0.3 hours",changeType:"positive",icon:Te,description:"Time to identify root cause"}),e.jsx(Q,{title:"AI Hypotheses",value:n.automatedHypotheses.toString(),change:"+5",changeType:"positive",icon:br,description:"Generated this week"}),e.jsx(Q,{title:"Success Rate",value:`${n.successRate}%`,change:"+2.1%",changeType:"positive",icon:ve,description:"Hypothesis accuracy rate"}),e.jsx(Q,{title:"Critical Issues",value:n.criticalIssues.toString(),change:"0",changeType:"neutral",icon:he,description:"High priority investigations"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Active Issues"}),e.jsx(Ke,{className:"w-4 h-4 text-neutral-500"})]}),e.jsx("div",{className:"space-y-4",children:i.map((h,_)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:`p-4 border-l-4 rounded-lg cursor-pointer transition-all ${r===h.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":h.severity==="Critical"?"border-red-500 bg-red-50 dark:bg-red-900/20":h.severity==="High"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20":"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20"}`,onClick:()=>t(h.id),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u(h.severity)}`,children:h.severity}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m(h.status)}`,children:h.status.replace("_"," ")})]}),e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:h.title}),e.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400 space-y-1",children:[e.jsxs("div",{children:["Model: ",h.model]}),e.jsxs("div",{children:["Detected: ",new Date(h.detected).toLocaleString()]}),e.jsxs("div",{children:["Assignee: ",h.assignee]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Key Metrics:"}),e.jsx("div",{className:"space-y-1",children:Object.entries(h.metrics).map(([R,v])=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"capitalize",children:[R,":"]}),e.jsxs("span",{className:`font-medium ${v.change<0?"text-red-600":"text-green-600"}`,children:[v.current," (",v.change>0?"+":"",v.change.toFixed(1),"%)"]})]},R))})]})]},h.id))})]})}),e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Investigation Timeline"}),e.jsxs("div",{className:"text-sm text-neutral-500",children:["Issue: ",r]})]}),e.jsx("div",{className:"space-y-6",children:c.map((h,_)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${h.status==="completed"?"bg-green-500 text-white":h.status==="in_progress"?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:h.status==="completed"?e.jsx(ie,{className:"w-4 h-4"}):h.status==="in_progress"?e.jsx(Te,{className:"w-4 h-4"}):e.jsx("span",{className:"text-sm font-medium",children:h.step})}),_<c.length-1&&e.jsx("div",{className:`w-0.5 h-12 mt-2 ${h.status==="completed"?"bg-green-500":"bg-gray-300"}`})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:h.title}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m(h.status)}`,children:h.status.replace("_"," ")})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:h.details}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500",children:[e.jsx("div",{children:h.timestamp&&e.jsxs("span",{children:["Started: ",new Date(h.timestamp).toLocaleString()]})}),e.jsxs("div",{children:["Duration: ",h.duration]})]}),h.evidence.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Evidence:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.evidence.map(R=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs",children:R},R))})]})]})]},h.step))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"AI-Generated Hypotheses"}),e.jsx(br,{className:"w-5 h-5 text-yellow-500"})]}),e.jsx("div",{className:"space-y-4",children:l.map((h,_)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:h.category}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${f(h.impact)}`,children:[h.impact," Impact"]}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:[(h.confidence*100).toFixed(0),"%"]})]})]}),e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:h.hypothesis}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:"Confidence Level"}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${h.confidence>=.8?"bg-green-500":h.confidence>=.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${h.confidence*100}%`}})}),e.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:h.likelihood})]}),e.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:[e.jsx("div",{className:"font-medium mb-1",children:"Supporting Evidence:"}),e.jsxs("ul",{className:"space-y-1",children:[h.evidence.slice(0,2).map((R,v)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-neutral-400 mt-1",children:"•"}),e.jsx("span",{children:R})]},v)),h.evidence.length>2&&e.jsxs("li",{className:"text-blue-600 dark:text-blue-400 cursor-pointer",children:["+",h.evidence.length-2," more evidence items"]})]})]})]},h.id))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Recommended Actions"}),e.jsx(ve,{className:"w-5 h-5 text-green-500"})]}),e.jsx("div",{className:"space-y-4",children:d.map((h,_)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:border-blue-300 dark:hover:border-blue-600 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f(h.priority)}`,children:h.priority}),e.jsx("span",{className:"text-xs text-neutral-500",children:h.category})]}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:[(h.confidence*100).toFixed(0),"% confidence"]})]}),e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:h.title}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:h.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Impact:"}),e.jsx("div",{className:"font-medium",children:h.estimatedImpact})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Timeline:"}),e.jsx("div",{className:"font-medium",children:h.timeline})]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"text-neutral-500 mb-1",children:"Implementation Steps:"}),e.jsxs("ol",{className:"space-y-1",children:[h.steps.slice(0,2).map((R,v)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsxs("span",{className:"text-neutral-400",children:[v+1,"."]}),e.jsx("span",{children:R})]},v)),h.steps.length>2&&e.jsxs("li",{className:"text-blue-600 dark:text-blue-400",children:["+",h.steps.length-2," more steps"]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-neutral-200 dark:border-neutral-700",children:e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:"Implement Solution"})})]},h.id))})]})})]}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Analysis Insights & Historical Patterns"}),e.jsx("div",{className:"h-64 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg flex items-center justify-center border-2 border-dashed border-purple-200 dark:border-purple-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ce,{className:"w-12 h-12 text-purple-400 mx-auto mb-2"}),e.jsx("p",{className:"text-purple-600 dark:text-purple-400 font-medium",children:"Historical Root Cause Analysis"}),e.jsx("p",{className:"text-sm text-purple-500 dark:text-purple-300 mt-1",children:"Patterns, trends, and correlation analysis"})]})})]})})]})},jc=()=>{const[r,t]=y.useState(null),[a,s]=y.useState(!1),n={totalConnectors:8,activeConnections:6,dataTransferred:"2.4TB",lastSync:"5 minutes ago",successRate:98.5,errorCount:2},i=[{id:"snowflake",name:"Snowflake",description:"Enterprise data warehouse connectivity",icon:"❄️",category:"Data Warehouse",isEnabled:!0,connectionCount:2,features:["Bulk data loading","Real-time streaming","SQL queries","Schema detection"]},{id:"aws_s3",name:"AWS S3",description:"Amazon S3 object storage integration",icon:"☁️",category:"Cloud Storage",isEnabled:!0,connectionCount:3,features:["File upload/download","Batch processing","Event triggers","Versioning"]},{id:"databricks",name:"Databricks",description:"Unified analytics platform connector",icon:"🧱",category:"Analytics Platform",isEnabled:!0,connectionCount:1,features:["MLflow integration","Spark clusters","Delta Lake","Notebooks"]},{id:"bigquery",name:"BigQuery",description:"Google Cloud data warehouse",icon:"🔍",category:"Data Warehouse",isEnabled:!0,connectionCount:1,features:["SQL analytics","ML models","Real-time data","Federated queries"]},{id:"kafka",name:"Apache Kafka",description:"Real-time data streaming platform",icon:"🌊",category:"Streaming",isEnabled:!1,connectionCount:0,features:["Event streaming","Real-time processing","High throughput","Fault tolerance"]},{id:"postgresql",name:"PostgreSQL",description:"Relational database connectivity",icon:"🐘",category:"Database",isEnabled:!0,connectionCount:1,features:["ACID compliance","JSON support","Full-text search","Replication"]}],l=[{id:"conn_001",name:"Production Data Warehouse",type:"Snowflake",status:"connected",lastSync:"2024-01-19T14:30:00Z",dataTransferred:"458.2 GB",errorCount:0,uptime:"99.8%",environment:"Production",credentials:"prod-snowflake-key",syncFrequency:"Real-time",tables:45},{id:"conn_002",name:"ML Training Data",type:"AWS S3",status:"connected",lastSync:"2024-01-19T14:25:00Z",dataTransferred:"1.2 TB",errorCount:0,uptime:"99.9%",environment:"Production",credentials:"aws-s3-role",syncFrequency:"Hourly",buckets:8},{id:"conn_003",name:"Analytics Workspace",type:"Databricks",status:"connected",lastSync:"2024-01-19T14:20:00Z",dataTransferred:"234.5 GB",errorCount:1,uptime:"98.2%",environment:"Development",credentials:"databricks-token",syncFrequency:"Daily",notebooks:12},{id:"conn_004",name:"Compliance Reporting DB",type:"BigQuery",status:"connected",lastSync:"2024-01-19T14:15:00Z",dataTransferred:"89.3 GB",errorCount:0,uptime:"99.5%",environment:"Production",credentials:"gcp-service-account",syncFrequency:"Daily",datasets:6},{id:"conn_005",name:"Customer Database",type:"PostgreSQL",status:"error",lastSync:"2024-01-19T12:45:00Z",dataTransferred:"45.7 GB",errorCount:3,uptime:"95.1%",environment:"Staging",credentials:"postgres-staging",syncFrequency:"6 hours",tables:18},{id:"conn_006",name:"Feature Store",type:"AWS S3",status:"syncing",lastSync:"2024-01-19T14:35:00Z",dataTransferred:"567.8 GB",errorCount:0,uptime:"99.7%",environment:"Production",credentials:"aws-feature-store",syncFrequency:"Real-time",buckets:3}],c=[{timestamp:"2024-01-19T14:30:00Z",connection:"Production Data Warehouse",type:"Scheduled Sync",status:"success",duration:"2.3 minutes",recordsProcessed:12500,dataSize:"45.2 MB"},{timestamp:"2024-01-19T14:25:00Z",connection:"ML Training Data",type:"Incremental Sync",status:"success",duration:"5.7 minutes",recordsProcessed:8900,dataSize:"123.4 MB"},{timestamp:"2024-01-19T14:20:00Z",connection:"Analytics Workspace",type:"Full Sync",status:"warning",duration:"15.2 minutes",recordsProcessed:45e3,dataSize:"567.8 MB"},{timestamp:"2024-01-19T14:15:00Z",connection:"Compliance Reporting DB",type:"Scheduled Sync",status:"success",duration:"3.1 minutes",recordsProcessed:6700,dataSize:"78.9 MB"},{timestamp:"2024-01-19T12:45:00Z",connection:"Customer Database",type:"Scheduled Sync",status:"error",duration:"1.2 minutes",recordsProcessed:0,dataSize:"0 MB"}],d={completeness:94.2,accuracy:96.8,consistency:91.5,timeliness:98.1,validity:93.7,uniqueness:99.2},m=f=>{switch(f){case"connected":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300";case"syncing":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";case"error":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";case"disconnected":return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},u=f=>{switch(f){case"connected":return e.jsx(ie,{className:"w-4 h-4"});case"syncing":return e.jsx(pe,{className:"w-4 h-4 animate-spin"});case"error":return e.jsx(fa,{className:"w-4 h-4"});case"disconnected":return e.jsx(he,{className:"w-4 h-4"});default:return e.jsx(he,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Data Connectors"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Enterprise data source integrations and real-time synchronization"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Connector"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e.jsx(Q,{title:"Total Connectors",value:n.totalConnectors.toString(),change:"+1",changeType:"positive",icon:an,description:"Available connector types"}),e.jsx(Q,{title:"Active Connections",value:n.activeConnections.toString(),change:"0",changeType:"neutral",icon:re,description:"Currently connected sources"}),e.jsx(Q,{title:"Data Transferred",value:n.dataTransferred,change:"+15.2%",changeType:"positive",icon:ke,description:"Total data processed today"}),e.jsx(Q,{title:"Last Sync",value:n.lastSync,change:"Real-time",changeType:"positive",icon:Te,description:"Most recent synchronization"}),e.jsx(Q,{title:"Success Rate",value:`${n.successRate}%`,change:"+0.3%",changeType:"positive",icon:ie,description:"Sync success percentage"}),e.jsx(Q,{title:"Error Count",value:n.errorCount.toString(),change:"-1",changeType:"positive",icon:he,description:"Sync errors in last 24h"})]}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Available Connectors"}),e.jsxs("div",{className:"text-sm text-neutral-500",children:[i.filter(f=>f.isEnabled).length," of ",i.length," enabled"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((f,h)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:`p-6 border rounded-lg transition-all cursor-pointer ${f.isEnabled?"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800":"border-neutral-200 dark:border-neutral-700 hover:border-blue-300 dark:hover:border-blue-600"}`,onClick:()=>t(f.id),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:f.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:f.name}),e.jsx("p",{className:"text-sm text-neutral-500",children:f.category})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:f.isEnabled?e.jsx(ie,{className:"w-5 h-5 text-green-500"}):e.jsx(We,{className:"w-5 h-5 text-neutral-400"})})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:f.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-neutral-500 mb-2",children:"Key Features:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.features.slice(0,2).map(_=>e.jsx("span",{className:"px-2 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded text-xs",children:_},_)),f.features.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-500 rounded text-xs",children:["+",f.features.length-2," more"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[f.connectionCount," connection",f.connectionCount!==1?"s":""]}),e.jsx("button",{className:`px-3 py-1 rounded text-xs font-medium transition-colors ${f.isEnabled?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 hover:bg-blue-200":"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300 hover:bg-neutral-200"}`,children:f.isEnabled?"Configure":"Enable"})]})]},f.id))})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Active Connections"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4 text-neutral-500"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"Auto-refresh enabled"})]})]}),e.jsx("div",{className:"space-y-4",children:l.map((f,h)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[u(f.status),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:f.name})]}),e.jsxs("span",{className:"text-sm text-neutral-500",children:["(",f.type,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m(f.status)}`,children:f.status}),e.jsx("span",{className:"text-xs text-neutral-500",children:f.environment})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Last Sync:"}),e.jsx("div",{className:"font-medium",children:new Date(f.lastSync).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Data Transferred:"}),e.jsx("div",{className:"font-medium",children:f.dataTransferred})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Uptime:"}),e.jsx("div",{className:"font-medium",children:f.uptime})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Sync Frequency:"}),e.jsx("div",{className:"font-medium",children:f.syncFrequency})]})]}),f.errorCount>0&&e.jsx("div",{className:"mt-3 p-2 bg-red-50 dark:bg-red-900/20 rounded",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:"text-sm text-red-700 dark:text-red-300",children:[f.errorCount," error",f.errorCount!==1?"s":""," in last 24 hours"]})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-neutral-500",children:[e.jsxs("span",{children:[f.tables&&`${f.tables} tables`,f.buckets&&`${f.buckets} buckets`,f.notebooks&&`${f.notebooks} notebooks`,f.datasets&&`${f.datasets} datasets`]}),e.jsxs("span",{children:["Credential: ",f.credentials]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-800 transition-colors",children:e.jsx(pe,{className:"w-4 h-4"})})]})]})]},f.id))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Data Quality"}),e.jsx(Ce,{className:"w-5 h-5 text-green-500"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(d).map(([f,h],_)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 capitalize",children:f}),e.jsxs("span",{className:"text-sm font-semibold",children:[h.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${h>=95?"bg-green-500":h>=85?"bg-yellow-500":"bg-red-500"}`,style:{width:`${h}%`}})})]},f))}),e.jsx("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Overall Quality Score: 95.6%"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Excellent data quality across all sources"})]})]})})]})})]}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Recent Sync History"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{className:"px-3 py-1 border border-neutral-300 dark:border-neutral-600 rounded text-sm",children:[e.jsx("option",{children:"All Connections"}),e.jsx("option",{children:"Success Only"}),e.jsx("option",{children:"Errors Only"})]}),e.jsx(Pe,{className:"w-4 h-4 text-neutral-500 cursor-pointer"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Timestamp"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Connection"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Duration"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Records"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Data Size"})]})}),e.jsx("tbody",{children:c.map((f,h)=>e.jsxs(C.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:h*.1},className:"border-b border-neutral-100 dark:border-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-900/50",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-600 dark:text-neutral-400",children:new Date(f.timestamp).toLocaleString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:f.connection})}),e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-600 dark:text-neutral-400",children:f.type}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f.status==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":f.status==="warning"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:f.status})}),e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-600 dark:text-neutral-400",children:f.duration}),e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-600 dark:text-neutral-400",children:f.recordsProcessed.toLocaleString()}),e.jsx("td",{className:"py-3 px-4 text-sm text-neutral-600 dark:text-neutral-400",children:f.dataSize})]},h))})]})})]})})]})},yc=[{id:"test-001",name:"Credit Risk Model v2.1 vs v2.0",description:"Testing improved credit risk model with additional features",status:"running",modelA:{id:"model-v20",name:"Credit Risk v2.0",version:"2.0.1"},modelB:{id:"model-v21",name:"Credit Risk v2.1",version:"2.1.0"},trafficSplit:{modelA:50,modelB:50},metrics:{accuracy:{modelA:.876,modelB:.891},precision:{modelA:.823,modelB:.847},recall:{modelA:.901,modelB:.912},f1Score:{modelA:.86,modelB:.878},latency:{modelA:45,modelB:52}},startDate:"2024-01-10T08:00:00Z",sampleSize:1e4,currentSamples:7834,significanceLevel:.05,statisticalSignificance:!0,winner:"modelB",createdBy:"Data Science Team",createdAt:"2024-01-09T14:30:00Z",businessMetrics:{revenue:{modelA:125e4,modelB:1287500},conversions:{modelA:.156,modelB:.162},userSatisfaction:{modelA:4.2,modelB:4.5}}},{id:"test-002",name:"Fraud Detection Enhanced Features",description:"Testing enhanced fraud detection with transaction patterns",status:"completed",modelA:{id:"fraud-v10",name:"Fraud Detection v1.0",version:"1.0.3"},modelB:{id:"fraud-v11",name:"Fraud Detection v1.1",version:"1.1.0"},trafficSplit:{modelA:30,modelB:70},metrics:{accuracy:{modelA:.943,modelB:.967},precision:{modelA:.889,modelB:.923},recall:{modelA:.756,modelB:.834},f1Score:{modelA:.817,modelB:.876},latency:{modelA:23,modelB:28}},startDate:"2024-01-01T00:00:00Z",endDate:"2024-01-08T23:59:59Z",sampleSize:5e4,currentSamples:5e4,significanceLevel:.01,statisticalSignificance:!0,winner:"modelB",createdBy:"ML Engineering Team",createdAt:"2023-12-28T16:45:00Z",businessMetrics:{revenue:{modelA:21e5,modelB:2234e3},conversions:{modelA:.234,modelB:.267},userSatisfaction:{modelA:4.1,modelB:4.3}}},{id:"test-003",name:"Customer Churn Prediction A/B",description:"Comparing gradient boosting vs neural network approaches",status:"draft",modelA:{id:"churn-gb",name:"Churn Gradient Boosting",version:"1.0.0"},modelB:{id:"churn-nn",name:"Churn Neural Network",version:"1.0.0"},trafficSplit:{modelA:50,modelB:50},metrics:{accuracy:{modelA:0,modelB:0},precision:{modelA:0,modelB:0},recall:{modelA:0,modelB:0},f1Score:{modelA:0,modelB:0},latency:{modelA:0,modelB:0}},startDate:"2024-01-20T09:00:00Z",sampleSize:25e3,currentSamples:0,significanceLevel:.05,statisticalSignificance:!1,createdBy:"Product Team",createdAt:"2024-01-15T11:20:00Z"}],vc=()=>{const[r,t]=y.useState(yc),[a,s]=y.useState(null),[n,i]=y.useState("overview"),[l,c]=y.useState(""),[d,m]=y.useState("all"),[u,f]=y.useState(!1),[h,_]=y.useState({name:"",description:"",modelA:"",modelB:"",trafficSplit:50,duration:7,sampleSize:1e4,significanceLevel:.05,metrics:["accuracy","precision","recall"]}),R=r.filter(N=>{const k=N.name.toLowerCase().includes(l.toLowerCase())||N.description.toLowerCase().includes(l.toLowerCase()),T=d==="all"||N.status===d;return k&&T}),v={total:r.length,running:r.filter(N=>N.status==="running").length,completed:r.filter(N=>N.status==="completed").length,draft:r.filter(N=>N.status==="draft").length,significant:r.filter(N=>N.statisticalSignificance).length},w=N=>{switch(N){case"running":return e.jsx($e,{className:"w-4 h-4 text-green-500"});case"completed":return e.jsx(ie,{className:"w-4 h-4 text-blue-500"});case"paused":return e.jsx(Et,{className:"w-4 h-4 text-yellow-500"});case"cancelled":return e.jsx(fa,{className:"w-4 h-4 text-red-500"});default:return e.jsx(de,{className:"w-4 h-4 text-gray-500"})}},b=N=>{switch(N){case"running":return"text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400";case"completed":return"text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400";case"paused":return"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400";case"cancelled":return"text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-50 dark:bg-gray-900/20 dark:text-gray-400"}},g=N=>Math.min(N.currentSamples/N.sampleSize*100,100),p=async()=>{const N={id:`test-${Date.now()}`,name:h.name,description:h.description,status:"draft",modelA:{id:h.modelA,name:`Model A (${h.modelA})`,version:"1.0.0"},modelB:{id:h.modelB,name:`Model B (${h.modelB})`,version:"1.0.0"},trafficSplit:{modelA:h.trafficSplit,modelB:100-h.trafficSplit},metrics:{accuracy:{modelA:0,modelB:0},precision:{modelA:0,modelB:0},recall:{modelA:0,modelB:0},f1Score:{modelA:0,modelB:0},latency:{modelA:0,modelB:0}},startDate:new Date(Date.now()+864e5).toISOString(),sampleSize:h.sampleSize,currentSamples:0,significanceLevel:h.significanceLevel,statisticalSignificance:!1,createdBy:"Current User",createdAt:new Date().toISOString()};t(k=>[...k,N]),f(!1),_({name:"",description:"",modelA:"",modelB:"",trafficSplit:50,duration:7,sampleSize:1e4,significanceLevel:.05,metrics:["accuracy","precision","recall"]})},j=async N=>{t(k=>k.map(T=>T.id===N?{...T,status:"running"}:T))},o=async N=>{t(k=>k.map(T=>T.id===N?{...T,status:"paused"}:T))},x=async N=>{t(k=>k.filter(T=>T.id!==N))};return e.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[e.jsx("div",{className:"bg-white dark:bg-neutral-800 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100 flex items-center gap-3",children:[e.jsx(Bi,{className:"w-8 h-8 text-purple-500"}),"A/B Testing Dashboard"]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:"Design, monitor, and analyze A/B tests for model performance comparison"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),"New A/B Test"]}),e.jsx("button",{className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:e.jsx(pe,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wider",children:"Total Tests"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:v.total})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 uppercase tracking-wider",children:"Running"}),e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:v.running})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wider",children:"Completed"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:v.completed})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-medium text-yellow-600 dark:text-yellow-400 uppercase tracking-wider",children:"Draft"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:v.draft})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-medium text-indigo-600 dark:text-indigo-400 uppercase tracking-wider",children:"Significant"}),e.jsx("div",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:v.significant})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-2.5 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search tests...",value:l,onChange:N=>c(N.target.value),className:"pl-10 w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("select",{value:d,onChange:N=>m(N.target.value),className:"px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"running",children:"Running"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"draft",children:"Draft"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4 text-neutral-500"}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[R.length," tests found"]})]})]})}),e.jsx("div",{className:"mt-6 space-y-4",children:R.map(N=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-neutral-800 rounded-lg border border-neutral-200 dark:border-neutral-700 p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:N.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[w(N.status),e.jsx("span",{className:F("px-2 py-1 rounded-full text-xs font-medium",b(N.status)),children:N.status})]}),N.statisticalSignificance&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Significant"})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:N.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:["Model A: ",N.modelA.name]}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[N.trafficSplit.modelA,"% traffic"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Accuracy:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[(N.metrics.accuracy.modelA*100).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Latency:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[N.metrics.latency.modelA,"ms"]})]})]})]}),e.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:["Model B: ",N.modelB.name]}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[N.trafficSplit.modelB,"% traffic"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Accuracy:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[(N.metrics.accuracy.modelB*100).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Latency:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[N.metrics.latency.modelB,"ms"]})]})]})]})]}),N.status==="running"&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[N.currentSamples.toLocaleString()," / ",N.sampleSize.toLocaleString()," samples"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${g(N)}%`}})})]}),N.winner&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full text-sm font-medium",children:[e.jsx(ie,{className:"w-4 h-4"}),"Winner: ",N.winner==="modelA"?N.modelA.name:N.modelB.name]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>s(N),className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:e.jsx(we,{className:"w-4 h-4"})}),N.status==="draft"&&e.jsx("button",{onClick:()=>j(N.id),className:"p-2 text-green-600 hover:text-green-700",children:e.jsx($e,{className:"w-4 h-4"})}),N.status==="running"&&e.jsx("button",{onClick:()=>o(N.id),className:"p-2 text-yellow-600 hover:text-yellow-700",children:e.jsx(Et,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(N.id),className:"p-2 text-red-600 hover:text-red-700",children:e.jsx(rt,{className:"w-4 h-4"})})]})]})},N.id))})]}),e.jsx(ge,{children:u&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>f(!1),children:e.jsxs(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-neutral-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:"Create New A/B Test"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Test Name"}),e.jsx("input",{type:"text",value:h.name,onChange:N=>_(k=>({...k,name:N.target.value})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Description"}),e.jsx("textarea",{value:h.description,onChange:N=>_(k=>({...k,description:N.target.value})),rows:3,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Model A (Control)"}),e.jsx("input",{type:"text",value:h.modelA,onChange:N=>_(k=>({...k,modelA:N.target.value})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Model B (Variant)"}),e.jsx("input",{type:"text",value:h.modelB,onChange:N=>_(k=>({...k,modelB:N.target.value})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:["Traffic Split (Model A): ",h.trafficSplit,"%"]}),e.jsx("input",{type:"range",min:"10",max:"90",value:h.trafficSplit,onChange:N=>_(k=>({...k,trafficSplit:parseInt(N.target.value)})),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 mt-1",children:[e.jsxs("span",{children:["Model A: ",h.trafficSplit,"%"]}),e.jsxs("span",{children:["Model B: ",100-h.trafficSplit,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Sample Size"}),e.jsx("input",{type:"number",value:h.sampleSize,onChange:N=>_(k=>({...k,sampleSize:parseInt(N.target.value)})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Significance Level"}),e.jsxs("select",{value:h.significanceLevel,onChange:N=>_(k=>({...k,significanceLevel:parseFloat(N.target.value)})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:.01,children:"0.01 (99% confidence)"}),e.jsx("option",{value:.05,children:"0.05 (95% confidence)"}),e.jsx("option",{value:.1,children:"0.1 (90% confidence)"})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-neutral-200 dark:border-neutral-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100",children:"Cancel"}),e.jsx("button",{onClick:p,disabled:!h.name||!h.modelA||!h.modelB,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Test"})]})]})})}),e.jsx(ge,{children:a&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>s(null),children:e.jsxs(C.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-neutral-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 dark:text-neutral-100",children:a.name}),e.jsx("button",{onClick:()=>s(null),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Model Performance Comparison"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accuracy:"}),e.jsxs("span",{children:["A: ",(a.metrics.accuracy.modelA*100).toFixed(1),"% | B: ",(a.metrics.accuracy.modelB*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Precision:"}),e.jsxs("span",{children:["A: ",(a.metrics.precision.modelA*100).toFixed(1),"% | B: ",(a.metrics.precision.modelB*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Recall:"}),e.jsxs("span",{children:["A: ",(a.metrics.recall.modelA*100).toFixed(1),"% | B: ",(a.metrics.recall.modelB*100).toFixed(1),"%"]})]})]})]}),a.businessMetrics&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Business Impact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Revenue:"}),e.jsxs("span",{children:["A: $",a.businessMetrics.revenue.modelA.toLocaleString()," | B: $",a.businessMetrics.revenue.modelB.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Conversion Rate:"}),e.jsxs("span",{children:["A: ",(a.businessMetrics.conversions.modelA*100).toFixed(1),"% | B: ",(a.businessMetrics.conversions.modelB*100).toFixed(1),"%"]})]})]})]})]})})]})})})]})},Nc=()=>{const[r,t]=y.useState("customer_data"),[a,s]=y.useState(null),[n,i]=y.useState(!0),[l,c]=y.useState(null),[d,m]=y.useState("overview"),[u,f]=y.useState(!1),h={dataset_id:"customer_data",dataset_name:"Customer Demographics",total_rows:125e3,total_columns:28,metrics:{completeness:87.3,accuracy:91.2,consistency:85.7,validity:93.8,uniqueness:96.1,timeliness:78.9,overall_score:88.8},issues:[{id:"iss_001",type:"missing_values",severity:"high",description:"High rate of missing values in income field",affected_rows:15600,affected_columns:["annual_income"],suggested_action:"Implement income estimation model or require field completion",detected_at:"2024-01-20T10:30:00Z"},{id:"iss_002",type:"duplicates",severity:"medium",description:"Duplicate customer records based on email",affected_rows:3200,affected_columns:["email","customer_id"],suggested_action:"Merge duplicate records and establish unique constraints",detected_at:"2024-01-20T10:45:00Z"},{id:"iss_003",type:"outliers",severity:"low",description:"Age values outside expected range",affected_rows:145,affected_columns:["age"],suggested_action:"Review and validate outlier records manually",detected_at:"2024-01-20T11:15:00Z"},{id:"iss_004",type:"format_errors",severity:"medium",description:"Inconsistent phone number formats",affected_rows:8900,affected_columns:["phone_number"],suggested_action:"Standardize phone number format using validation rules",detected_at:"2024-01-20T11:30:00Z"}],last_assessed:"2024-01-20T12:00:00Z",trend:"improving"},_=[{id:"rule_001",name:"Email Format Validation",type:"format",description:"Ensures all email addresses follow valid format",threshold:95,enabled:!0,violations:245},{id:"rule_002",name:"Age Range Check",type:"range",description:"Age should be between 18 and 120",threshold:99,enabled:!0,violations:12},{id:"rule_003",name:"Customer ID Uniqueness",type:"uniqueness",description:"Customer IDs must be unique across dataset",threshold:100,enabled:!0,violations:0},{id:"rule_004",name:"Required Fields Completeness",type:"completeness",description:"Critical fields must not be null",threshold:98,enabled:!0,violations:1876}];y.useEffect(()=>{R()},[r]);const R=async()=>{try{i(!0),c(null);const p=await ze.getDataQuality(r);if(p.success&&p.data)s(p.data);else{setTimeout(()=>{s(h),i(!1)},1e3);return}}catch(p){console.warn("API call failed, using mock data:",p),setTimeout(()=>{s(h),i(!1)},1e3);return}i(!1)},v=async()=>{try{f(!0),(await ze.runQualityAssessment(r)).success&&await R()}catch(p){console.error("Failed to run quality assessment:",p),setTimeout(()=>{R()},3e3)}finally{f(!1)}},w=a?[{title:"Overall Score",value:a.metrics.overall_score/100,format:"percentage",icon:ve,change:2.3,changeType:"positive",color:"primary"},{title:"Completeness",value:a.metrics.completeness/100,format:"percentage",icon:ie,change:-1.2,changeType:"negative",color:"success"},{title:"Accuracy",value:a.metrics.accuracy/100,format:"percentage",icon:Ve,change:.8,changeType:"positive",color:"secondary"},{title:"Uniqueness",value:a.metrics.uniqueness/100,format:"percentage",icon:ke,change:1.5,changeType:"positive",color:"warning"}]:[],b=p=>{switch(p){case"critical":return"bg-red-500 text-white";case"high":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"medium":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"low":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}},g=p=>{switch(p){case"missing_values":return he;case"duplicates":return Qe;case"outliers":return le;case"format_errors":return de;case"invalid_values":return he;default:return mt}};return n?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(pe,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading data quality assessment..."})]}):l||!a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(he,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Failed to Load Quality Data"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4 text-center max-w-md",children:l||"Unable to load data quality information"}),e.jsx("button",{onClick:R,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Retry"})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Data Quality Assessment"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Monitor and improve data quality across your datasets"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:r,onChange:p=>t(p.target.value),className:"px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"customer_data",children:"Customer Demographics"}),e.jsx("option",{value:"transaction_data",children:"Transaction History"}),e.jsx("option",{value:"product_data",children:"Product Catalog"}),e.jsx("option",{value:"behavioral_data",children:"User Behavior"})]}),e.jsxs("button",{onClick:v,disabled:u,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:[u?e.jsx(pe,{className:"w-4 h-4 animate-spin"}):e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:u?"Running...":"Run Assessment"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-neutral-600 hover:bg-neutral-700 text-white rounded-lg transition-colors",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map(p=>e.jsx(Q,{title:p.title,value:p.value,format:p.format,icon:e.jsx(p.icon,{className:"w-5 h-5"}),change:`${p.change>0?"+":""}${p.change}%`,changeType:p.changeType},p.title))}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Dataset Summary"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pa,{className:"w-4 h-4 text-neutral-500"}),e.jsxs("span",{className:"text-sm text-neutral-500",children:["Last assessed: ",new Date(a.last_assessed).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:a.total_rows.toLocaleString()}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Total Rows"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:a.total_columns}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Columns"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:a.issues.length}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Issues Found"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${a.trend==="improving"?"text-green-600":a.trend==="declining"?"text-red-600":"text-neutral-600"}`,children:a.trend==="improving"?e.jsx(le,{className:"w-8 h-8 mx-auto"}):a.trend==="declining"?e.jsx(ot,{className:"w-8 h-8 mx-auto"}):e.jsx(re,{className:"w-8 h-8 mx-auto"})}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400 capitalize",children:a.trend})]})]})]})}),e.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Quality Overview",icon:ce},{id:"issues",label:"Issues",icon:he},{id:"rules",label:"Quality Rules",icon:de},{id:"trends",label:"Trends",icon:le}].map(p=>e.jsxs("button",{onClick:()=>m(p.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d===p.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(p.icon,{className:"w-4 h-4"}),e.jsx("span",{children:p.label})]},p.id))})}),d==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Quality Dimensions"}),e.jsx("div",{className:"space-y-4",children:Object.entries(a.metrics).filter(([p])=>p!=="overall_score").map(([p,j])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 capitalize",children:p.replace("_"," ")}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${j>=90?"bg-green-500":j>=70?"bg-amber-500":"bg-red-500"}`,style:{width:`${j}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100 w-12",children:[j.toFixed(1),"%"]})]})]},p))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Issue Distribution"}),e.jsx("div",{className:"space-y-3",children:["critical","high","medium","low"].map(p=>{const j=a.issues.filter(x=>x.severity===p).length,o=j/a.issues.length*100;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b(p)}`,children:p.charAt(0).toUpperCase()+p.slice(1)}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[j," issues"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:"h-2 bg-primary-500 rounded-full",style:{width:`${o}%`}})}),e.jsxs("span",{className:"text-xs text-neutral-500 w-8",children:[o.toFixed(0),"%"]})]})]},p)})})]})})]}),d==="issues"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Data Quality Issues"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search issues...",className:"pl-10 pr-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("select",{className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"",children:"All Severities"}),e.jsx("option",{value:"critical",children:"Critical"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})]}),e.jsx("div",{className:"space-y-4",children:a.issues.map(p=>{const j=g(p.type);return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j,{className:"w-5 h-5 text-neutral-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:p.description}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Affects ",p.affected_rows.toLocaleString()," rows in ",p.affected_columns.join(", ")]})]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b(p.severity)}`,children:p.severity.charAt(0).toUpperCase()+p.severity.slice(1)})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(mt,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Suggested Action"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:p.suggested_action})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("span",{className:"text-xs text-neutral-500",children:["Detected: ",new Date(p.detected_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View Details"}),e.jsx("button",{className:"text-xs text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300",children:"Mark Resolved"})]})]})]},p.id)})})]})}),d==="rules"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Quality Rules"}),e.jsx("button",{className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Add Rule"})]}),e.jsx("div",{className:"space-y-4",children:_.map(p=>e.jsxs("div",{className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${p.enabled?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:p.name}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:p.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Threshold: ",p.threshold,"%"]}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.violations===0?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:[p.violations," violations"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.type==="completeness"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":p.type==="format"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":p.type==="range"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300":p.type==="uniqueness"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}`,children:p.type}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Edit"}),e.jsx("button",{className:`text-sm ${p.enabled?"text-red-600 hover:text-red-700 dark:text-red-400":"text-green-600 hover:text-green-700 dark:text-green-400"}`,children:p.enabled?"Disable":"Enable"})]})]})]},p.id))})]})}),d==="trends"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Quality Trends"}),e.jsxs("div",{className:"text-center py-12 text-neutral-500 dark:text-neutral-400",children:[e.jsx(le,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Historical trend visualization coming soon"}),e.jsx("p",{className:"text-sm",children:"Track quality improvements over time"})]})]})})]})},kc=()=>{const[r,t]=y.useState([]),[a,s]=y.useState([]),[n,i]=y.useState(!0),[l,c]=y.useState(null),[d,m]=y.useState(null),[u,f]=y.useState("overview"),[h,_]=y.useState(!1),R=[{id:"stream_001",name:"Customer Transaction Feed",type:"kafka",status:"connected",source:{url:"kafka://localhost:9092",topic:"transactions",partition:0,format:"json"},metrics:{recordsPerSecond:1250,totalRecords:4567892,lastReceived:"2024-01-20T14:35:22Z",errorRate:.02,latency:45,throughput:2.8},schema:{fields:[{name:"transaction_id",type:"string",required:!0},{name:"customer_id",type:"string",required:!0},{name:"amount",type:"decimal",required:!0},{name:"timestamp",type:"datetime",required:!0},{name:"merchant_id",type:"string",required:!0},{name:"category",type:"string",required:!1}],version:"v2.1"},processing:{enabled:!0,transformations:["normalize_amounts","extract_features"],validations:["schema_validation","business_rules"],enrichments:["merchant_data","customer_profile"]},targets:[{id:"db_01",type:"database",name:"PostgreSQL Analytics",enabled:!0},{id:"model_01",type:"model",name:"Fraud Detection Model",enabled:!0},{id:"lake_01",type:"lake",name:"Data Lake Storage",enabled:!1}],createdAt:"2024-01-10T09:00:00Z",lastActive:"2024-01-20T14:35:22Z"},{id:"stream_002",name:"User Behavior Events",type:"kinesis",status:"error",source:{url:"kinesis://us-east-1/user-events",format:"json"},metrics:{recordsPerSecond:0,totalRecords:2345678,lastReceived:"2024-01-20T13:45:15Z",errorRate:.85,latency:0,throughput:0},schema:{fields:[{name:"user_id",type:"string",required:!0},{name:"event_type",type:"string",required:!0},{name:"timestamp",type:"datetime",required:!0},{name:"properties",type:"json",required:!1}],version:"v1.3"},processing:{enabled:!1,transformations:["event_parsing"],validations:["user_validation"],enrichments:["session_data"]},targets:[{id:"warehouse_01",type:"warehouse",name:"BigQuery DW",enabled:!0}],createdAt:"2024-01-08T14:30:00Z",lastActive:"2024-01-20T13:45:15Z"},{id:"stream_003",name:"Model Predictions",type:"webhook",status:"connected",source:{url:"https://api.ml-service.com/predictions",format:"json"},metrics:{recordsPerSecond:450,totalRecords:987654,lastReceived:"2024-01-20T14:34:58Z",errorRate:.01,latency:23,throughput:1.2},schema:{fields:[{name:"prediction_id",type:"string",required:!0},{name:"model_id",type:"string",required:!0},{name:"input_data",type:"json",required:!0},{name:"prediction",type:"decimal",required:!0},{name:"confidence",type:"decimal",required:!0}],version:"v1.0"},processing:{enabled:!0,transformations:["prediction_parsing"],validations:["confidence_check"],enrichments:["model_metadata"]},targets:[{id:"db_02",type:"database",name:"Predictions DB",enabled:!0},{id:"warehouse_02",type:"warehouse",name:"Analytics DW",enabled:!0}],createdAt:"2024-01-15T11:20:00Z",lastActive:"2024-01-20T14:34:58Z"}],v=[{id:"alert_001",streamId:"stream_002",type:"error",severity:"critical",message:"Stream connection lost - Authentication failed",timestamp:"2024-01-20T13:45:30Z",resolved:!1},{id:"alert_002",streamId:"stream_001",type:"warning",severity:"medium",message:"High error rate detected (0.02%)",timestamp:"2024-01-20T14:20:15Z",resolved:!1},{id:"alert_003",streamId:"stream_003",type:"info",severity:"low",message:"Schema version updated to v1.0",timestamp:"2024-01-20T12:30:00Z",resolved:!0}];y.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0),c(null);const x=await ze.getStreamStatus("all");if(x.success&&x.data)t(x.data);else{setTimeout(()=>{t(R),s(v),R.length>0&&m(R[0]),i(!1)},1e3);return}}catch(x){console.warn("API call failed, using mock data:",x),setTimeout(()=>{t(R),s(v),R.length>0&&m(R[0]),i(!1)},1e3);return}i(!1)},b=async(x,N)=>{try{if(!r.find(T=>T.id===x))return;await new Promise(T=>setTimeout(T,1e3)),t(T=>T.map(L=>L.id===x?{...L,status:N==="stop"?"disconnected":N==="start"?"connected":"connecting"}:L))}catch(k){console.error("Stream action failed:",k)}},g=x=>{switch(x){case"connected":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"disconnected":return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300";case"error":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"connecting":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}},p=x=>{switch(x){case"kafka":return ke;case"kinesis":return re;case"pubsub":return zr;case"rabbitmq":return Qe;case"webhook":return Ve;default:return ke}},j=x=>{switch(x){case"critical":return"bg-red-500 text-white";case"high":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"medium":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"low":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}},o={totalStreams:r.length,activeStreams:r.filter(x=>x.status==="connected").length,totalThroughput:r.reduce((x,N)=>x+N.metrics.recordsPerSecond,0),avgLatency:r.length>0?r.reduce((x,N)=>x+N.metrics.latency,0)/r.length:0,errorRate:r.length>0?r.reduce((x,N)=>x+N.metrics.errorRate,0)/r.length:0};return n?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(pe,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading stream data..."})]}):l?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(he,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Failed to Load Stream Data"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4 text-center max-w-md",children:l}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Retry"})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Stream Data Management"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Monitor and manage real-time data streams for ML pipelines"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>_(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Stream"})]}),e.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-4 py-2 bg-neutral-600 hover:bg-neutral-700 text-white rounded-lg transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(Q,{title:"Total Streams",value:o.totalStreams,format:"number",icon:e.jsx(ke,{className:"w-5 h-5"}),change:o.totalStreams>0?"+1":"0",changeType:"positive"}),e.jsx(Q,{title:"Active Streams",value:o.activeStreams,format:"number",icon:e.jsx(re,{className:"w-5 h-5"}),change:`${o.activeStreams}/${o.totalStreams}`,changeType:o.activeStreams===o.totalStreams?"positive":"negative"}),e.jsx(Q,{title:"Total Throughput",value:`${o.totalThroughput.toLocaleString()}/s`,format:"text",icon:e.jsx(le,{className:"w-5 h-5"}),change:"+5.2%",changeType:"positive"}),e.jsx(Q,{title:"Avg Latency",value:`${o.avgLatency.toFixed(0)}ms`,format:"text",icon:e.jsx(Te,{className:"w-5 h-5"}),change:"-2.3ms",changeType:"positive"}),e.jsx(Q,{title:"Error Rate",value:`${(o.errorRate*100).toFixed(2)}%`,format:"text",icon:e.jsx(he,{className:"w-5 h-5"}),change:o.errorRate<.01?"Low":"High",changeType:o.errorRate<.01?"positive":"negative"})]}),e.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:ce},{id:"streams",label:"Streams",icon:re},{id:"monitoring",label:"Monitoring",icon:we},{id:"alerts",label:"Alerts",icon:he}].map(x=>e.jsxs("button",{onClick:()=>f(x.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${u===x.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(x.icon,{className:"w-4 h-4"}),e.jsx("span",{children:x.label}),x.id==="alerts"&&a.filter(N=>!N.resolved).length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300 rounded-full text-xs",children:a.filter(N=>!N.resolved).length})]},x.id))})}),u==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Stream Status Overview"}),e.jsx("div",{className:"space-y-4",children:r.map(x=>{const N=p(x.type);return e.jsxs("div",{className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 transition-colors cursor-pointer",onClick:()=>m(x),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${x.status==="connected"?"bg-green-100 dark:bg-green-900/20":x.status==="error"?"bg-red-100 dark:bg-red-900/20":"bg-neutral-100 dark:bg-neutral-800"}`,children:e.jsx(N,{className:`w-5 h-5 ${x.status==="connected"?"text-green-600 dark:text-green-400":x.status==="error"?"text-red-600 dark:text-red-400":"text-neutral-500"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:x.name}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[x.type.toUpperCase()," • ",x.source.format.toUpperCase()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)}),x.status==="connected"?e.jsx(qa,{className:"w-4 h-4 text-green-500"}):e.jsx(sn,{className:"w-4 h-4 text-red-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Records/sec:"}),e.jsx("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:x.metrics.recordsPerSecond.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Latency:"}),e.jsxs("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[x.metrics.latency,"ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Error Rate:"}),e.jsxs("div",{className:`font-medium ${x.metrics.errorRate<.01?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[(x.metrics.errorRate*100).toFixed(2),"%"]})]})]})]},x.id)})})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Recent Alerts"}),e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(x=>e.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${x.type==="error"?"border-red-500 bg-red-50 dark:bg-red-900/20":x.type==="warning"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j(x.severity)}`,children:x.severity.charAt(0).toUpperCase()+x.severity.slice(1)}),e.jsx("span",{className:"text-xs text-neutral-500",children:new Date(x.timestamp).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:x.message})]},x.id))}),a.length===0&&e.jsxs("div",{className:"text-center py-8 text-neutral-500 dark:text-neutral-400",children:[e.jsx(ie,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No recent alerts"})]})]})})]}),u==="streams"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"All Streams"}),e.jsx("div",{className:"space-y-4",children:r.map(x=>{const N=p(x.type);return e.jsx("div",{className:`p-4 border rounded-lg transition-colors cursor-pointer ${(d==null?void 0:d.id)===x.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:border-primary-300 dark:hover:border-primary-600"}`,onClick:()=>m(x),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"w-5 h-5 text-neutral-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:x.name}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:x.source.url})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g(x.status)}`,children:x.status}),e.jsxs("div",{className:"flex items-center space-x-1",children:[x.status==="connected"&&e.jsx("button",{onClick:k=>{k.stopPropagation(),b(x.id,"stop")},className:"p-1 text-neutral-500 hover:text-red-600 transition-colors",children:e.jsx(Et,{className:"w-4 h-4"})}),x.status==="disconnected"&&e.jsx("button",{onClick:k=>{k.stopPropagation(),b(x.id,"start")},className:"p-1 text-neutral-500 hover:text-green-600 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx("button",{onClick:k=>{k.stopPropagation(),b(x.id,"restart")},className:"p-1 text-neutral-500 hover:text-blue-600 transition-colors",children:e.jsx(pe,{className:"w-4 h-4"})})]})]})]})},x.id)})})]})}),d&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Stream Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"Configuration"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Type:"}),e.jsx("span",{className:"font-medium",children:d.type.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Format:"}),e.jsx("span",{className:"font-medium",children:d.source.format.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Schema:"}),e.jsx("span",{className:"font-medium",children:d.schema.version})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"Performance"}),e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-neutral-500",children:"Records/sec:"}),e.jsx("span",{className:"font-medium",children:d.metrics.recordsPerSecond.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:"h-2 bg-primary-500 rounded-full",style:{width:`${Math.min(d.metrics.recordsPerSecond/2e3*100,100)}%`}})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Total Records:"}),e.jsx("span",{className:"font-medium",children:d.metrics.totalRecords.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Latency:"}),e.jsxs("span",{className:"font-medium",children:[d.metrics.latency,"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Error Rate:"}),e.jsxs("span",{className:`font-medium ${d.metrics.errorRate<.01?"text-green-600":"text-red-600"}`,children:[(d.metrics.errorRate*100).toFixed(2),"%"]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:["Targets (",d.targets.filter(x=>x.enabled).length," active)"]}),e.jsx("div",{className:"space-y-2",children:d.targets.map(x=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${x.enabled?"bg-green-500":"bg-neutral-400"}`}),e.jsx("span",{className:"text-neutral-700 dark:text-neutral-300",children:x.name})]}),e.jsx("span",{className:"text-xs text-neutral-500 capitalize",children:x.type})]},x.id))})]})]})]})})]}),u==="monitoring"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Real-time Monitoring"}),e.jsxs("div",{className:"text-center py-12 text-neutral-500 dark:text-neutral-400",children:[e.jsx(ce,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Real-time monitoring charts coming soon"}),e.jsx("p",{className:"text-sm",children:"Track throughput, latency, and error rates over time"})]})]})}),u==="alerts"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Stream Alerts"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"",children:"All Severities"}),e.jsx("option",{value:"critical",children:"Critical"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]}),e.jsxs("select",{className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"",children:"All Streams"}),r.map(x=>e.jsx("option",{value:x.id,children:x.name},x.id))]})]})]}),e.jsx("div",{className:"space-y-4",children:a.map(x=>{var N;return e.jsxs("div",{className:`p-4 border rounded-lg transition-colors ${x.resolved?"border-neutral-200 dark:border-neutral-700 opacity-60":"border-neutral-300 dark:border-neutral-600"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j(x.severity)}`,children:x.severity.toUpperCase()}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:(N=r.find(k=>k.id===x.streamId))==null?void 0:N.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-neutral-500",children:new Date(x.timestamp).toLocaleString()}),x.resolved?e.jsx(ie,{className:"w-4 h-4 text-green-500"}):e.jsx(he,{className:"w-4 h-4 text-amber-500"})]})]}),e.jsx("p",{className:"text-neutral-900 dark:text-neutral-100 mb-3",children:x.message}),!x.resolved&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400",children:"Acknowledge"}),e.jsx("button",{className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400",children:"Resolve"}),e.jsx("button",{className:"text-sm text-neutral-600 hover:text-neutral-700 dark:text-neutral-400",children:"View Details"})]})]},x.id)})}),a.length===0&&e.jsxs("div",{className:"text-center py-12 text-neutral-500 dark:text-neutral-400",children:[e.jsx(ie,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No alerts found"})]})]})})]})},wc=()=>{const[r,t]=y.useState("model_v2.3"),[a,s]=y.useState(null),[n,i]=y.useState([]),[l,c]=y.useState([]),[d,m]=y.useState(!0),[u,f]=y.useState("assessment"),[h,_]=y.useState(!1),R={model_id:"model_v2.3",dataset_id:"credit_dataset",sensitive_attributes:["gender","race","age_group","geography"],metrics:[{name:"Demographic Parity",value:.15,threshold:.1,status:"fail",trend:"degrading",description:"Difference in positive prediction rates across groups",groups:["Male vs Female","Urban vs Rural"]},{name:"Equalized Odds",value:.08,threshold:.1,status:"pass",trend:"stable",description:"Equal true positive and false positive rates",groups:["All groups"]},{name:"Equality of Opportunity",value:.12,threshold:.1,status:"warning",trend:"improving",description:"Equal true positive rates across groups",groups:["Age groups"]},{name:"Calibration",value:.06,threshold:.05,status:"warning",trend:"stable",description:"Predicted vs actual positive rates alignment",groups:["Geographic regions"]}],overall_fairness_score:72.5,risk_level:"high",recommendations:["Apply data resampling to balance gender representation","Implement fairness constraints during model training","Consider post-processing threshold optimization","Monitor geographic bias more closely"],generated_at:"2024-01-20T14:30:00Z"},v=[{id:"strategy_001",name:"Synthetic Minority Oversampling (SMOTE)",type:"preprocessing",status:"available",effectiveness:85,implementation_time:15,description:"Generate synthetic samples to balance representation across sensitive groups",parameters:{k_neighbors:5,sampling_strategy:"auto",random_state:42}},{id:"strategy_002",name:"Fairness Constraints (FairLearn)",type:"inprocessing",status:"available",effectiveness:78,implementation_time:45,description:"Add fairness constraints during model training to optimize for equalized odds",parameters:{constraint_type:"equalized_odds",epsilon:.05,max_iterations:100}},{id:"strategy_003",name:"Threshold Optimization",type:"postprocessing",status:"completed",effectiveness:65,implementation_time:8,description:"Optimize decision thresholds separately for each sensitive group",parameters:{constraint:"demographic_parity",method:"lagrangian"},results:{before:{demographic_parity:.15,accuracy:.87,precision:.85},after:{demographic_parity:.08,accuracy:.85,precision:.83},improvement:{demographic_parity:.07,accuracy:-.02,precision:-.02}}},{id:"strategy_004",name:"Adversarial Debiasing",type:"inprocessing",status:"running",effectiveness:82,implementation_time:120,description:"Use adversarial training to remove sensitive information from model predictions",parameters:{adversary_loss_weight:.1,learning_rate:.001,epochs:50}}],w=[{id:"exp_001",name:"Multi-Strategy Bias Reduction",model_id:"model_v2.3",strategies:["strategy_001","strategy_002"],status:"completed",progress:100,start_time:"2024-01-18T09:00:00Z",end_time:"2024-01-18T11:30:00Z",results:{baseline_metrics:{demographic_parity:.15,equalized_odds:.12,accuracy:.87,precision:.85,recall:.89},improved_metrics:{demographic_parity:.06,equalized_odds:.04,accuracy:.85,precision:.83,recall:.87},performance_impact:{accuracy:-.02,precision:-.02,recall:-.02,fairness_improvement:.09}}},{id:"exp_002",name:"Preprocessing Focus",model_id:"model_v2.3",strategies:["strategy_001"],status:"running",progress:65,start_time:"2024-01-20T10:00:00Z"}];y.useEffect(()=>{b()},[r]);const b=async()=>{try{m(!0);const x=await ze.getBiasMetrics();if(x.success&&x.data)s(x.data);else{setTimeout(()=>{s(R),i(v),c(w),m(!1)},1e3);return}}catch(x){console.warn("API call failed, using mock data:",x),setTimeout(()=>{s(R),i(v),c(w),m(!1)},1e3);return}m(!1)},g=async x=>{try{_(!0),await new Promise(N=>setTimeout(N,2e3)),i(N=>N.map(k=>k.id===x?{...k,status:"running"}:k)),setTimeout(()=>{i(N=>N.map(k=>k.id===x?{...k,status:"completed"}:k)),_(!1)},5e3)}catch(N){console.error("Failed to run mitigation strategy:",N),_(!1)}},p=x=>{switch(x){case"pass":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"warning":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"fail":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"available":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"running":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}},j=x=>{switch(x){case"improving":return e.jsx(le,{className:"w-4 h-4 text-green-500"});case"degrading":return e.jsx(ot,{className:"w-4 h-4 text-red-500"});case"stable":return e.jsx(ve,{className:"w-4 h-4 text-blue-500"});default:return e.jsx(ve,{className:"w-4 h-4 text-neutral-500"})}},o=x=>{switch(x){case"preprocessing":return e.jsx(Ke,{className:"w-5 h-5"});case"inprocessing":return e.jsx(la,{className:"w-5 h-5"});case"postprocessing":return e.jsx(de,{className:"w-5 h-5"});default:return e.jsx(de,{className:"w-5 h-5"})}};return d?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(pe,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading bias mitigation data..."})]}):a?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Advanced Bias Mitigation"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Detect, analyze, and mitigate algorithmic bias with advanced ML fairness techniques"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:r,onChange:x=>t(x.target.value),className:"px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"model_v2.3",children:"Credit Risk Model v2.3"}),e.jsx("option",{value:"fraud_model",children:"Fraud Detection Model"}),e.jsx("option",{value:"recommendation_model",children:"Recommendation Engine"})]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-neutral-600 hover:bg-neutral-700 text-white rounded-lg transition-colors",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Q,{title:"Fairness Score",value:a.overall_fairness_score/100,format:"percentage",icon:e.jsx(dn,{className:"w-5 h-5"}),change:a.overall_fairness_score>75?"+2.3%":"-1.8%",changeType:a.overall_fairness_score>75?"positive":"negative"}),e.jsx(Q,{title:"Risk Level",value:a.risk_level.charAt(0).toUpperCase()+a.risk_level.slice(1),format:"text",icon:e.jsx(he,{className:"w-5 h-5"}),change:a.risk_level==="low"?"Improving":"Needs Attention",changeType:a.risk_level==="low"?"positive":"negative"}),e.jsx(Q,{title:"Metrics Passing",value:`${a.metrics.filter(x=>x.status==="pass").length}/${a.metrics.length}`,format:"text",icon:e.jsx(ie,{className:"w-5 h-5"}),change:`${Math.round(a.metrics.filter(x=>x.status==="pass").length/a.metrics.length*100)}%`,changeType:"neutral"}),e.jsx(Q,{title:"Sensitive Attributes",value:a.sensitive_attributes.length,format:"number",icon:e.jsx(Pt,{className:"w-5 h-5"}),change:"Protected",changeType:"neutral"})]}),e.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"assessment",label:"Bias Assessment",icon:ce},{id:"strategies",label:"Mitigation Strategies",icon:Ce},{id:"experiments",label:"Experiments",icon:la},{id:"monitoring",label:"Monitoring",icon:we}].map(x=>e.jsxs("button",{onClick:()=>f(x.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${u===x.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(x.icon,{className:"w-4 h-4"}),e.jsx("span",{children:x.label})]},x.id))})}),u==="assessment"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-6",children:"Fairness Metrics Analysis"}),e.jsx("div",{className:"space-y-4",children:a.metrics.map((x,N)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.1},className:`p-4 rounded-lg border-l-4 ${x.status==="fail"?"border-red-500 bg-red-50 dark:bg-red-900/20":x.status==="warning"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-green-500 bg-green-50 dark:bg-green-900/20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:x.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)}),j(x.trend)]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`font-bold text-lg ${x.status==="fail"?"text-red-600 dark:text-red-400":x.status==="warning"?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"}`,children:x.value.toFixed(3)}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["Threshold: ",x.threshold.toFixed(2)]})]})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:x.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-neutral-500",children:["Affected: ",x.groups.join(", ")]}),e.jsx("div",{className:"w-32 bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${x.value<=x.threshold?"bg-green-500":x.value<=x.threshold*1.5?"bg-amber-500":"bg-red-500"}`,style:{width:`${Math.min(x.value/(x.threshold*2)*100,100)}%`}})})]})]},x.name))})]})}),e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Recommendations"}),e.jsx("div",{className:"space-y-3",children:a.recommendations.map((x,N)=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(mt,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:x})]})},N))}),e.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Generate Action Plan"})]})})]}),u==="strategies"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(x=>{const N=o(x.type);return e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${x.type==="preprocessing"?"bg-blue-100 dark:bg-blue-900/20":x.type==="inprocessing"?"bg-green-100 dark:bg-green-900/20":"bg-purple-100 dark:bg-purple-900/20"}`,children:e.jsx(N,{className:`${x.type==="preprocessing"?"text-blue-600 dark:text-blue-400":x.type==="inprocessing"?"text-green-600 dark:text-green-400":"text-purple-600 dark:text-purple-400"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:x.name}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 capitalize",children:x.type.replace("processing","-processing")})]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:x.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:[x.effectiveness,"%"]}),e.jsx("div",{className:"text-xs text-neutral-500",children:"Effectiveness"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:[x.implementation_time,"m"]}),e.jsx("div",{className:"text-xs text-neutral-500",children:"Est. Time"})]})]}),x.results&&e.jsxs("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h5",{className:"text-sm font-medium text-green-900 dark:text-green-100 mb-2",children:"Previous Results"}),e.jsx("div",{className:"space-y-1 text-xs",children:Object.entries(x.results.improvement).map(([k,T])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-green-700 dark:text-green-300 capitalize",children:[k.replace("_"," "),":"]}),e.jsxs("span",{className:`font-medium ${T>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[T>0?"+":"",(T*100).toFixed(1),"%"]})]},k))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[x.status==="available"&&e.jsxs("button",{onClick:()=>g(x.id),disabled:h,className:"flex items-center space-x-2 px-3 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white rounded-lg transition-colors text-sm",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:"Run Strategy"})]}),x.status==="running"&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-amber-100 text-amber-800 rounded-lg text-sm",children:[e.jsx(pe,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Running..."})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded-lg transition-colors text-sm",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Configure"})]})]})]})},x.id)})}),u==="experiments"&&e.jsxs("div",{className:"space-y-6",children:[l.map(x=>e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:x.name}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[x.strategies.length," strategies • Model: ",x.model_id]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)}),x.status==="running"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:"h-2 bg-primary-500 rounded-full transition-all duration-300",style:{width:`${x.progress}%`}})}),e.jsxs("span",{className:"text-xs text-neutral-500",children:[x.progress,"%"]})]})]})]}),x.start_time&&e.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-sm text-neutral-600 dark:text-neutral-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsxs("span",{children:["Started: ",new Date(x.start_time).toLocaleString()]})]}),x.end_time&&e.jsxs("div",{children:["Completed: ",new Date(x.end_time).toLocaleString()]})]}),x.results&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"Baseline Metrics"}),e.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(x.results.baseline_metrics).map(([N,k])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-neutral-600 dark:text-neutral-400 capitalize",children:[N.replace("_"," "),":"]}),e.jsxs("span",{className:"font-medium",children:[(k*100).toFixed(1),"%"]})]},N))})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:"Improved Metrics"}),e.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(x.results.improved_metrics).map(([N,k])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-green-700 dark:text-green-300 capitalize",children:[N.replace("_"," "),":"]}),e.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:[(k*100).toFixed(1),"%"]})]},N))})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Impact Analysis"}),e.jsx("div",{className:"space-y-1 text-sm",children:Object.entries(x.results.performance_impact).map(([N,k])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-blue-700 dark:text-blue-300 capitalize",children:[N.replace("_"," "),":"]}),e.jsxs("span",{className:`font-medium ${k>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[k>0?"+":"",(k*100).toFixed(1),"%"]})]},N))})]})]})]})},x.id)),e.jsx(P,{children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"Start New Experiment"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:"Combine multiple mitigation strategies to optimize fairness"}),e.jsx("button",{className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Create Experiment"})]})})]}),u==="monitoring"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Continuous Fairness Monitoring"}),e.jsxs("div",{className:"text-center py-12 text-neutral-500 dark:text-neutral-400",children:[e.jsx(we,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Real-time fairness monitoring dashboard coming soon"}),e.jsx("p",{className:"text-sm",children:"Track bias metrics and alerts in production"})]})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(he,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Failed to Load Bias Data"}),e.jsx("button",{onClick:b,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Retry"})]})},Sc=()=>{const[r,t]=y.useState([]),[a,s]=y.useState(null),[n,i]=y.useState([]),[l,c]=y.useState(!0),[d,m]=y.useState("workflows"),[u,f]=y.useState(new Set),h=[{id:"dataset_001",name:"Customer Demographics",rows:125e3,columns:28,size:"45.2 MB",format:"CSV",quality_score:72,missing_values:15.6,duplicates:2.3,outliers:4.1},{id:"dataset_002",name:"Transaction History",rows:25e5,columns:15,size:"380 MB",format:"Parquet",quality_score:85,missing_values:8.2,duplicates:.5,outliers:2.8}],_=[{id:"workflow_001",name:"Credit Model Data Pipeline",description:"Complete preprocessing pipeline for credit risk modeling",dataset_id:"dataset_001",dataset_name:"Customer Demographics",status:"completed",created_at:"2024-01-15T10:00:00Z",last_modified:"2024-01-20T14:30:00Z",execution_stats:{total_runtime:245,rows_processed:125e3,columns_processed:28,success_rate:98.5},steps:[{id:"step_001",name:"Missing Value Imputation",type:"cleaning",description:"Handle missing values using median/mode imputation",parameters:{strategy:"median",numeric_strategy:"median",categorical_strategy:"most_frequent"},enabled:!0,order:1,execution_time:15,status:"completed",output_preview:{rows_affected:19500,columns_affected:8,summary:"Imputed 19,500 missing values across 8 columns"}},{id:"step_002",name:"Duplicate Removal",type:"cleaning",description:"Remove duplicate records based on key fields",parameters:{subset:["customer_id","email"],keep:"first"},enabled:!0,order:2,execution_time:8,status:"completed",output_preview:{rows_affected:2875,columns_affected:28,summary:"Removed 2,875 duplicate records"}},{id:"step_003",name:"Outlier Detection",type:"cleaning",description:"Detect and handle outliers using IQR method",parameters:{method:"iqr",threshold:1.5,action:"cap"},enabled:!0,order:3,execution_time:22,status:"completed",output_preview:{rows_affected:5125,columns_affected:12,summary:"Capped 5,125 outlier values in numeric columns"}},{id:"step_004",name:"Feature Scaling",type:"transformation",description:"Standardize numeric features using StandardScaler",parameters:{method:"standard",with_mean:!0,with_std:!0},enabled:!0,order:4,execution_time:12,status:"completed",output_preview:{rows_affected:122125,columns_affected:15,summary:"Scaled 15 numeric features to standard distribution"}},{id:"step_005",name:"Categorical Encoding",type:"encoding",description:"One-hot encode categorical variables",parameters:{method:"onehot",drop_first:!0,handle_unknown:"ignore"},enabled:!0,order:5,execution_time:18,status:"completed",output_preview:{rows_affected:122125,columns_affected:13,summary:"Created 47 new binary features from 13 categorical columns"}},{id:"step_006",name:"Feature Engineering",type:"feature_engineering",description:"Create new features from existing ones",parameters:{interactions:["income_age","credit_score_debt_ratio"],polynomials:["income^2","age^2"],ratios:["debt_to_income","utilization_ratio"]},enabled:!0,order:6,execution_time:35,status:"completed",output_preview:{rows_affected:122125,columns_affected:7,summary:"Generated 7 new engineered features"}}]},{id:"workflow_002",name:"Transaction Data Processing",description:"Real-time transaction preprocessing for fraud detection",dataset_id:"dataset_002",dataset_name:"Transaction History",status:"running",created_at:"2024-01-20T09:00:00Z",last_modified:"2024-01-20T14:35:00Z",steps:[{id:"step_007",name:"Data Validation",type:"validation",description:"Validate transaction data integrity",parameters:{checks:["schema","ranges","business_rules"],fail_on_error:!1},enabled:!0,order:1,execution_time:45,status:"completed",progress:100},{id:"step_008",name:"Time Feature Extraction",type:"feature_engineering",description:"Extract temporal features from timestamps",parameters:{features:["hour","day_of_week","month","is_weekend"],timezone:"UTC"},enabled:!0,order:2,execution_time:28,status:"running",progress:65},{id:"step_009",name:"Amount Normalization",type:"transformation",description:"Normalize transaction amounts by merchant category",parameters:{method:"robust",by_group:"merchant_category"},enabled:!0,order:3,status:"pending"}]}],R=[{name:"Missing Value Imputation",type:"cleaning",description:"Handle missing values using various imputation strategies",parameters:{strategy:"median",numeric_strategy:"median",categorical_strategy:"most_frequent"}},{name:"Outlier Detection",type:"cleaning",description:"Detect and handle outliers using statistical methods",parameters:{method:"iqr",threshold:1.5,action:"cap"}},{name:"Feature Scaling",type:"transformation",description:"Scale features using various normalization methods",parameters:{method:"standard",with_mean:!0,with_std:!0}},{name:"One-Hot Encoding",type:"encoding",description:"Convert categorical variables to binary features",parameters:{method:"onehot",drop_first:!0,handle_unknown:"ignore"}}];y.useEffect(()=>{v()},[]);const v=async()=>{try{c(!0),(await ze.preprocessDataset("dataset_001",[])).success?setTimeout(()=>{t(_),i(h),_.length>0&&s(_[0]),c(!1)},1e3):setTimeout(()=>{t(_),i(h),_.length>0&&s(_[0]),c(!1)},1e3)}catch(o){console.warn("API call failed, using mock data:",o),setTimeout(()=>{t(_),i(h),_.length>0&&s(_[0]),c(!1)},1e3)}},w=async o=>{try{if(!r.find(N=>N.id===o))return;t(N=>N.map(k=>k.id===o?{...k,status:"running"}:k)),await new Promise(N=>setTimeout(N,2e3)),t(N=>N.map(k=>k.id===o?{...k,status:"completed"}:k))}catch(x){console.error("Failed to execute workflow:",x)}},b=o=>{f(x=>{const N=new Set(x);return N.has(o)?N.delete(o):N.add(o),N})},g=o=>{switch(o){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"paused":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"pending":return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}},p=o=>{switch(o){case"cleaning":return Ke;case"transformation":return Ve;case"feature_engineering":return ve;case"validation":return ie;case"encoding":return de;default:return de}},j=o=>{switch(o){case"cleaning":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"transformation":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"feature_engineering":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"validation":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"encoding":return"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}};return l?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(pe,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading preprocessing workflows..."})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Data Preprocessing Workflows"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Design, execute, and monitor automated data preprocessing pipelines"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"New Workflow"})]}),e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 bg-neutral-600 hover:bg-neutral-700 text-white rounded-lg transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Q,{title:"Total Workflows",value:r.length,format:"number",icon:e.jsx(ce,{className:"w-5 h-5"}),change:"+2",changeType:"positive"}),e.jsx(Q,{title:"Active Workflows",value:r.filter(o=>o.status==="running").length,format:"number",icon:e.jsx($e,{className:"w-5 h-5"}),change:r.filter(o=>o.status==="running").length>0?"Running":"Idle",changeType:r.filter(o=>o.status==="running").length>0?"positive":"neutral"}),e.jsx(Q,{title:"Success Rate",value:r.length>0?r.filter(o=>o.status==="completed").length/r.length:0,format:"percentage",icon:e.jsx(ie,{className:"w-5 h-5"}),change:"+5.2%",changeType:"positive"}),e.jsx(Q,{title:"Avg Runtime",value:`${Math.round(r.reduce((o,x)=>{var N;return o+(((N=x.execution_stats)==null?void 0:N.total_runtime)||0)},0)/r.length||0)}m`,format:"text",icon:e.jsx(Te,{className:"w-5 h-5"}),change:"-12m",changeType:"positive"})]}),e.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"workflows",label:"Workflows",icon:ce},{id:"builder",label:"Workflow Builder",icon:de},{id:"monitoring",label:"Monitoring",icon:we},{id:"templates",label:"Templates",icon:Qe}].map(o=>e.jsxs("button",{onClick:()=>m(o.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d===o.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(o.icon,{className:"w-4 h-4"}),e.jsx("span",{children:o.label})]},o.id))})}),d==="workflows"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"All Workflows"}),e.jsx("div",{className:"space-y-4",children:r.map(o=>e.jsxs("div",{className:`p-4 border rounded-lg transition-colors cursor-pointer ${(a==null?void 0:a.id)===o.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:border-primary-300 dark:hover:border-primary-600"}`,onClick:()=>s(o),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:o.name}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[o.dataset_name," • ",o.steps.length," steps"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)}),o.status==="draft"&&e.jsx("button",{onClick:x=>{x.stopPropagation(),w(o.id)},className:"p-1 text-green-600 hover:text-green-700 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})})]})]}),o.execution_stats&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Runtime:"}),e.jsxs("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[o.execution_stats.total_runtime,"m"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Rows:"}),e.jsx("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:o.execution_stats.rows_processed.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Success:"}),e.jsxs("div",{className:"font-medium text-green-600 dark:text-green-400",children:[o.execution_stats.success_rate,"%"]})]})]})]},o.id))})]})}),a&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Workflow Steps"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g(a.status)}`,children:a.status})]}),e.jsx("div",{className:"space-y-3",children:a.steps.sort((o,x)=>o.order-x.order).map((o,x)=>{const N=p(o.type),k=u.has(o.id);return e.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsx("div",{className:"p-3 cursor-pointer hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",onClick:()=>b(o.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[k?e.jsx(qt,{className:"w-4 h-4 text-neutral-500"}):e.jsx(ra,{className:"w-4 h-4 text-neutral-500"}),e.jsx("span",{className:"w-6 h-6 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center text-xs font-medium",children:o.order})]}),e.jsx("div",{className:`p-1 rounded ${o.type==="cleaning"?"bg-blue-100 dark:bg-blue-900/20":o.type==="transformation"?"bg-green-100 dark:bg-green-900/20":o.type==="feature_engineering"?"bg-purple-100 dark:bg-purple-900/20":"bg-neutral-100 dark:bg-neutral-800"}`,children:e.jsx(N,{className:`w-4 h-4 ${o.type==="cleaning"?"text-blue-600 dark:text-blue-400":o.type==="transformation"?"text-green-600 dark:text-green-400":o.type==="feature_engineering"?"text-purple-600 dark:text-purple-400":"text-neutral-500"}`})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm text-neutral-900 dark:text-neutral-100",children:o.name}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:o.type.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[o.status==="running"&&o.progress&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-neutral-200 dark:bg-neutral-700 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 bg-blue-500 rounded-full transition-all duration-300",style:{width:`${o.progress}%`}})}),e.jsxs("span",{className:"text-xs text-neutral-500",children:[o.progress,"%"]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g(o.status)}`,children:o.status})]})]})}),k&&e.jsx("div",{className:"px-3 pb-3 border-t border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"pt-3 space-y-3",children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:o.description}),o.output_preview&&e.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 p-3 rounded-lg",children:[e.jsx("h6",{className:"text-xs font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"Output Preview"}),e.jsxs("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 space-y-1",children:[e.jsxs("div",{children:["Rows affected: ",o.output_preview.rows_affected.toLocaleString()]}),e.jsxs("div",{children:["Columns affected: ",o.output_preview.columns_affected]}),e.jsx("div",{className:"text-neutral-900 dark:text-neutral-100 font-medium",children:o.output_preview.summary})]})]}),o.execution_time&&e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-neutral-500",children:[e.jsx(Te,{className:"w-3 h-3"}),e.jsxs("span",{children:["Execution time: ",o.execution_time,"s"]})]})]})})]},o.id)})})]})})]}),d==="builder"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Workflow Builder"}),e.jsxs("div",{className:"text-center py-12 text-neutral-500 dark:text-neutral-400",children:[e.jsx(de,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Visual workflow builder coming soon"}),e.jsx("p",{className:"text-sm",children:"Drag and drop interface for creating preprocessing pipelines"})]})]})}),d==="monitoring"&&e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Real-time Monitoring"}),e.jsxs("div",{className:"text-center py-12 text-neutral-500 dark:text-neutral-400",children:[e.jsx(we,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Real-time workflow monitoring coming soon"}),e.jsx("p",{className:"text-sm",children:"Track execution progress and performance metrics"})]})]})}),d==="templates"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map((o,x)=>{const N=p(o.type);return e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${o.type==="cleaning"?"bg-blue-100 dark:bg-blue-900/20":o.type==="transformation"?"bg-green-100 dark:bg-green-900/20":o.type==="feature_engineering"?"bg-purple-100 dark:bg-purple-900/20":"bg-neutral-100 dark:bg-neutral-800"}`,children:e.jsx(N,{className:`w-5 h-5 ${o.type==="cleaning"?"text-blue-600 dark:text-blue-400":o.type==="transformation"?"text-green-600 dark:text-green-400":o.type==="feature_engineering"?"text-purple-600 dark:text-purple-400":"text-neutral-500"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:o.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j(o.type)}`,children:o.type.replace("_"," ")})]})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:o.description}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors text-sm",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Add to Workflow"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded-lg transition-colors text-sm",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Preview"})]})]})]})},x)})})]})};var Cn={exports:{}},ya={},Sr={exports:{}};(function(r,t){(function(a,s){s(t)})(mi,function(a){function s(W){return function(ee,te,se,fe,Ne,Ae,be){return W(ee,te,be)}}function n(W){return function(ee,te,se,fe){if(!ee||!te||typeof ee!="object"||typeof te!="object")return W(ee,te,se,fe);var Ne=fe.get(ee),Ae=fe.get(te);if(Ne&&Ae)return Ne===te&&Ae===ee;fe.set(ee,te),fe.set(te,ee);var be=W(ee,te,se,fe);return fe.delete(ee),fe.delete(te),be}}function i(W,Z){var ee={};for(var te in W)ee[te]=W[te];for(var te in Z)ee[te]=Z[te];return ee}function l(W){return W.constructor===Object||W.constructor==null}function c(W){return typeof W.then=="function"}function d(W,Z){return W===Z||W!==W&&Z!==Z}var m="[object Arguments]",u="[object Boolean]",f="[object Date]",h="[object RegExp]",_="[object Map]",R="[object Number]",v="[object Object]",w="[object Set]",b="[object String]",g=Object.prototype.toString;function p(W){var Z=W.areArraysEqual,ee=W.areDatesEqual,te=W.areMapsEqual,se=W.areObjectsEqual,fe=W.areRegExpsEqual,Ne=W.areSetsEqual,Ae=W.createIsNestedEqual,be=Ae(Ee);function Ee(xe,je,Le){if(xe===je)return!0;if(!xe||!je||typeof xe!="object"||typeof je!="object")return xe!==xe&&je!==je;if(l(xe)&&l(je))return se(xe,je,be,Le);var ht=Array.isArray(xe),pt=Array.isArray(je);if(ht||pt)return ht===pt&&Z(xe,je,be,Le);var Fe=g.call(xe);return Fe!==g.call(je)?!1:Fe===f?ee(xe,je,be,Le):Fe===h?fe(xe,je,be,Le):Fe===_?te(xe,je,be,Le):Fe===w?Ne(xe,je,be,Le):Fe===v||Fe===m?c(xe)||c(je)?!1:se(xe,je,be,Le):Fe===u||Fe===R||Fe===b?d(xe.valueOf(),je.valueOf()):!1}return Ee}function j(W,Z,ee,te){var se=W.length;if(Z.length!==se)return!1;for(;se-- >0;)if(!ee(W[se],Z[se],se,se,W,Z,te))return!1;return!0}var o=n(j);function x(W,Z){return d(W.valueOf(),Z.valueOf())}function N(W,Z,ee,te){var se=W.size===Z.size;if(!se)return!1;if(!W.size)return!0;var fe={},Ne=0;return W.forEach(function(Ae,be){if(se){var Ee=!1,xe=0;Z.forEach(function(je,Le){!Ee&&!fe[xe]&&(Ee=ee(be,Le,Ne,xe,W,Z,te)&&ee(Ae,je,be,Le,W,Z,te))&&(fe[xe]=!0),xe++}),Ne++,se=Ee}}),se}var k=n(N),T="_owner",L=Object.prototype.hasOwnProperty;function $(W,Z,ee,te){var se=Object.keys(W),fe=se.length;if(Object.keys(Z).length!==fe)return!1;for(var Ne;fe-- >0;){if(Ne=se[fe],Ne===T){var Ae=!!W.$$typeof,be=!!Z.$$typeof;if((Ae||be)&&Ae!==be)return!1}if(!L.call(Z,Ne)||!ee(W[Ne],Z[Ne],Ne,Ne,W,Z,te))return!1}return!0}var H=n($);function A(W,Z){return W.source===Z.source&&W.flags===Z.flags}function U(W,Z,ee,te){var se=W.size===Z.size;if(!se)return!1;if(!W.size)return!0;var fe={};return W.forEach(function(Ne,Ae){if(se){var be=!1,Ee=0;Z.forEach(function(xe,je){!be&&!fe[Ee]&&(be=ee(Ne,xe,Ae,je,W,Z,te))&&(fe[Ee]=!0),Ee++}),se=be}}),se}var E=n(U),B=Object.freeze({areArraysEqual:j,areDatesEqual:x,areMapsEqual:N,areObjectsEqual:$,areRegExpsEqual:A,areSetsEqual:U,createIsNestedEqual:s}),D=Object.freeze({areArraysEqual:o,areDatesEqual:x,areMapsEqual:k,areObjectsEqual:H,areRegExpsEqual:A,areSetsEqual:E,createIsNestedEqual:s}),z=p(B);function O(W,Z){return z(W,Z,void 0)}var M=p(i(B,{createIsNestedEqual:function(){return d}}));function I(W,Z){return M(W,Z,void 0)}var S=p(D);function q(W,Z){return S(W,Z,new WeakMap)}var V=p(i(D,{createIsNestedEqual:function(){return d}}));function oe(W,Z){return V(W,Z,new WeakMap)}function ue(W){return p(i(B,W(B)))}function De(W){var Z=p(i(D,W(D)));return function(ee,te,se){return se===void 0&&(se=new WeakMap),Z(ee,te,se)}}a.circularDeepEqual=q,a.circularShallowEqual=oe,a.createCustomCircularEqual=De,a.createCustomEqual=ue,a.deepEqual=O,a.sameValueZeroEqual=d,a.shallowEqual=I,Object.defineProperty(a,"__esModule",{value:!0})})})(Sr,Sr.exports);var qr=Sr.exports;const Wa=Js(ki);var ae={},_c=function(t,a,s){return t===a?!0:t.className===a.className&&s(t.style,a.style)&&t.width===a.width&&t.autoSize===a.autoSize&&t.cols===a.cols&&t.draggableCancel===a.draggableCancel&&t.draggableHandle===a.draggableHandle&&s(t.verticalCompact,a.verticalCompact)&&s(t.compactType,a.compactType)&&s(t.layout,a.layout)&&s(t.margin,a.margin)&&s(t.containerPadding,a.containerPadding)&&t.rowHeight===a.rowHeight&&t.maxRows===a.maxRows&&t.isBounded===a.isBounded&&t.isDraggable===a.isDraggable&&t.isResizable===a.isResizable&&t.allowOverlap===a.allowOverlap&&t.preventCollision===a.preventCollision&&t.useCSSTransforms===a.useCSSTransforms&&t.transformScale===a.transformScale&&t.isDroppable===a.isDroppable&&s(t.resizeHandles,a.resizeHandles)&&s(t.resizeHandle,a.resizeHandle)&&t.onLayoutChange===a.onLayoutChange&&t.onDragStart===a.onDragStart&&t.onDrag===a.onDrag&&t.onDragStop===a.onDragStop&&t.onResizeStart===a.onResizeStart&&t.onResize===a.onResize&&t.onResizeStop===a.onResizeStop&&t.onDrop===a.onDrop&&s(t.droppingItem,a.droppingItem)&&s(t.innerRef,a.innerRef)};Object.defineProperty(ae,"__esModule",{value:!0});ae.bottom=Br;ae.childrenEqual=Ac;ae.cloneLayout=Dn;ae.cloneLayoutItem=Tt;ae.collides=Ga;ae.compact=Mn;ae.compactItem=Rn;ae.compactType=Uc;ae.correctBounds=Tn;ae.fastPositionEqual=Mc;ae.fastRGLPropsEqual=void 0;ae.getAllCollisions=Pn;ae.getFirstCollision=Dt;ae.getLayoutItem=Ur;ae.getStatics=Hr;ae.modifyLayout=An;ae.moveElement=ia;ae.moveElementAwayFromCollision=Cr;ae.noop=void 0;ae.perc=Tc;ae.resizeItemInDirection=Oc;ae.setTopLeft=$c;ae.setTransform=zc;ae.sortLayoutItems=Yr;ae.sortLayoutItemsByColRow=On;ae.sortLayoutItemsByRowCol=In;ae.synchronizeLayoutWithChildren=qc;ae.validateLayout=Bc;ae.withLayoutItem=Dc;var Os=qr,na=Cc(y);function Cc(r){return r&&r.__esModule?r:{default:r}}function Br(r){let t=0,a;for(let s=0,n=r.length;s<n;s++)a=r[s].y+r[s].h,a>t&&(t=a);return t}function Dn(r){const t=Array(r.length);for(let a=0,s=r.length;a<s;a++)t[a]=Tt(r[a]);return t}function An(r,t){const a=Array(r.length);for(let s=0,n=r.length;s<n;s++)t.i===r[s].i?a[s]=t:a[s]=r[s];return a}function Dc(r,t,a){let s=Ur(r,t);return s?(s=a(Tt(s)),r=An(r,s),[r,s]):[r,null]}function Tt(r){return{w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minW:r.minW,maxW:r.maxW,minH:r.minH,maxH:r.maxH,moved:!!r.moved,static:!!r.static,isDraggable:r.isDraggable,isResizable:r.isResizable,resizeHandles:r.resizeHandles,isBounded:r.isBounded}}function Ac(r,t){return(0,Os.deepEqual)(na.default.Children.map(r,a=>a==null?void 0:a.key),na.default.Children.map(t,a=>a==null?void 0:a.key))&&(0,Os.deepEqual)(na.default.Children.map(r,a=>a==null?void 0:a.props["data-grid"]),na.default.Children.map(t,a=>a==null?void 0:a.props["data-grid"]))}ae.fastRGLPropsEqual=_c;function Mc(r,t){return r.left===t.left&&r.top===t.top&&r.width===t.width&&r.height===t.height}function Ga(r,t){return!(r.i===t.i||r.x+r.w<=t.x||r.x>=t.x+t.w||r.y+r.h<=t.y||r.y>=t.y+t.h)}function Mn(r,t,a,s){const n=Hr(r),i=Yr(r,t),l=Array(r.length);for(let c=0,d=i.length;c<d;c++){let m=Tt(i[c]);m.static||(m=Rn(n,m,t,a,i,s),n.push(m)),l[r.indexOf(i[c])]=m,m.moved=!1}return l}const Rc={x:"w",y:"h"};function _r(r,t,a,s){const n=Rc[s];t[s]+=1;const i=r.map(l=>l.i).indexOf(t.i);for(let l=i+1;l<r.length;l++){const c=r[l];if(!c.static){if(c.y>t.y+t.h)break;Ga(t,c)&&_r(r,c,a+t[n],s)}}t[s]=a}function Rn(r,t,a,s,n,i){const l=a==="vertical",c=a==="horizontal";if(l)for(t.y=Math.min(Br(r),t.y);t.y>0&&!Dt(r,t);)t.y--;else if(c)for(;t.x>0&&!Dt(r,t);)t.x--;let d;for(;(d=Dt(r,t))&&!(a===null&&i);)if(c?_r(n,t,d.x+d.w,"x"):_r(n,t,d.y+d.h,"y"),c&&t.x+t.w>s)for(t.x=s-t.w,t.y++;t.x>0&&!Dt(r,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function Tn(r,t){const a=Hr(r);for(let s=0,n=r.length;s<n;s++){const i=r[s];if(i.x+i.w>t.cols&&(i.x=t.cols-i.w),i.x<0&&(i.x=0,i.w=t.cols),!i.static)a.push(i);else for(;Dt(a,i);)i.y++}return r}function Ur(r,t){for(let a=0,s=r.length;a<s;a++)if(r[a].i===t)return r[a]}function Dt(r,t){for(let a=0,s=r.length;a<s;a++)if(Ga(r[a],t))return r[a]}function Pn(r,t){return r.filter(a=>Ga(a,t))}function Hr(r){return r.filter(t=>t.static)}function ia(r,t,a,s,n,i,l,c,d){if(t.static&&t.isDraggable!==!0||t.y===s&&t.x===a)return r;`${t.i}${String(a)}${String(s)}${t.x}${t.y}`;const m=t.x,u=t.y;typeof a=="number"&&(t.x=a),typeof s=="number"&&(t.y=s),t.moved=!0;let f=Yr(r,l);(l==="vertical"&&typeof s=="number"?u>=s:l==="horizontal"&&typeof a=="number"?m>=a:!1)&&(f=f.reverse());const _=Pn(f,t),R=_.length>0;if(R&&d)return Dn(r);if(R&&i)return`${t.i}`,t.x=m,t.y=u,t.moved=!1,r;for(let v=0,w=_.length;v<w;v++){const b=_[v];`${t.i}${t.x}${t.y}${b.i}${b.x}${b.y}`,!b.moved&&(b.static?r=Cr(r,b,t,n,l):r=Cr(r,t,b,n,l))}return r}function Cr(r,t,a,s,n,i){const l=n==="horizontal",c=n==="vertical",d=t.static;if(s){s=!1;const f={x:l?Math.max(t.x-a.w,0):a.x,y:c?Math.max(t.y-a.h,0):a.y,w:a.w,h:a.h,i:"-1"},h=Dt(r,f),_=h&&h.y+h.h>t.y,R=h&&t.x+t.w>h.x;if(h){if(_&&c)return ia(r,a,void 0,t.y+1,s,d,n);if(_&&n==null)return t.y=a.y,a.y=a.y+a.h,r;if(R&&l)return ia(r,t,a.x,void 0,s,d,n)}else return`${a.i}${f.x}${f.y}`,ia(r,a,l?f.x:void 0,c?f.y:void 0,s,d,n)}const m=l?a.x+1:void 0,u=c?a.y+1:void 0;return m==null&&u==null?r:ia(r,a,l?a.x+1:void 0,c?a.y+1:void 0,s,d,n)}function Tc(r){return r*100+"%"}const En=(r,t,a,s)=>r+a>s?t:a,Ln=(r,t,a)=>r<0?t:a,Fn=r=>Math.max(0,r),Wr=r=>Math.max(0,r),Gr=(r,t,a)=>{let{left:s,height:n,width:i}=t;const l=r.top-(n-r.height);return{left:s,width:i,height:Ln(l,r.height,n),top:Wr(l)}},Vr=(r,t,a)=>{let{top:s,left:n,height:i,width:l}=t;return{top:s,height:i,width:En(r.left,r.width,l,a),left:Fn(n)}},Zr=(r,t,a)=>{let{top:s,height:n,width:i}=t;const l=r.left-(i-r.width);return{height:n,width:l<0?r.width:En(r.left,r.width,i,a),top:Wr(s),left:Fn(l)}},Qr=(r,t,a)=>{let{top:s,left:n,height:i,width:l}=t;return{width:l,left:n,height:Ln(s,r.height,i),top:Wr(s)}},Pc=function(){return Gr(arguments.length<=0?void 0:arguments[0],Vr(...arguments))},Ec=function(){return Gr(arguments.length<=0?void 0:arguments[0],Zr(...arguments))},Lc=function(){return Qr(arguments.length<=0?void 0:arguments[0],Vr(...arguments))},Fc=function(){return Qr(arguments.length<=0?void 0:arguments[0],Zr(...arguments))},Ic={n:Gr,ne:Pc,e:Vr,se:Lc,s:Qr,sw:Fc,w:Zr,nw:Ec};function Oc(r,t,a,s){const n=Ic[r];return n?n(t,{...t,...a},s):a}function zc(r){let{top:t,left:a,width:s,height:n}=r;const i=`translate(${a}px,${t}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${s}px`,height:`${n}px`,position:"absolute"}}function $c(r){let{top:t,left:a,width:s,height:n}=r;return{top:`${t}px`,left:`${a}px`,width:`${s}px`,height:`${n}px`,position:"absolute"}}function Yr(r,t){return t==="horizontal"?On(r):t==="vertical"?In(r):r}function In(r){return r.slice(0).sort(function(t,a){return t.y>a.y||t.y===a.y&&t.x>a.x?1:t.y===a.y&&t.x===a.x?0:-1})}function On(r){return r.slice(0).sort(function(t,a){return t.x>a.x||t.x===a.x&&t.y>a.y?1:-1})}function qc(r,t,a,s,n){r=r||[];const i=[];na.default.Children.forEach(t,c=>{if((c==null?void 0:c.key)==null)return;const d=Ur(r,String(c.key)),m=c.props["data-grid"];d&&m==null?i.push(Tt(d)):m?i.push(Tt({...m,i:c.key})):i.push(Tt({w:1,h:1,x:0,y:Br(i),i:String(c.key)}))});const l=Tn(i,{cols:a});return n?l:Mn(l,s,a)}function Bc(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const a=["x","y","w","h"];if(!Array.isArray(r))throw new Error(t+" must be an array!");for(let s=0,n=r.length;s<n;s++){const i=r[s];for(let l=0;l<a.length;l++){const c=a[l],d=i[c];if(typeof d!="number"||Number.isNaN(d))throw new Error(`ReactGridLayout: ${t}[${s}].${c} must be a number! Received: ${d} (${typeof d})`)}if(typeof i.i<"u"&&typeof i.i!="string")throw new Error(`ReactGridLayout: ${t}[${s}].i must be a string! Received: ${i.i} (${typeof i.i})`)}}function Uc(r){const{verticalCompact:t,compactType:a}=r||{};return t===!1?null:a}const Hc=()=>{};ae.noop=Hc;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.calcGridColWidth=Va;st.calcGridItemPosition=Wc;st.calcGridItemWHPx=Dr;st.calcWH=Vc;st.calcXY=Gc;st.clamp=At;function Va(r){const{margin:t,containerPadding:a,containerWidth:s,cols:n}=r;return(s-t[0]*(n-1)-a[0]*2)/n}function Dr(r,t,a){return Number.isFinite(r)?Math.round(t*r+Math.max(0,r-1)*a):r}function Wc(r,t,a,s,n,i){const{margin:l,containerPadding:c,rowHeight:d}=r,m=Va(r),u={};return i&&i.resizing?(u.width=Math.round(i.resizing.width),u.height=Math.round(i.resizing.height)):(u.width=Dr(s,m,l[0]),u.height=Dr(n,d,l[1])),i&&i.dragging?(u.top=Math.round(i.dragging.top),u.left=Math.round(i.dragging.left)):i&&i.resizing&&typeof i.resizing.top=="number"&&typeof i.resizing.left=="number"?(u.top=Math.round(i.resizing.top),u.left=Math.round(i.resizing.left)):(u.top=Math.round((d+l[1])*a+c[1]),u.left=Math.round((m+l[0])*t+c[0])),u}function Gc(r,t,a,s,n){const{margin:i,containerPadding:l,cols:c,rowHeight:d,maxRows:m}=r,u=Va(r);let f=Math.round((a-l[0])/(u+i[0])),h=Math.round((t-l[1])/(d+i[1]));return f=At(f,0,c-s),h=At(h,0,m-n),{x:f,y:h}}function Vc(r,t,a,s,n,i){const{margin:l,maxRows:c,cols:d,rowHeight:m}=r,u=Va(r);let f=Math.round((t+l[0])/(u+l[0])),h=Math.round((a+l[1])/(m+l[1])),_=At(f,0,d-s),R=At(h,0,c-n);return["sw","w","nw"].indexOf(i)!==-1&&(_=At(f,0,d)),["nw","n","ne"].indexOf(i)!==-1&&(R=At(h,0,c)),{w:_,h:R}}function At(r,t,a){return Math.max(Math.min(r,a),t)}var Za={},Qa={exports:{}},zn={},Se={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.dontSetMe=Kc;nt.findInArray=Zc;nt.int=Xc;nt.isFunction=Qc;nt.isNum=Yc;function Zc(r,t){for(let a=0,s=r.length;a<s;a++)if(t.apply(t,[r[a],a,r]))return r[a]}function Qc(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Function]"}function Yc(r){return typeof r=="number"&&!isNaN(r)}function Xc(r){return parseInt(r,10)}function Kc(r,t,a){if(r[t])return new Error(`Invalid prop ${t} passed to ${a} - do not set this, set it on the child.`)}var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.browserPrefixToKey=qn;Ft.browserPrefixToStyle=Jc;Ft.default=void 0;Ft.getPrefix=$n;const cr=["Moz","Webkit","O","ms"];function $n(){var a,s;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(s=(a=window.document)==null?void 0:a.documentElement)==null?void 0:s.style;if(!t||r in t)return"";for(let n=0;n<cr.length;n++)if(qn(r,cr[n])in t)return cr[n];return""}function qn(r,t){return t?`${t}${eo(r)}`:r}function Jc(r,t){return t?`-${t.toLowerCase()}-${r}`:r}function eo(r){let t="",a=!0;for(let s=0;s<r.length;s++)a?(t+=r[s].toUpperCase(),a=!1):r[s]==="-"?a=!0:t+=r[s];return t}Ft.default=$n();Object.defineProperty(Se,"__esModule",{value:!0});Se.addClassName=Hn;Se.addEvent=ao;Se.addUserSelectStyles=ho;Se.createCSSTransform=oo;Se.createSVGTransform=uo;Se.getTouch=mo;Se.getTouchIdentifier=xo;Se.getTranslation=Xr;Se.innerHeight=io;Se.innerWidth=lo;Se.matchesSelector=Un;Se.matchesSelectorAndParentsTo=to;Se.offsetXYFromParent=co;Se.outerHeight=so;Se.outerWidth=no;Se.removeClassName=Wn;Se.removeEvent=ro;Se.scheduleRemoveUserSelectStyles=po;var Xe=nt,zs=Bn(Ft);function Bn(r,t){if(typeof WeakMap=="function")var a=new WeakMap,s=new WeakMap;return(Bn=function(n,i){if(!i&&n&&n.__esModule)return n;var l,c,d={__proto__:null,default:n};if(n===null||typeof n!="object"&&typeof n!="function")return d;if(l=i?s:a){if(l.has(n))return l.get(n);l.set(n,d)}for(const m in n)m!=="default"&&{}.hasOwnProperty.call(n,m)&&((c=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,m))&&(c.get||c.set)?l(d,m,c):d[m]=n[m]);return d})(r,t)}let _a="";function Un(r,t){return _a||(_a=(0,Xe.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(a){return(0,Xe.isFunction)(r[a])})),(0,Xe.isFunction)(r[_a])?r[_a](t):!1}function to(r,t,a){let s=r;do{if(Un(s,t))return!0;if(s===a)return!1;s=s.parentNode}while(s);return!1}function ao(r,t,a,s){if(!r)return;const n={capture:!0,...s};r.addEventListener?r.addEventListener(t,a,n):r.attachEvent?r.attachEvent("on"+t,a):r["on"+t]=a}function ro(r,t,a,s){if(!r)return;const n={capture:!0,...s};r.removeEventListener?r.removeEventListener(t,a,n):r.detachEvent?r.detachEvent("on"+t,a):r["on"+t]=null}function so(r){let t=r.clientHeight;const a=r.ownerDocument.defaultView.getComputedStyle(r);return t+=(0,Xe.int)(a.borderTopWidth),t+=(0,Xe.int)(a.borderBottomWidth),t}function no(r){let t=r.clientWidth;const a=r.ownerDocument.defaultView.getComputedStyle(r);return t+=(0,Xe.int)(a.borderLeftWidth),t+=(0,Xe.int)(a.borderRightWidth),t}function io(r){let t=r.clientHeight;const a=r.ownerDocument.defaultView.getComputedStyle(r);return t-=(0,Xe.int)(a.paddingTop),t-=(0,Xe.int)(a.paddingBottom),t}function lo(r){let t=r.clientWidth;const a=r.ownerDocument.defaultView.getComputedStyle(r);return t-=(0,Xe.int)(a.paddingLeft),t-=(0,Xe.int)(a.paddingRight),t}function co(r,t,a){const n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(r.clientX+t.scrollLeft-n.left)/a,l=(r.clientY+t.scrollTop-n.top)/a;return{x:i,y:l}}function oo(r,t){const a=Xr(r,t,"px");return{[(0,zs.browserPrefixToKey)("transform",zs.default)]:a}}function uo(r,t){return Xr(r,t,"")}function Xr(r,t,a){let{x:s,y:n}=r,i=`translate(${s}${a},${n}${a})`;if(t){const l=`${typeof t.x=="string"?t.x:t.x+a}`,c=`${typeof t.y=="string"?t.y:t.y+a}`;i=`translate(${l}, ${c})`+i}return i}function mo(r,t){return r.targetTouches&&(0,Xe.findInArray)(r.targetTouches,a=>t===a.identifier)||r.changedTouches&&(0,Xe.findInArray)(r.changedTouches,a=>t===a.identifier)}function xo(r){if(r.targetTouches&&r.targetTouches[0])return r.targetTouches[0].identifier;if(r.changedTouches&&r.changedTouches[0])return r.changedTouches[0].identifier}function ho(r){if(!r)return;let t=r.getElementById("react-draggable-style-el");t||(t=r.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,r.getElementsByTagName("head")[0].appendChild(t)),r.body&&Hn(r.body,"react-draggable-transparent-selection")}function po(r){window.requestAnimationFrame?window.requestAnimationFrame(()=>{$s(r)}):$s(r)}function $s(r){if(r)try{if(r.body&&Wn(r.body,"react-draggable-transparent-selection"),r.selection)r.selection.empty();else{const t=(r.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Hn(r,t){r.classList?r.classList.add(t):r.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(r.className+=` ${t}`)}function Wn(r,t){r.classList?r.classList.remove(t):r.className=r.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}var it={};Object.defineProperty(it,"__esModule",{value:!0});it.canDragX=bo;it.canDragY=jo;it.createCoreData=vo;it.createDraggableData=No;it.getBoundPosition=go;it.getControlPosition=yo;it.snapToGrid=fo;var Ze=nt,Bt=Se;function go(r,t,a){if(!r.props.bounds)return[t,a];let{bounds:s}=r.props;s=typeof s=="string"?s:ko(s);const n=Kr(r);if(typeof s=="string"){const{ownerDocument:i}=n,l=i.defaultView;let c;if(s==="parent"?c=n.parentNode:c=n.getRootNode().querySelector(s),!(c instanceof l.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const d=c,m=l.getComputedStyle(n),u=l.getComputedStyle(d);s={left:-n.offsetLeft+(0,Ze.int)(u.paddingLeft)+(0,Ze.int)(m.marginLeft),top:-n.offsetTop+(0,Ze.int)(u.paddingTop)+(0,Ze.int)(m.marginTop),right:(0,Bt.innerWidth)(d)-(0,Bt.outerWidth)(n)-n.offsetLeft+(0,Ze.int)(u.paddingRight)-(0,Ze.int)(m.marginRight),bottom:(0,Bt.innerHeight)(d)-(0,Bt.outerHeight)(n)-n.offsetTop+(0,Ze.int)(u.paddingBottom)-(0,Ze.int)(m.marginBottom)}}return(0,Ze.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,Ze.isNum)(s.bottom)&&(a=Math.min(a,s.bottom)),(0,Ze.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,Ze.isNum)(s.top)&&(a=Math.max(a,s.top)),[t,a]}function fo(r,t,a){const s=Math.round(t/r[0])*r[0],n=Math.round(a/r[1])*r[1];return[s,n]}function bo(r){return r.props.axis==="both"||r.props.axis==="x"}function jo(r){return r.props.axis==="both"||r.props.axis==="y"}function yo(r,t,a){const s=typeof t=="number"?(0,Bt.getTouch)(r,t):null;if(typeof t=="number"&&!s)return null;const n=Kr(a),i=a.props.offsetParent||n.offsetParent||n.ownerDocument.body;return(0,Bt.offsetXYFromParent)(s||r,i,a.props.scale)}function vo(r,t,a){const s=!(0,Ze.isNum)(r.lastX),n=Kr(r);return s?{node:n,deltaX:0,deltaY:0,lastX:t,lastY:a,x:t,y:a}:{node:n,deltaX:t-r.lastX,deltaY:a-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:a}}function No(r,t){const a=r.props.scale;return{node:t.node,x:r.state.x+t.deltaX/a,y:r.state.y+t.deltaY/a,deltaX:t.deltaX/a,deltaY:t.deltaY/a,lastX:r.state.x,lastY:r.state.y}}function ko(r){return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}function Kr(r){const t=r.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Ya={},Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.default=wo;function wo(){}Object.defineProperty(Ya,"__esModule",{value:!0});Ya.default=void 0;var or=Gn(y),Be=Jr(kt),So=Jr(za),Ie=Se,bt=it,ur=nt,ta=Jr(Xa);function Jr(r){return r&&r.__esModule?r:{default:r}}function Gn(r,t){if(typeof WeakMap=="function")var a=new WeakMap,s=new WeakMap;return(Gn=function(n,i){if(!i&&n&&n.__esModule)return n;var l,c,d={__proto__:null,default:n};if(n===null||typeof n!="object"&&typeof n!="function")return d;if(l=i?s:a){if(l.has(n))return l.get(n);l.set(n,d)}for(const m in n)m!=="default"&&{}.hasOwnProperty.call(n,m)&&((c=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,m))&&(c.get||c.set)?l(d,m,c):d[m]=n[m]);return d})(r,t)}function Ue(r,t,a){return(t=_o(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function _o(r){var t=Co(r,"string");return typeof t=="symbol"?t:t+""}function Co(r,t){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const et={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let jt=et.mouse,Ka=class extends or.Component{constructor(){super(...arguments),Ue(this,"dragging",!1),Ue(this,"lastX",NaN),Ue(this,"lastY",NaN),Ue(this,"touchIdentifier",null),Ue(this,"mounted",!1),Ue(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const a=this.findDOMNode();if(!a||!a.ownerDocument||!a.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=a;if(this.props.disabled||!(t.target instanceof s.defaultView.Node)||this.props.handle&&!(0,Ie.matchesSelectorAndParentsTo)(t.target,this.props.handle,a)||this.props.cancel&&(0,Ie.matchesSelectorAndParentsTo)(t.target,this.props.cancel,a))return;t.type==="touchstart"&&!this.props.allowMobileScroll&&t.preventDefault();const n=(0,Ie.getTouchIdentifier)(t);this.touchIdentifier=n;const i=(0,bt.getControlPosition)(t,n,this);if(i==null)return;const{x:l,y:c}=i,d=(0,bt.createCoreData)(this,l,c);(0,ta.default)("DraggableCore: handleDragStart: %j",d),(0,ta.default)("calling",this.props.onStart),!(this.props.onStart(t,d)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Ie.addUserSelectStyles)(s),this.dragging=!0,this.lastX=l,this.lastY=c,(0,Ie.addEvent)(s,jt.move,this.handleDrag),(0,Ie.addEvent)(s,jt.stop,this.handleDragStop))}),Ue(this,"handleDrag",t=>{const a=(0,bt.getControlPosition)(t,this.touchIdentifier,this);if(a==null)return;let{x:s,y:n}=a;if(Array.isArray(this.props.grid)){let c=s-this.lastX,d=n-this.lastY;if([c,d]=(0,bt.snapToGrid)(this.props.grid,c,d),!c&&!d)return;s=this.lastX+c,n=this.lastY+d}const i=(0,bt.createCoreData)(this,s,n);if((0,ta.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(d)}return}this.lastX=s,this.lastY=n}),Ue(this,"handleDragStop",t=>{if(!this.dragging)return;const a=(0,bt.getControlPosition)(t,this.touchIdentifier,this);if(a==null)return;let{x:s,y:n}=a;if(Array.isArray(this.props.grid)){let d=s-this.lastX||0,m=n-this.lastY||0;[d,m]=(0,bt.snapToGrid)(this.props.grid,d,m),s=this.lastX+d,n=this.lastY+m}const i=(0,bt.createCoreData)(this,s,n);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;const c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,Ie.scheduleRemoveUserSelectStyles)(c.ownerDocument),(0,ta.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,ta.default)("DraggableCore: Removing handlers"),(0,Ie.removeEvent)(c.ownerDocument,jt.move,this.handleDrag),(0,Ie.removeEvent)(c.ownerDocument,jt.stop,this.handleDragStop))}),Ue(this,"onMouseDown",t=>(jt=et.mouse,this.handleDragStart(t))),Ue(this,"onMouseUp",t=>(jt=et.mouse,this.handleDragStop(t))),Ue(this,"onTouchStart",t=>(jt=et.touch,this.handleDragStart(t))),Ue(this,"onTouchEnd",t=>(jt=et.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,Ie.addEvent)(t,et.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:a}=t;(0,Ie.removeEvent)(a,et.mouse.move,this.handleDrag),(0,Ie.removeEvent)(a,et.touch.move,this.handleDrag),(0,Ie.removeEvent)(a,et.mouse.stop,this.handleDragStop),(0,Ie.removeEvent)(a,et.touch.stop,this.handleDragStop),(0,Ie.removeEvent)(t,et.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ie.scheduleRemoveUserSelectStyles)(a)}}findDOMNode(){var t,a,s;return(t=this.props)!=null&&t.nodeRef?(s=(a=this.props)==null?void 0:a.nodeRef)==null?void 0:s.current:So.default.findDOMNode(this)}render(){return or.cloneElement(or.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Ya.default=Ka;Ue(Ka,"displayName","DraggableCore");Ue(Ka,"propTypes",{allowAnyClick:Be.default.bool,allowMobileScroll:Be.default.bool,children:Be.default.node.isRequired,disabled:Be.default.bool,enableUserSelectHack:Be.default.bool,offsetParent:function(r,t){if(r[t]&&r[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Be.default.arrayOf(Be.default.number),handle:Be.default.string,cancel:Be.default.string,nodeRef:Be.default.object,onStart:Be.default.func,onDrag:Be.default.func,onStop:Be.default.func,onMouseDown:Be.default.func,scale:Be.default.number,className:ur.dontSetMe,style:ur.dontSetMe,transform:ur.dontSetMe});Ue(Ka,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),r.default=void 0;var t=f(y),a=u(kt),s=u(za),n=Wa,i=Se,l=it,c=nt,d=u(Ya),m=u(Xa);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(typeof WeakMap=="function")var p=new WeakMap,j=new WeakMap;return(f=function(o,x){if(!x&&o&&o.__esModule)return o;var N,k,T={__proto__:null,default:o};if(o===null||typeof o!="object"&&typeof o!="function")return T;if(N=x?j:p){if(N.has(o))return N.get(o);N.set(o,T)}for(const L in o)L!=="default"&&{}.hasOwnProperty.call(o,L)&&((k=(N=Object.defineProperty)&&Object.getOwnPropertyDescriptor(o,L))&&(k.get||k.set)?N(T,L,k):T[L]=o[L]);return T})(b,g)}function h(){return h=Object.assign?Object.assign.bind():function(b){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var j in p)({}).hasOwnProperty.call(p,j)&&(b[j]=p[j])}return b},h.apply(null,arguments)}function _(b,g,p){return(g=R(g))in b?Object.defineProperty(b,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):b[g]=p,b}function R(b){var g=v(b,"string");return typeof g=="symbol"?g:g+""}function v(b,g){if(typeof b!="object"||!b)return b;var p=b[Symbol.toPrimitive];if(p!==void 0){var j=p.call(b,g);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(b)}class w extends t.Component{static getDerivedStateFromProps(g,p){let{position:j}=g,{prevPropsPosition:o}=p;return j&&(!o||j.x!==o.x||j.y!==o.y)?((0,m.default)("Draggable: getDerivedStateFromProps %j",{position:j,prevPropsPosition:o}),{x:j.x,y:j.y,prevPropsPosition:{...j}}):null}constructor(g){super(g),_(this,"onDragStart",(p,j)=>{if((0,m.default)("Draggable: onDragStart: %j",j),this.props.onStart(p,(0,l.createDraggableData)(this,j))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),_(this,"onDrag",(p,j)=>{if(!this.state.dragging)return!1;(0,m.default)("Draggable: onDrag: %j",j);const o=(0,l.createDraggableData)(this,j),x={x:o.x,y:o.y,slackX:0,slackY:0};if(this.props.bounds){const{x:k,y:T}=x;x.x+=this.state.slackX,x.y+=this.state.slackY;const[L,$]=(0,l.getBoundPosition)(this,x.x,x.y);x.x=L,x.y=$,x.slackX=this.state.slackX+(k-x.x),x.slackY=this.state.slackY+(T-x.y),o.x=x.x,o.y=x.y,o.deltaX=x.x-this.state.x,o.deltaY=x.y-this.state.y}if(this.props.onDrag(p,o)===!1)return!1;this.setState(x)}),_(this,"onDragStop",(p,j)=>{if(!this.state.dragging||this.props.onStop(p,(0,l.createDraggableData)(this,j))===!1)return!1;(0,m.default)("Draggable: onDragStop: %j",j);const x={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:k,y:T}=this.props.position;x.x=k,x.y=T}this.setState(x)}),this.state={dragging:!1,dragged:!1,x:g.position?g.position.x:g.defaultPosition.x,y:g.position?g.position.y:g.defaultPosition.y,prevPropsPosition:{...g.position},slackX:0,slackY:0,isElementSVG:!1},g.position&&!(g.onDrag||g.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var g,p;return((p=(g=this.props)==null?void 0:g.nodeRef)==null?void 0:p.current)??s.default.findDOMNode(this)}render(){const{axis:g,bounds:p,children:j,defaultPosition:o,defaultClassName:x,defaultClassNameDragging:N,defaultClassNameDragged:k,position:T,positionOffset:L,scale:$,...H}=this.props;let A={},U=null;const B=!!!T||this.state.dragging,D=T||o,z={x:(0,l.canDragX)(this)&&B?this.state.x:D.x,y:(0,l.canDragY)(this)&&B?this.state.y:D.y};this.state.isElementSVG?U=(0,i.createSVGTransform)(z,L):A=(0,i.createCSSTransform)(z,L);const O=(0,n.clsx)(j.props.className||"",x,{[N]:this.state.dragging,[k]:this.state.dragged});return t.createElement(d.default,h({},H,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(j),{className:O,style:{...j.props.style,...A},transform:U}))}}r.default=w,_(w,"displayName","Draggable"),_(w,"propTypes",{...d.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),_(w,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(zn);const{default:Vn,DraggableCore:Do}=zn;Qa.exports=Vn;Qa.exports.default=Vn;Qa.exports.DraggableCore=Do;var Zn=Qa.exports,Ja={exports:{}},va={},es={};es.__esModule=!0;es.cloneElement=Eo;var Ao=Mo(y);function Mo(r){return r&&r.__esModule?r:{default:r}}function qs(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),a.push.apply(a,s)}return a}function Bs(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qs(Object(a),!0).forEach(function(s){Ro(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):qs(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}function Ro(r,t,a){return t=To(t),t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function To(r){var t=Po(r,"string");return typeof t=="symbol"?t:String(t)}function Po(r,t){if(typeof r!="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Eo(r,t){return t.style&&r.props.style&&(t.style=Bs(Bs({},r.props.style),t.style)),t.className&&r.props.className&&(t.className=r.props.className+" "+t.className),Ao.default.cloneElement(r,t)}var Na={};Na.__esModule=!0;Na.resizableProps=void 0;var K=Lo(kt);function Lo(r){return r&&r.__esModule?r:{default:r}}var Fo={axis:K.default.oneOf(["both","x","y","none"]),className:K.default.string,children:K.default.element.isRequired,draggableOpts:K.default.shape({allowAnyClick:K.default.bool,cancel:K.default.string,children:K.default.node,disabled:K.default.bool,enableUserSelectHack:K.default.bool,offsetParent:K.default.node,grid:K.default.arrayOf(K.default.number),handle:K.default.string,nodeRef:K.default.object,onStart:K.default.func,onDrag:K.default.func,onStop:K.default.func,onMouseDown:K.default.func,scale:K.default.number}),height:function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];var n=a[0];if(n.axis==="both"||n.axis==="y"){var i;return(i=K.default.number).isRequired.apply(i,a)}return K.default.number.apply(K.default,a)},handle:K.default.oneOfType([K.default.node,K.default.func]),handleSize:K.default.arrayOf(K.default.number),lockAspectRatio:K.default.bool,maxConstraints:K.default.arrayOf(K.default.number),minConstraints:K.default.arrayOf(K.default.number),onResizeStop:K.default.func,onResizeStart:K.default.func,onResize:K.default.func,resizeHandles:K.default.arrayOf(K.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:K.default.number,width:function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];var n=a[0];if(n.axis==="both"||n.axis==="x"){var i;return(i=K.default.number).isRequired.apply(i,a)}return K.default.number.apply(K.default,a)}};Na.resizableProps=Fo;va.__esModule=!0;va.default=void 0;var aa=qo(y),Io=Zn,Oo=es,zo=Na,$o=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function Qn(r){if(typeof WeakMap!="function")return null;var t=new WeakMap,a=new WeakMap;return(Qn=function(n){return n?a:t})(r)}function qo(r,t){if(r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var a=Qn(t);if(a&&a.has(r))return a.get(r);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if(i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)){var l=n?Object.getOwnPropertyDescriptor(r,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=r[i]}return s.default=r,a&&a.set(r,s),s}function Ar(){return Ar=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Ar.apply(this,arguments)}function Bo(r,t){if(r==null)return{};var a={},s=Object.keys(r),n,i;for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&(a[n]=r[n]);return a}function Us(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),a.push.apply(a,s)}return a}function mr(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Us(Object(a),!0).forEach(function(s){Uo(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Us(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}function Uo(r,t,a){return t=Ho(t),t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function Ho(r){var t=Wo(r,"string");return typeof t=="symbol"?t:String(t)}function Wo(r,t){if(typeof r!="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Go(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Mr(r,t)}function Mr(r,t){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Mr(r,t)}var ts=function(r){Go(t,r);function t(){for(var s,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return s=r.call.apply(r,[this].concat(i))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var a=t.prototype;return a.componentWillUnmount=function(){this.resetData()},a.resetData=function(){this.lastHandleRect=this.slack=null},a.runConstraints=function(n,i){var l=this.props,c=l.minConstraints,d=l.maxConstraints,m=l.lockAspectRatio;if(!c&&!d&&!m)return[n,i];if(m){var u=this.props.width/this.props.height,f=n-this.props.width,h=i-this.props.height;Math.abs(f)>Math.abs(h*u)?i=n/u:n=i*u}var _=n,R=i,v=this.slack||[0,0],w=v[0],b=v[1];return n+=w,i+=b,c&&(n=Math.max(c[0],n),i=Math.max(c[1],i)),d&&(n=Math.min(d[0],n),i=Math.min(d[1],i)),this.slack=[w+(_-n),b+(R-i)],[n,i]},a.resizeHandler=function(n,i){var l=this;return function(c,d){var m=d.node,u=d.deltaX,f=d.deltaY;n==="onResizeStart"&&l.resetData();var h=(l.props.axis==="both"||l.props.axis==="x")&&i!=="n"&&i!=="s",_=(l.props.axis==="both"||l.props.axis==="y")&&i!=="e"&&i!=="w";if(!(!h&&!_)){var R=i[0],v=i[i.length-1],w=m.getBoundingClientRect();if(l.lastHandleRect!=null){if(v==="w"){var b=w.left-l.lastHandleRect.left;u+=b}if(R==="n"){var g=w.top-l.lastHandleRect.top;f+=g}}l.lastHandleRect=w,v==="w"&&(u=-u),R==="n"&&(f=-f);var p=l.props.width+(h?u/l.props.transformScale:0),j=l.props.height+(_?f/l.props.transformScale:0),o=l.runConstraints(p,j);p=o[0],j=o[1];var x=p!==l.props.width||j!==l.props.height,N=typeof l.props[n]=="function"?l.props[n]:null,k=n==="onResize"&&!x;N&&!k&&(c.persist==null||c.persist(),N(c,{node:m,size:{width:p,height:j},handle:i})),n==="onResizeStop"&&l.resetData()}}},a.renderResizeHandle=function(n,i){var l=this.props.handle;if(!l)return aa.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+n,ref:i});if(typeof l=="function")return l(n,i);var c=typeof l.type=="string",d=mr({ref:i},c?{}:{handleAxis:n});return aa.cloneElement(l,d)},a.render=function(){var n=this,i=this.props,l=i.children,c=i.className,d=i.draggableOpts;i.width,i.height,i.handle,i.handleSize,i.lockAspectRatio,i.axis,i.minConstraints,i.maxConstraints,i.onResize,i.onResizeStop,i.onResizeStart;var m=i.resizeHandles;i.transformScale;var u=Bo(i,$o);return(0,Oo.cloneElement)(l,mr(mr({},u),{},{className:(c?c+" ":"")+"react-resizable",children:[].concat(l.props.children,m.map(function(f){var h,_=(h=n.handleRefs[f])!=null?h:n.handleRefs[f]=aa.createRef();return aa.createElement(Io.DraggableCore,Ar({},d,{nodeRef:_,key:"resizableHandle-"+f,onStop:n.resizeHandler("onResizeStop",f),onStart:n.resizeHandler("onResizeStart",f),onDrag:n.resizeHandler("onResize",f)}),n.renderResizeHandle(f,_))}))}))},t}(aa.Component);va.default=ts;ts.propTypes=zo.resizableProps;ts.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var er={};er.__esModule=!0;er.default=void 0;var xr=Xo(y),Vo=Yn(kt),Zo=Yn(va),Qo=Na,Yo=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function Yn(r){return r&&r.__esModule?r:{default:r}}function Xn(r){if(typeof WeakMap!="function")return null;var t=new WeakMap,a=new WeakMap;return(Xn=function(n){return n?a:t})(r)}function Xo(r,t){if(r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var a=Xn(t);if(a&&a.has(r))return a.get(r);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if(i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)){var l=n?Object.getOwnPropertyDescriptor(r,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=r[i]}return s.default=r,a&&a.set(r,s),s}function Rr(){return Rr=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Rr.apply(this,arguments)}function Hs(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),a.push.apply(a,s)}return a}function La(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Hs(Object(a),!0).forEach(function(s){Ko(r,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Hs(Object(a)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(a,s))})}return r}function Ko(r,t,a){return t=Jo(t),t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function Jo(r){var t=e0(r,"string");return typeof t=="symbol"?t:String(t)}function e0(r,t){if(typeof r!="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function t0(r,t){if(r==null)return{};var a={},s=Object.keys(r),n,i;for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&(a[n]=r[n]);return a}function a0(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Tr(r,t)}function Tr(r,t){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Tr(r,t)}var Kn=function(r){a0(t,r);function t(){for(var s,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return s=r.call.apply(r,[this].concat(i))||this,s.state={width:s.props.width,height:s.props.height,propsWidth:s.props.width,propsHeight:s.props.height},s.onResize=function(c,d){var m=d.size;s.props.onResize?(c.persist==null||c.persist(),s.setState(m,function(){return s.props.onResize&&s.props.onResize(c,d)})):s.setState(m)},s}t.getDerivedStateFromProps=function(n,i){return i.propsWidth!==n.width||i.propsHeight!==n.height?{width:n.width,height:n.height,propsWidth:n.width,propsHeight:n.height}:null};var a=t.prototype;return a.render=function(){var n=this.props,i=n.handle,l=n.handleSize;n.onResize;var c=n.onResizeStart,d=n.onResizeStop,m=n.draggableOpts,u=n.minConstraints,f=n.maxConstraints,h=n.lockAspectRatio,_=n.axis;n.width,n.height;var R=n.resizeHandles,v=n.style,w=n.transformScale,b=t0(n,Yo);return xr.createElement(Zo.default,{axis:_,draggableOpts:m,handle:i,handleSize:l,height:this.state.height,lockAspectRatio:h,maxConstraints:f,minConstraints:u,onResizeStart:c,onResize:this.onResize,onResizeStop:d,resizeHandles:R,transformScale:w,width:this.state.width},xr.createElement("div",Rr({},b,{style:La(La({},v),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(xr.Component);er.default=Kn;Kn.propTypes=La(La({},Qo.resizableProps),{},{children:Vo.default.element});Ja.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Ja.exports.Resizable=va.default;Ja.exports.ResizableBox=er.default;var r0=Ja.exports,ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.resizeHandleType=ut.resizeHandleAxesType=ut.default=void 0;var J=Jn(kt),s0=Jn(y);function Jn(r){return r&&r.__esModule?r:{default:r}}const n0=ut.resizeHandleAxesType=J.default.arrayOf(J.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i0=ut.resizeHandleType=J.default.oneOfType([J.default.node,J.default.func]);ut.default={className:J.default.string,style:J.default.object,width:J.default.number,autoSize:J.default.bool,cols:J.default.number,draggableCancel:J.default.string,draggableHandle:J.default.string,verticalCompact:function(r){r.verticalCompact},compactType:J.default.oneOf(["vertical","horizontal"]),layout:function(r){var t=r.layout;t!==void 0&&ae.validateLayout(t,"layout")},margin:J.default.arrayOf(J.default.number),containerPadding:J.default.arrayOf(J.default.number),rowHeight:J.default.number,maxRows:J.default.number,isBounded:J.default.bool,isDraggable:J.default.bool,isResizable:J.default.bool,allowOverlap:J.default.bool,preventCollision:J.default.bool,useCSSTransforms:J.default.bool,transformScale:J.default.number,isDroppable:J.default.bool,resizeHandles:n0,resizeHandle:i0,onLayoutChange:J.default.func,onDragStart:J.default.func,onDrag:J.default.func,onDragStop:J.default.func,onResizeStart:J.default.func,onResize:J.default.func,onResizeStop:J.default.func,onDrop:J.default.func,droppingItem:J.default.shape({i:J.default.string.isRequired,w:J.default.number.isRequired,h:J.default.number.isRequired}),children:function(r,t){const a=r[t],s={};s0.default.Children.forEach(a,function(n){if((n==null?void 0:n.key)!=null){if(s[n.key])throw new Error('Duplicate child key "'+n.key+'" found! This will cause problems in ReactGridLayout.');s[n.key]=!0}})},innerRef:J.default.any};Object.defineProperty(Za,"__esModule",{value:!0});Za.default=void 0;var Ot=as(y),Ws=za,me=as(kt),l0=Zn,d0=r0,zt=ae,Re=st,Gs=ut,c0=as(Wa);function as(r){return r&&r.__esModule?r:{default:r}}function tt(r,t,a){return(t=o0(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function o0(r){var t=u0(r,"string");return typeof t=="symbol"?t:t+""}function u0(r,t){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}class rs extends Ot.default.Component{constructor(){super(...arguments),tt(this,"state",{resizing:null,dragging:null,className:""}),tt(this,"elementRef",Ot.default.createRef()),tt(this,"onDragStart",(t,a)=>{let{node:s}=a;const{onDragStart:n,transformScale:i}=this.props;if(!n)return;const l={top:0,left:0},{offsetParent:c}=s;if(!c)return;const d=c.getBoundingClientRect(),m=s.getBoundingClientRect(),u=m.left/i,f=d.left/i,h=m.top/i,_=d.top/i;l.left=u-f+c.scrollLeft,l.top=h-_+c.scrollTop,this.setState({dragging:l});const{x:R,y:v}=(0,Re.calcXY)(this.getPositionParams(),l.top,l.left,this.props.w,this.props.h);return n.call(this,this.props.i,R,v,{e:t,node:s,newPosition:l})}),tt(this,"onDrag",(t,a,s)=>{let{node:n,deltaX:i,deltaY:l}=a;const{onDrag:c}=this.props;if(!c)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let d=this.state.dragging.top+l,m=this.state.dragging.left+i;const{isBounded:u,i:f,w:h,h:_,containerWidth:R}=this.props,v=this.getPositionParams();if(u){const{offsetParent:p}=n;if(p){const{margin:j,rowHeight:o}=this.props,x=p.clientHeight-(0,Re.calcGridItemWHPx)(_,o,j[1]);d=(0,Re.clamp)(d,0,x);const N=(0,Re.calcGridColWidth)(v),k=R-(0,Re.calcGridItemWHPx)(h,N,j[0]);m=(0,Re.clamp)(m,0,k)}}const w={top:d,left:m};s?this.setState({dragging:w}):(0,Ws.flushSync)(()=>{this.setState({dragging:w})});const{x:b,y:g}=(0,Re.calcXY)(v,d,m,h,_);return c.call(this,f,b,g,{e:t,node:n,newPosition:w})}),tt(this,"onDragStop",(t,a)=>{let{node:s}=a;const{onDragStop:n}=this.props;if(!n)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:i,h:l,i:c}=this.props,{left:d,top:m}=this.state.dragging,u={top:m,left:d};this.setState({dragging:null});const{x:f,y:h}=(0,Re.calcXY)(this.getPositionParams(),m,d,i,l);return n.call(this,c,f,h,{e:t,node:s,newPosition:u})}),tt(this,"onResizeStop",(t,a,s)=>this.onResizeHandler(t,a,s,"onResizeStop")),tt(this,"onResizeStart",(t,a,s)=>this.onResizeHandler(t,a,s,"onResizeStart")),tt(this,"onResize",(t,a,s)=>this.onResizeHandler(t,a,s,"onResize"))}shouldComponentUpdate(t,a){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;const s=(0,Re.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),n=(0,Re.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,a);return!(0,zt.fastPositionEqual)(s,n)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){const{droppingPosition:a}=this.props;if(!a)return;const s=this.elementRef.current;if(!s)return;const n=t.droppingPosition||{left:0,top:0},{dragging:i}=this.state,l=i&&a.left!==n.left||a.top!==n.top;if(!i)this.onDragStart(a.e,{node:s,deltaX:a.left,deltaY:a.top});else if(l){const c=a.left-i.left,d=a.top-i.top;this.onDrag(a.e,{node:s,deltaX:c,deltaY:d},!0)}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){const{usePercentages:a,containerWidth:s,useCSSTransforms:n}=this.props;let i;return n?i=(0,zt.setTransform)(t):(i=(0,zt.setTopLeft)(t),a&&(i.left=(0,zt.perc)(t.left/s),i.width=(0,zt.perc)(t.width/s))),i}mixinDraggable(t,a){return Ot.default.createElement(l0.DraggableCore,{disabled:!a,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,a){return(s,n)=>a(s,n,t)}mixinResizable(t,a,s){const{cols:n,minW:i,minH:l,maxW:c,maxH:d,transformScale:m,resizeHandles:u,resizeHandle:f}=this.props,h=this.getPositionParams(),_=(0,Re.calcGridItemPosition)(h,0,0,n,0).width,R=(0,Re.calcGridItemPosition)(h,0,0,i,l),v=(0,Re.calcGridItemPosition)(h,0,0,c,d),w=[R.width,R.height],b=[Math.min(v.width,_),Math.min(v.height,1/0)];return Ot.default.createElement(d0.Resizable,{draggableOpts:{disabled:!s},className:s?void 0:"react-resizable-hide",width:a.width,height:a.height,minConstraints:w,maxConstraints:b,onResizeStop:this.curryResizeHandler(a,this.onResizeStop),onResizeStart:this.curryResizeHandler(a,this.onResizeStart),onResize:this.curryResizeHandler(a,this.onResize),transformScale:m,resizeHandles:u,handle:f},t)}onResizeHandler(t,a,s,n){let{node:i,size:l,handle:c}=a;const d=this.props[n];if(!d)return;const{x:m,y:u,i:f,maxH:h,minH:_,containerWidth:R}=this.props,{minW:v,maxW:w}=this.props;let b=l;i&&(b=(0,zt.resizeItemInDirection)(c,s,l,R),(0,Ws.flushSync)(()=>{this.setState({resizing:n==="onResizeStop"?null:b})}));let{w:g,h:p}=(0,Re.calcWH)(this.getPositionParams(),b.width,b.height,m,u,c);g=(0,Re.clamp)(g,Math.max(v,1),w),p=(0,Re.clamp)(p,_,h),d.call(this,f,g,p,{e:t,node:i,size:b,handle:c})}render(){const{x:t,y:a,w:s,h:n,isDraggable:i,isResizable:l,droppingPosition:c,useCSSTransforms:d}=this.props,m=(0,Re.calcGridItemPosition)(this.getPositionParams(),t,a,s,n,this.state),u=Ot.default.Children.only(this.props.children);let f=Ot.default.cloneElement(u,{ref:this.elementRef,className:(0,c0.default)("react-grid-item",u.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":i,"react-draggable-dragging":!!this.state.dragging,dropping:!!c,cssTransforms:d}),style:{...this.props.style,...u.props.style,...this.createStyle(m)}});return f=this.mixinResizable(f,m,l),f=this.mixinDraggable(f,i),f}}Za.default=rs;tt(rs,"propTypes",{children:me.default.element,cols:me.default.number.isRequired,containerWidth:me.default.number.isRequired,rowHeight:me.default.number.isRequired,margin:me.default.array.isRequired,maxRows:me.default.number.isRequired,containerPadding:me.default.array.isRequired,x:me.default.number.isRequired,y:me.default.number.isRequired,w:me.default.number.isRequired,h:me.default.number.isRequired,minW:function(r,t){const a=r[t];if(typeof a!="number")return new Error("minWidth not Number");if(a>r.w||a>r.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(r,t){const a=r[t];if(typeof a!="number")return new Error("maxWidth not Number");if(a<r.w||a<r.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(r,t){const a=r[t];if(typeof a!="number")return new Error("minHeight not Number");if(a>r.h||a>r.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(r,t){const a=r[t];if(typeof a!="number")return new Error("maxHeight not Number");if(a<r.h||a<r.minH)return new Error("maxHeight smaller than item height/minHeight")},i:me.default.string.isRequired,resizeHandles:Gs.resizeHandleAxesType,resizeHandle:Gs.resizeHandleType,onDragStop:me.default.func,onDragStart:me.default.func,onDrag:me.default.func,onResizeStop:me.default.func,onResizeStart:me.default.func,onResize:me.default.func,isDraggable:me.default.bool.isRequired,isResizable:me.default.bool.isRequired,isBounded:me.default.bool.isRequired,static:me.default.bool,useCSSTransforms:me.default.bool.isRequired,transformScale:me.default.number,className:me.default.string,handle:me.default.string,cancel:me.default.string,droppingPosition:me.default.shape({e:me.default.object.isRequired,left:me.default.number.isRequired,top:me.default.number.isRequired})});tt(rs,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(ya,"__esModule",{value:!0});ya.default=void 0;var St=ei(y),hr=qr,m0=ss(Wa),Y=ae,x0=st,Vs=ss(Za),h0=ss(ut);function ss(r){return r&&r.__esModule?r:{default:r}}function ei(r,t){if(typeof WeakMap=="function")var a=new WeakMap,s=new WeakMap;return(ei=function(n,i){if(!i&&n&&n.__esModule)return n;var l,c,d={__proto__:null,default:n};if(n===null||typeof n!="object"&&typeof n!="function")return d;if(l=i?s:a){if(l.has(n))return l.get(n);l.set(n,d)}for(const m in n)m!=="default"&&{}.hasOwnProperty.call(n,m)&&((c=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,m))&&(c.get||c.set)?l(d,m,c):d[m]=n[m]);return d})(r,t)}function Oe(r,t,a){return(t=p0(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function p0(r){var t=g0(r,"string");return typeof t=="symbol"?t:t+""}function g0(r,t){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const Zs="react-grid-layout";let ti=!1;try{ti=/firefox/i.test(navigator.userAgent)}catch{}class tr extends St.Component{constructor(){super(...arguments),Oe(this,"state",{activeDrag:null,layout:(0,Y.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,Y.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),Oe(this,"dragEnterCounter",0),Oe(this,"onDragStart",(t,a,s,n)=>{let{e:i,node:l}=n;const{layout:c}=this.state,d=(0,Y.getLayoutItem)(c,t);if(!d)return;const m={w:d.w,h:d.h,x:d.x,y:d.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,Y.cloneLayoutItem)(d),oldLayout:c,activeDrag:m}),this.props.onDragStart(c,d,d,null,i,l)}),Oe(this,"onDrag",(t,a,s,n)=>{let{e:i,node:l}=n;const{oldDragItem:c}=this.state;let{layout:d}=this.state;const{cols:m,allowOverlap:u,preventCollision:f}=this.props,h=(0,Y.getLayoutItem)(d,t);if(!h)return;const _={w:h.w,h:h.h,x:h.x,y:h.y,placeholder:!0,i:t};d=(0,Y.moveElement)(d,h,a,s,!0,f,(0,Y.compactType)(this.props),m,u),this.props.onDrag(d,c,h,_,i,l),this.setState({layout:u?d:(0,Y.compact)(d,(0,Y.compactType)(this.props),m),activeDrag:_})}),Oe(this,"onDragStop",(t,a,s,n)=>{let{e:i,node:l}=n;if(!this.state.activeDrag)return;const{oldDragItem:c}=this.state;let{layout:d}=this.state;const{cols:m,preventCollision:u,allowOverlap:f}=this.props,h=(0,Y.getLayoutItem)(d,t);if(!h)return;d=(0,Y.moveElement)(d,h,a,s,!0,u,(0,Y.compactType)(this.props),m,f);const R=f?d:(0,Y.compact)(d,(0,Y.compactType)(this.props),m);this.props.onDragStop(R,c,h,null,i,l);const{oldLayout:v}=this.state;this.setState({activeDrag:null,layout:R,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(R,v)}),Oe(this,"onResizeStart",(t,a,s,n)=>{let{e:i,node:l}=n;const{layout:c}=this.state,d=(0,Y.getLayoutItem)(c,t);d&&(this.setState({oldResizeItem:(0,Y.cloneLayoutItem)(d),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(c,d,d,null,i,l))}),Oe(this,"onResize",(t,a,s,n)=>{let{e:i,node:l,size:c,handle:d}=n;const{oldResizeItem:m}=this.state,{layout:u}=this.state,{cols:f,preventCollision:h,allowOverlap:_}=this.props;let R=!1,v,w,b;const[g,p]=(0,Y.withLayoutItem)(u,t,o=>{let x;return w=o.x,b=o.y,["sw","w","nw","n","ne"].indexOf(d)!==-1&&(["sw","nw","w"].indexOf(d)!==-1&&(w=o.x+(o.w-a),a=o.x!==w&&w<0?o.w:a,w=w<0?0:w),["ne","n","nw"].indexOf(d)!==-1&&(b=o.y+(o.h-s),s=o.y!==b&&b<0?o.h:s,b=b<0?0:b),R=!0),h&&!_&&(x=(0,Y.getAllCollisions)(u,{...o,w:a,h:s,x:w,y:b}).filter(k=>k.i!==o.i).length>0,x&&(b=o.y,s=o.h,w=o.x,a=o.w,R=!1)),o.w=a,o.h=s,o});if(!p)return;v=g,R&&(v=(0,Y.moveElement)(g,p,w,b,!0,this.props.preventCollision,(0,Y.compactType)(this.props),f,_));const j={w:p.w,h:p.h,x:p.x,y:p.y,static:!0,i:t};this.props.onResize(v,m,p,j,i,l),this.setState({layout:_?v:(0,Y.compact)(v,(0,Y.compactType)(this.props),f),activeDrag:j})}),Oe(this,"onResizeStop",(t,a,s,n)=>{let{e:i,node:l}=n;const{layout:c,oldResizeItem:d}=this.state,{cols:m,allowOverlap:u}=this.props,f=(0,Y.getLayoutItem)(c,t),h=u?c:(0,Y.compact)(c,(0,Y.compactType)(this.props),m);this.props.onResizeStop(h,d,f,null,i,l);const{oldLayout:_}=this.state;this.setState({activeDrag:null,layout:h,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(h,_)}),Oe(this,"onDragOver",t=>{var g;if(t.preventDefault(),t.stopPropagation(),ti&&!((g=t.nativeEvent.target)!=null&&g.classList.contains(Zs)))return!1;const{droppingItem:a,onDropDragOver:s,margin:n,cols:i,rowHeight:l,maxRows:c,width:d,containerPadding:m,transformScale:u}=this.props,f=s==null?void 0:s(t);if(f===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const h={...a,...f},{layout:_}=this.state,R=t.currentTarget.getBoundingClientRect(),v=t.clientX-R.left,w=t.clientY-R.top,b={left:v/u,top:w/u,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:p,top:j}=this.state.droppingPosition;(p!=v||j!=w)&&this.setState({droppingPosition:b})}}else{const p={cols:i,margin:n,maxRows:c,rowHeight:l,containerWidth:d,containerPadding:m||n},j=(0,x0.calcXY)(p,w,v,h.w,h.h);this.setState({droppingDOMNode:St.createElement("div",{key:h.i}),droppingPosition:b,layout:[..._,{...h,x:j.x,y:j.y,static:!1,isDraggable:!0}]})}}),Oe(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:a}=this.props,{layout:s}=this.state,n=(0,Y.compact)(s.filter(i=>i.i!==t.i),(0,Y.compactType)(this.props),a,this.props.allowOverlap);this.setState({layout:n,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),Oe(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),Oe(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),Oe(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:a}=this.props,{layout:s}=this.state,n=s.find(i=>i.i===a.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(s,n,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,a){let s;return a.activeDrag?null:(!(0,hr.deepEqual)(t.layout,a.propsLayout)||t.compactType!==a.compactType?s=t.layout:(0,Y.childrenEqual)(t.children,a.children)||(s=a.layout),s?{layout:(0,Y.synchronizeLayoutWithChildren)(s,t.children,t.cols,(0,Y.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,a){return this.props.children!==t.children||!(0,Y.fastRGLPropsEqual)(this.props,t,hr.deepEqual)||this.state.activeDrag!==a.activeDrag||this.state.mounted!==a.mounted||this.state.droppingPosition!==a.droppingPosition}componentDidUpdate(t,a){if(!this.state.activeDrag){const s=this.state.layout,n=a.layout;this.onLayoutMaybeChanged(s,n)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,Y.bottom)(this.state.layout),a=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+a*2+"px"}onLayoutMaybeChanged(t,a){a||(a=this.state.layout),(0,hr.deepEqual)(a,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:a,cols:s,margin:n,containerPadding:i,rowHeight:l,maxRows:c,useCSSTransforms:d,transformScale:m}=this.props;return St.createElement(Vs.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:a,cols:s,margin:n,containerPadding:i||n,maxRows:c,rowHeight:l,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:d,transformScale:m},St.createElement("div",null))}processGridItem(t,a){if(!t||!t.key)return;const s=(0,Y.getLayoutItem)(this.state.layout,String(t.key));if(!s)return null;const{width:n,cols:i,margin:l,containerPadding:c,rowHeight:d,maxRows:m,isDraggable:u,isResizable:f,isBounded:h,useCSSTransforms:_,transformScale:R,draggableCancel:v,draggableHandle:w,resizeHandles:b,resizeHandle:g}=this.props,{mounted:p,droppingPosition:j}=this.state,o=typeof s.isDraggable=="boolean"?s.isDraggable:!s.static&&u,x=typeof s.isResizable=="boolean"?s.isResizable:!s.static&&f,N=s.resizeHandles||b,k=o&&h&&s.isBounded!==!1;return St.createElement(Vs.default,{containerWidth:n,cols:i,margin:l,containerPadding:c||l,maxRows:m,rowHeight:d,cancel:v,handle:w,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:o,isResizable:x,isBounded:k,useCSSTransforms:_&&p,usePercentages:!p,transformScale:R,w:s.w,h:s.h,x:s.x,y:s.y,i:s.i,minH:s.minH,minW:s.minW,maxH:s.maxH,maxW:s.maxW,static:s.static,droppingPosition:a?j:void 0,resizeHandles:N,resizeHandle:g},t)}render(){const{className:t,style:a,isDroppable:s,innerRef:n}=this.props,i=(0,m0.default)(Zs,t),l={height:this.containerHeight(),...a};return St.createElement("div",{ref:n,className:i,style:l,onDrop:s?this.onDrop:Y.noop,onDragLeave:s?this.onDragLeave:Y.noop,onDragEnter:s?this.onDragEnter:Y.noop,onDragOver:s?this.onDragOver:Y.noop},St.Children.map(this.props.children,c=>this.processGridItem(c)),s&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}ya.default=tr;Oe(tr,"displayName","ReactGridLayout");Oe(tr,"propTypes",h0.default);Oe(tr,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Y.noop,onDragStart:Y.noop,onDrag:Y.noop,onDragStop:Y.noop,onResizeStart:Y.noop,onResize:Y.noop,onResizeStop:Y.noop,onDrop:Y.noop,onDropDragOver:Y.noop});var ar={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.findOrGenerateResponsiveLayout=j0;It.getBreakpointFromWidth=f0;It.getColsFromBreakpoint=b0;It.sortBreakpoints=ns;var Ca=ae;function f0(r,t){const a=ns(r);let s=a[0];for(let n=1,i=a.length;n<i;n++){const l=a[n];t>r[l]&&(s=l)}return s}function b0(r,t){if(!t[r])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+r+" is missing!");return t[r]}function j0(r,t,a,s,n,i){if(r[a])return(0,Ca.cloneLayout)(r[a]);let l=r[s];const c=ns(t),d=c.slice(c.indexOf(a));for(let m=0,u=d.length;m<u;m++){const f=d[m];if(r[f]){l=r[f];break}}return l=(0,Ca.cloneLayout)(l||[]),(0,Ca.compact)((0,Ca.correctBounds)(l,{cols:n}),i,n)}function ns(r){return Object.keys(r).sort(function(a,s){return r[a]-r[s]})}Object.defineProperty(ar,"__esModule",{value:!0});ar.default=void 0;var Qs=ri(y),Ge=ai(kt),pr=qr,Ht=ae,_t=It,y0=ai(ya);function ai(r){return r&&r.__esModule?r:{default:r}}function ri(r,t){if(typeof WeakMap=="function")var a=new WeakMap,s=new WeakMap;return(ri=function(n,i){if(!i&&n&&n.__esModule)return n;var l,c,d={__proto__:null,default:n};if(n===null||typeof n!="object"&&typeof n!="function")return d;if(l=i?s:a){if(l.has(n))return l.get(n);l.set(n,d)}for(const m in n)m!=="default"&&{}.hasOwnProperty.call(n,m)&&((c=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,m))&&(c.get||c.set)?l(d,m,c):d[m]=n[m]);return d})(r,t)}function Pr(){return Pr=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Pr.apply(null,arguments)}function Fa(r,t,a){return(t=v0(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function v0(r){var t=N0(r,"string");return typeof t=="symbol"?t:t+""}function N0(r,t){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const Ys=r=>Object.prototype.toString.call(r);function Da(r,t){return r==null?null:Array.isArray(r)?r:r[t]}class is extends Qs.Component{constructor(){super(...arguments),Fa(this,"state",this.generateInitialState()),Fa(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:a,layouts:s,cols:n}=this.props,i=(0,_t.getBreakpointFromWidth)(a,t),l=(0,_t.getColsFromBreakpoint)(i,n),c=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,_t.findOrGenerateResponsiveLayout)(s,a,i,i,l,c),breakpoint:i,cols:l}}static getDerivedStateFromProps(t,a){if(!(0,pr.deepEqual)(t.layouts,a.layouts)){const{breakpoint:s,cols:n}=a;return{layout:(0,_t.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,s,s,n,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,pr.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,pr.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:a,cols:s,layouts:n,compactType:i}=this.props,l=this.props.breakpoint||(0,_t.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,d=(0,_t.getColsFromBreakpoint)(l,s),m={...n};if(c!==l||t.breakpoints!==a||t.cols!==s){c in m||(m[c]=(0,Ht.cloneLayout)(this.state.layout));let h=(0,_t.findOrGenerateResponsiveLayout)(m,a,l,c,d,i);h=(0,Ht.synchronizeLayoutWithChildren)(h,this.props.children,d,i,this.props.allowOverlap),m[l]=h,this.props.onBreakpointChange(l,d),this.props.onLayoutChange(h,m),this.setState({breakpoint:l,layout:h,cols:d})}const u=Da(this.props.margin,l),f=Da(this.props.containerPadding,l);this.props.onWidthChange(this.props.width,u,d,f)}render(){const{breakpoint:t,breakpoints:a,cols:s,layouts:n,margin:i,containerPadding:l,onBreakpointChange:c,onLayoutChange:d,onWidthChange:m,...u}=this.props;return Qs.createElement(y0.default,Pr({},u,{margin:Da(i,this.state.breakpoint),containerPadding:Da(l,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}ar.default=is;Fa(is,"propTypes",{breakpoint:Ge.default.string,breakpoints:Ge.default.object,allowOverlap:Ge.default.bool,cols:Ge.default.object,margin:Ge.default.oneOfType([Ge.default.array,Ge.default.object]),containerPadding:Ge.default.oneOfType([Ge.default.array,Ge.default.object]),layouts(r,t){if(Ys(r[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+Ys(r[t]));Object.keys(r[t]).forEach(a=>{if(!(a in r.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Ht.validateLayout)(r.layouts[a],"layouts."+a)})},width:Ge.default.number.isRequired,onBreakpointChange:Ge.default.func,onLayoutChange:Ge.default.func,onWidthChange:Ge.default.func});Fa(is,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Ht.noop,onLayoutChange:Ht.noop,onWidthChange:Ht.noop});var ls={},si=function(){if(typeof Map<"u")return Map;function r(t,a){var s=-1;return t.some(function(n,i){return n[0]===a?(s=i,!0):!1}),s}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(a){var s=r(this.__entries__,a),n=this.__entries__[s];return n&&n[1]},t.prototype.set=function(a,s){var n=r(this.__entries__,a);~n?this.__entries__[n][1]=s:this.__entries__.push([a,s])},t.prototype.delete=function(a){var s=this.__entries__,n=r(s,a);~n&&s.splice(n,1)},t.prototype.has=function(a){return!!~r(this.__entries__,a)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(a,s){s===void 0&&(s=null);for(var n=0,i=this.__entries__;n<i.length;n++){var l=i[n];a.call(s,l[1],l[0])}},t}()}(),Er=typeof window<"u"&&typeof document<"u"&&window.document===document,Ia=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),k0=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ia):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),w0=2;function S0(r,t){var a=!1,s=!1,n=0;function i(){a&&(a=!1,r()),s&&c()}function l(){k0(i)}function c(){var d=Date.now();if(a){if(d-n<w0)return;s=!0}else a=!0,s=!1,setTimeout(l,t);n=d}return c}var _0=20,C0=["top","right","bottom","left","width","height","size","weight"],D0=typeof MutationObserver<"u",A0=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=S0(this.refresh.bind(this),_0)}return r.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},r.prototype.removeObserver=function(t){var a=this.observers_,s=a.indexOf(t);~s&&a.splice(s,1),!a.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},r.prototype.updateObservers_=function(){var t=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return t.forEach(function(a){return a.broadcastActive()}),t.length>0},r.prototype.connect_=function(){!Er||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),D0?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!Er||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(t){var a=t.propertyName,s=a===void 0?"":a,n=C0.some(function(i){return!!~s.indexOf(i)});n&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),ni=function(r,t){for(var a=0,s=Object.keys(t);a<s.length;a++){var n=s[a];Object.defineProperty(r,n,{value:t[n],enumerable:!1,writable:!1,configurable:!0})}return r},Vt=function(r){var t=r&&r.ownerDocument&&r.ownerDocument.defaultView;return t||Ia},ii=rr(0,0,0,0);function Oa(r){return parseFloat(r)||0}function Xs(r){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return t.reduce(function(s,n){var i=r["border-"+n+"-width"];return s+Oa(i)},0)}function M0(r){for(var t=["top","right","bottom","left"],a={},s=0,n=t;s<n.length;s++){var i=n[s],l=r["padding-"+i];a[i]=Oa(l)}return a}function R0(r){var t=r.getBBox();return rr(0,0,t.width,t.height)}function T0(r){var t=r.clientWidth,a=r.clientHeight;if(!t&&!a)return ii;var s=Vt(r).getComputedStyle(r),n=M0(s),i=n.left+n.right,l=n.top+n.bottom,c=Oa(s.width),d=Oa(s.height);if(s.boxSizing==="border-box"&&(Math.round(c+i)!==t&&(c-=Xs(s,"left","right")+i),Math.round(d+l)!==a&&(d-=Xs(s,"top","bottom")+l)),!E0(r)){var m=Math.round(c+i)-t,u=Math.round(d+l)-a;Math.abs(m)!==1&&(c-=m),Math.abs(u)!==1&&(d-=u)}return rr(n.left,n.top,c,d)}var P0=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof Vt(r).SVGGraphicsElement}:function(r){return r instanceof Vt(r).SVGElement&&typeof r.getBBox=="function"}}();function E0(r){return r===Vt(r).document.documentElement}function L0(r){return Er?P0(r)?R0(r):T0(r):ii}function F0(r){var t=r.x,a=r.y,s=r.width,n=r.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(i.prototype);return ni(l,{x:t,y:a,width:s,height:n,top:a,right:t+s,bottom:n+a,left:t}),l}function rr(r,t,a,s){return{x:r,y:t,width:a,height:s}}var I0=function(){function r(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=rr(0,0,0,0),this.target=t}return r.prototype.isActive=function(){var t=L0(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},r}(),O0=function(){function r(t,a){var s=F0(a);ni(this,{target:t,contentRect:s})}return r}(),z0=function(){function r(t,a,s){if(this.activeObservations_=[],this.observations_=new si,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=a,this.callbackCtx_=s}return r.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var a=this.observations_;a.has(t)||(a.set(t,new I0(t)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Vt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var a=this.observations_;a.has(t)&&(a.delete(t),a.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(a){a.isActive()&&t.activeObservations_.push(a)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,a=this.activeObservations_.map(function(s){return new O0(s.target,s.broadcastRect())});this.callback_.call(t,a,t),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),li=typeof WeakMap<"u"?new WeakMap:new si,di=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var a=A0.getInstance(),s=new z0(t,a,this);li.set(this,s)}return r}();["observe","unobserve","disconnect"].forEach(function(r){di.prototype[r]=function(){var t;return(t=li.get(this))[r].apply(t,arguments)}});var $0=function(){return typeof Ia.ResizeObserver<"u"?Ia.ResizeObserver:di}();const q0=Object.freeze(Object.defineProperty({__proto__:null,default:$0},Symbol.toStringTag,{value:"Module"})),B0=Js(q0);Object.defineProperty(ls,"__esModule",{value:!0});ls.default=Q0;var Aa=ci(y),U0=ds(kt),H0=ds(B0),W0=ds(Wa);function ds(r){return r&&r.__esModule?r:{default:r}}function ci(r,t){if(typeof WeakMap=="function")var a=new WeakMap,s=new WeakMap;return(ci=function(n,i){if(!i&&n&&n.__esModule)return n;var l,c,d={__proto__:null,default:n};if(n===null||typeof n!="object"&&typeof n!="function")return d;if(l=i?s:a){if(l.has(n))return l.get(n);l.set(n,d)}for(const m in n)m!=="default"&&{}.hasOwnProperty.call(n,m)&&((c=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(n,m))&&(c.get||c.set)?l(d,m,c):d[m]=n[m]);return d})(r,t)}function Lr(){return Lr=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Lr.apply(null,arguments)}function $t(r,t,a){return(t=G0(t))in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}function G0(r){var t=V0(r,"string");return typeof t=="symbol"?t:t+""}function V0(r,t){if(typeof r!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}const Z0="react-grid-layout";function Q0(r){var t;return t=class extends Aa.Component{constructor(){super(...arguments),$t(this,"state",{width:1280}),$t(this,"elementRef",Aa.createRef()),$t(this,"mounted",!1),$t(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new H0.default(n=>{if(this.elementRef.current instanceof HTMLElement){const l=n[0].contentRect.width;this.setState({width:l})}});const s=this.elementRef.current;s instanceof HTMLElement&&this.resizeObserver.observe(s)}componentWillUnmount(){this.mounted=!1;const s=this.elementRef.current;s instanceof HTMLElement&&this.resizeObserver.unobserve(s),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:s,...n}=this.props;return s&&!this.mounted?Aa.createElement("div",{className:(0,W0.default)(this.props.className,Z0),style:this.props.style,ref:this.elementRef}):Aa.createElement(r,Lr({innerRef:this.elementRef},n,this.state))}},$t(t,"defaultProps",{measureBeforeMount:!1}),$t(t,"propTypes",{measureBeforeMount:U0.default.bool}),t}(function(r){r.exports=ya.default,r.exports.utils=ae,r.exports.calculateUtils=st,r.exports.Responsive=ar.default,r.exports.Responsive.utils=It,r.exports.WidthProvider=ls.default})(Cn);var Ks=Cn.exports;const Y0=Ks.WidthProvider(Ks.Responsive),X0=()=>{const[r,t]=y.useState([]),[a,s]=y.useState(null),[n,i]=y.useState(!1),[l,c]=y.useState(null),[d,m]=y.useState(!1),[u,f]=y.useState(!1),[h,_]=y.useState(!0),[R,v]=y.useState(!1),[w,b]=y.useState("dashboards"),g=[{id:"metric-card",name:"Metric Card",type:"metric",icon:e.jsx(ve,{className:"w-5 h-5"}),description:"Display key metrics with trend indicators",defaultConfig:{dataSource:"models",metric:"accuracy",aggregation:"avg",refreshInterval:300},defaultLayout:{w:3,h:2}},{id:"line-chart",name:"Line Chart",type:"chart",icon:e.jsx(ws,{className:"w-5 h-5"}),description:"Time series visualization",defaultConfig:{dataSource:"predictions",visualization:"line",refreshInterval:300},defaultLayout:{w:6,h:4}},{id:"bar-chart",name:"Bar Chart",type:"chart",icon:e.jsx(ce,{className:"w-5 h-5"}),description:"Compare values across categories",defaultConfig:{dataSource:"models",visualization:"bar",refreshInterval:300},defaultLayout:{w:6,h:4}},{id:"pie-chart",name:"Pie Chart",type:"chart",icon:e.jsx(fr,{className:"w-5 h-5"}),description:"Show proportional data",defaultConfig:{dataSource:"alerts",visualization:"pie",refreshInterval:300},defaultLayout:{w:4,h:4}},{id:"kpi-widget",name:"KPI Widget",type:"kpi",icon:e.jsx(le,{className:"w-5 h-5"}),description:"Key performance indicator with goals",defaultConfig:{dataSource:"custom",refreshInterval:300},defaultLayout:{w:4,h:3}},{id:"data-table",name:"Data Table",type:"table",icon:e.jsx(Ma,{className:"w-5 h-5"}),description:"Tabular data display",defaultConfig:{dataSource:"predictions",refreshInterval:300},defaultLayout:{w:8,h:6}},{id:"text-widget",name:"Text Widget",type:"text",icon:e.jsx(Hi,{className:"w-5 h-5"}),description:"Custom text and markdown content",defaultConfig:{refreshInterval:0},defaultLayout:{w:4,h:2}}],p=[{id:"dash_001",name:"Model Performance Overview",description:"Real-time monitoring of all model performance metrics",widgets:[{id:"widget_001",type:"metric",title:"Overall Accuracy",config:{dataSource:"models",metric:"accuracy",aggregation:"avg",refreshInterval:300},layout:{x:0,y:0,w:3,h:2},data:{value:.867,change:2.3,trend:"up"}},{id:"widget_002",type:"chart",title:"Prediction Volume",config:{dataSource:"predictions",visualization:"line",refreshInterval:300},layout:{x:3,y:0,w:6,h:4},data:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Predictions",data:[1200,1900,3e3,5e3,2300,3200,4100]}]}},{id:"widget_003",type:"metric",title:"Active Models",config:{dataSource:"models",metric:"count",filters:{status:"active"},refreshInterval:300},layout:{x:9,y:0,w:3,h:2},data:{value:12,change:1,trend:"up"}}],layout:[{i:"widget_001",x:0,y:0,w:3,h:2},{i:"widget_002",x:3,y:0,w:6,h:4},{i:"widget_003",x:9,y:0,w:3,h:2}],settings:{refreshInterval:300,theme:"light",columns:12,autoRefresh:!0},permissions:{viewers:["analyst","data_scientist"],editors:["admin"],isPublic:!1},tags:["performance","monitoring","models"],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T14:30:00Z",createdBy:"admin"},{id:"dash_002",name:"Executive Summary",description:"High-level KPIs for executive stakeholders",widgets:[],layout:[],settings:{refreshInterval:600,theme:"light",columns:12,autoRefresh:!0},permissions:{viewers:["executive","admin"],editors:["admin"],isPublic:!1},tags:["executive","kpi","summary"],createdAt:"2024-01-18T09:00:00Z",updatedAt:"2024-01-20T12:00:00Z",createdBy:"admin"}];y.useEffect(()=>{j()},[]);const j=async()=>{try{_(!0);const A=await ze.getCustomDashboards();if(A.success&&A.data)t(A.data);else{setTimeout(()=>{t(p),s(p[0]),_(!1)},1e3);return}}catch(A){console.warn("API call failed, using mock data:",A),setTimeout(()=>{t(p),s(p[0]),_(!1)},1e3);return}_(!1)},o=()=>{const A={id:`dash_${Date.now()}`,name:"New Dashboard",description:"Custom dashboard description",widgets:[],layout:[],settings:{refreshInterval:300,theme:"light",columns:12,autoRefresh:!0},permissions:{viewers:[],editors:[],isPublic:!1},tags:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current_user"};s(A),i(!0),b("builder")},x=A=>{if(!a)return;const U={id:`widget_${Date.now()}`,type:A.type,title:A.name,config:{...A.defaultConfig},layout:{x:0,y:0,w:A.defaultLayout.w,h:A.defaultLayout.h}},E={i:U.id,x:0,y:0,w:A.defaultLayout.w,h:A.defaultLayout.h};s({...a,widgets:[...a.widgets,U],layout:[...a.layout,E],updatedAt:new Date().toISOString()}),m(!1)},N=(A,U)=>{a&&s({...a,widgets:a.widgets.map(E=>E.id===A?{...E,...U}:E),updatedAt:new Date().toISOString()})},k=A=>{a&&(s({...a,widgets:a.widgets.filter(U=>U.id!==A),layout:a.layout.filter(U=>U.i!==A),updatedAt:new Date().toISOString()}),(l==null?void 0:l.id)===A&&c(null))},T=A=>{if(!a)return;const U=a.widgets.find(D=>D.id===A);if(!U)return;const E={...U,id:`widget_${Date.now()}`,title:`${U.title} (Copy)`,layout:{...U.layout,x:U.layout.x+1,y:U.layout.y+1}},B={i:E.id,x:E.layout.x,y:E.layout.y,w:E.layout.w,h:E.layout.h};s({...a,widgets:[...a.widgets,E],layout:[...a.layout,B],updatedAt:new Date().toISOString()})},L=A=>{!a||!n||s({...a,layout:A,updatedAt:new Date().toISOString()})},$=async()=>{if(a)try{(await ze.saveDashboard(a)).success&&(t(U=>{const E=U.findIndex(B=>B.id===a.id);if(E>=0){const B=[...U];return B[E]=a,B}else return[...U,a]}),i(!1))}catch(A){console.error("Failed to save dashboard:",A),t(U=>{const E=U.findIndex(B=>B.id===a.id);if(E>=0){const B=[...U];return B[E]=a,B}else return[...U,a]}),i(!1)}},H=A=>{var E,B;const U=(l==null?void 0:l.id)===A.id;return e.jsx("div",{className:`relative group ${U?"ring-2 ring-primary-500":""}`,onClick:()=>n&&c(A),children:e.jsx(P,{className:"h-full",children:e.jsxs("div",{className:"p-4 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 truncate",children:A.title}),n&&e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1",children:[e.jsx("button",{onClick:D=>{D.stopPropagation(),c(A)},className:"p-1 text-neutral-500 hover:text-primary-600 transition-colors",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("button",{onClick:D=>{D.stopPropagation(),T(A.id)},className:"p-1 text-neutral-500 hover:text-blue-600 transition-colors",children:e.jsx(Ui,{className:"w-4 h-4"})}),e.jsx("button",{onClick:D=>{D.stopPropagation(),k(A.id)},className:"p-1 text-neutral-500 hover:text-red-600 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex-1",children:[A.type==="metric"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:((E=A.data)==null?void 0:E.value)||"---"}),((B=A.data)==null?void 0:B.change)&&e.jsxs("div",{className:`text-sm ${A.data.trend==="up"?"text-green-600":"text-red-600"}`,children:[A.data.change>0?"+":"",A.data.change,"%"]})]}),A.type==="chart"&&e.jsx("div",{className:"h-32 bg-neutral-100 dark:bg-neutral-800 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-neutral-500",children:[A.config.visualization==="line"&&e.jsx(ws,{className:"w-8 h-8 mx-auto mb-2"}),A.config.visualization==="bar"&&e.jsx(ce,{className:"w-8 h-8 mx-auto mb-2"}),A.config.visualization==="pie"&&e.jsx(fr,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-sm",children:"Chart Preview"})]})}),A.type==="kpi"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Current:"}),e.jsx("span",{className:"font-medium",children:"85.2%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Target:"}),e.jsx("span",{className:"font-medium",children:"90.0%"})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"85%"}})})]}),A.type==="table"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs font-medium text-neutral-600 dark:text-neutral-400",children:[e.jsx("div",{children:"Model"}),e.jsx("div",{children:"Accuracy"}),e.jsx("div",{children:"Status"})]}),e.jsx("div",{className:"space-y-1",children:[1,2,3].map(D=>e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.jsxs("div",{children:["Model ",D]}),e.jsxs("div",{children:["0.",85+D,"%"]}),e.jsx("div",{className:"text-green-600",children:"Active"})]},D))})]}),A.type==="text"&&e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:A.config.customQuery||"Custom text content..."})]}),A.lastUpdated&&e.jsxs("div",{className:"text-xs text-neutral-400 mt-2",children:["Updated: ",new Date(A.lastUpdated).toLocaleTimeString()]})]})})},A.id)};return h?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(pe,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading dashboards..."})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Custom Dashboard Builder"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Create and manage custom dashboards with drag-and-drop widgets"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>v(!R),className:"flex items-center space-x-2 px-4 py-2 bg-neutral-600 hover:bg-neutral-700 text-white rounded-lg transition-colors",children:[R?e.jsx(ca,{className:"w-4 h-4"}):e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:R?"Edit":"Preview"})]}),n&&e.jsxs("button",{onClick:$,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(ba,{className:"w-4 h-4"}),e.jsx("span",{children:"Save"})]})]}),e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"New Dashboard"})]})]})]}),e.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"dashboards",label:"My Dashboards",icon:Wt},{id:"builder",label:"Dashboard Builder",icon:rn},{id:"templates",label:"Templates",icon:Ma}].map(A=>e.jsxs("button",{onClick:()=>b(A.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w===A.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(A.icon,{className:"w-4 h-4"}),e.jsx("span",{children:A.label})]},A.id))})}),w==="dashboards"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>e.jsx(P,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",onClick:()=>{s(A),b("builder")},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:A.name}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:U=>{U.stopPropagation(),s(A),i(!0),b("builder")},className:"p-1 text-neutral-500 hover:text-primary-600 transition-colors",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-neutral-500 hover:text-red-600 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:A.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500",children:[e.jsxs("span",{children:[A.widgets.length," widgets"]}),e.jsxs("span",{children:["Updated ",new Date(A.updatedAt).toLocaleDateString()]})]}),A.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:A.tags.slice(0,3).map(U=>e.jsx("span",{className:"px-2 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 rounded text-xs",children:U},U))})]})},A.id))}),w==="builder"&&a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[n?e.jsx("input",{type:"text",value:a.name,onChange:A=>s({...a,name:A.target.value,updatedAt:new Date().toISOString()}),className:"text-2xl font-bold bg-transparent border-b border-neutral-300 dark:border-neutral-600 text-neutral-900 dark:text-neutral-100 focus:outline-none focus:border-primary-500"}):e.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:a.name}),n?e.jsx("input",{type:"text",value:a.description,onChange:A=>s({...a,description:A.target.value,updatedAt:new Date().toISOString()}),className:"mt-1 text-neutral-600 dark:text-neutral-400 bg-transparent border-b border-neutral-300 dark:border-neutral-600 focus:outline-none focus:border-primary-500",placeholder:"Dashboard description..."}):e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:a.description})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[n&&e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Widget"})]}),e.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-2 px-4 py-2 bg-neutral-600 hover:bg-neutral-700 text-white rounded-lg transition-colors",children:[n?e.jsx(we,{className:"w-4 h-4"}):e.jsx(ca,{className:"w-4 h-4"}),e.jsx("span",{children:n?"Preview":"Edit"})]})]})]}),e.jsx("div",{className:"min-h-96",children:a.widgets.length>0?e.jsx(Y0,{className:"layout",layouts:{lg:a.layout,md:a.layout,sm:a.layout,xs:a.layout,xxs:a.layout},breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:60,onLayoutChange:L,isDraggable:n,isResizable:n,children:a.widgets.map(H)}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg",children:[e.jsx(Ma,{className:"w-12 h-12 text-neutral-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"No widgets yet"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4",children:"Add your first widget to get started building your dashboard"}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Widget"})]})]})})]}),w==="templates"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(P,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Model Performance Template"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:"Pre-built dashboard for monitoring ML model performance metrics"}),e.jsx("button",{className:"w-full px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Use Template"})]})}),e.jsx(P,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Executive Summary Template"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:"High-level KPIs and metrics for executive stakeholders"}),e.jsx("button",{className:"w-full px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Use Template"})]})}),e.jsx(P,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Data Quality Template"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:"Monitor data quality metrics and validation results"}),e.jsx("button",{className:"w-full px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:"Use Template"})]})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Widget Library"}),e.jsx("button",{onClick:()=>m(!1),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(A=>e.jsxs("div",{className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 cursor-pointer transition-colors",onClick:()=>x(A),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/20 rounded-lg",children:A.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:A.name}),e.jsxs("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:[A.defaultLayout.w,"×",A.defaultLayout.h]})]})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:A.description})]},A.id))})})]})}),l&&n&&e.jsxs("div",{className:"fixed right-0 top-0 h-full w-80 bg-white dark:bg-neutral-800 shadow-xl border-l border-neutral-200 dark:border-neutral-700 z-40",children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Widget Settings"}),e.jsx("button",{onClick:()=>c(null),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Widget Title"}),e.jsx("input",{type:"text",value:l.title,onChange:A=>N(l.id,{title:A.target.value}),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Data Source"}),e.jsxs("select",{value:l.config.dataSource||"",onChange:A=>N(l.id,{config:{...l.config,dataSource:A.target.value}}),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"models",children:"Models"}),e.jsx("option",{value:"predictions",children:"Predictions"}),e.jsx("option",{value:"alerts",children:"Alerts"}),e.jsx("option",{value:"custom",children:"Custom Query"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Refresh Interval (seconds)"}),e.jsx("input",{type:"number",value:l.config.refreshInterval||300,onChange:A=>N(l.id,{config:{...l.config,refreshInterval:parseInt(A.target.value)}}),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),l.type==="chart"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Chart Type"}),e.jsxs("select",{value:l.config.visualization||"",onChange:A=>N(l.id,{config:{...l.config,visualization:A.target.value}}),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"line",children:"Line Chart"}),e.jsx("option",{value:"bar",children:"Bar Chart"}),e.jsx("option",{value:"pie",children:"Pie Chart"}),e.jsx("option",{value:"area",children:"Area Chart"})]})]}),(l.type==="text"||l.config.dataSource==="custom")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Custom Content/Query"}),e.jsx("textarea",{value:l.config.customQuery||"",onChange:A=>N(l.id,{config:{...l.config,customQuery:A.target.value}}),rows:4,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",placeholder:"Enter custom content or SQL query..."})]})]})]})]})},K0=()=>{const[r,t]=y.useState([]),[a,s]=y.useState(null),[n,i]=y.useState(!0),[l,c]=y.useState(!1),[d,m]=y.useState(""),[u,f]=y.useState("all"),[h,_]=y.useState("all"),[R,v]=y.useState("updated"),[w,b]=y.useState("grid"),[g,p]=y.useState("overview"),[j,o]=y.useState(!1),[x,N]=y.useState(!1),k=y.useRef(null),T=[{id:"sklearn-classifier",name:"Scikit-learn Classifier",description:"Standard classification model using scikit-learn",type:"classification",framework:"sklearn",icon:e.jsx(ve,{className:"w-6 h-6"}),template:{type:"classification",framework:"sklearn",features:{inputFeatures:[],outputShape:"binary"}}},{id:"tensorflow-neural-net",name:"TensorFlow Neural Network",description:"Deep learning model using TensorFlow/Keras",type:"classification",framework:"tensorflow",icon:e.jsx(Ve,{className:"w-6 h-6"}),template:{type:"classification",framework:"tensorflow",features:{inputFeatures:[],outputShape:"multi-class"}}},{id:"onnx-model",name:"ONNX Model",description:"Cross-platform ONNX format model",type:"classification",framework:"onnx",icon:e.jsx(_s,{className:"w-6 h-6"}),template:{type:"classification",framework:"onnx",features:{inputFeatures:[],outputShape:"tensor"}}}],L=[{id:"model_001",name:"Credit Risk Classifier v2.3",description:"Advanced credit risk assessment model with improved accuracy",type:"classification",framework:"sklearn",currentVersion:"v2.3.1",versions:[{version:"v2.3.1",description:"Bug fixes and performance improvements",createdAt:"2024-01-20T14:30:00Z",createdBy:"john.doe",status:"active",metrics:{accuracy:.892,precision:.876,recall:.903},size:"45.2 MB",format:"pkl",checksum:"sha256:abc123..."},{version:"v2.3.0",description:"Feature engineering improvements",createdAt:"2024-01-18T10:00:00Z",createdBy:"jane.smith",status:"deprecated",metrics:{accuracy:.885,precision:.87,recall:.898},size:"43.8 MB",format:"pkl",checksum:"sha256:def456..."}],status:"active",deployment:{status:"deployed",environment:"production",endpoint:"https://api.ml.company.com/v1/credit-risk",instances:3,lastDeployment:"2024-01-20T15:00:00Z"},performance:{accuracy:.892,precision:.876,recall:.903,f1Score:.889},usage:{totalPredictions:1234567,dailyPredictions:8945,avgLatency:45,errorRate:.02},features:{inputFeatures:["income","age","credit_score","employment_length","debt_ratio"],outputShape:"binary",featureImportance:{credit_score:.35,income:.28,debt_ratio:.22,age:.1,employment_length:.05}},tags:["credit","risk","production","high-performance"],owner:"John Doe",team:"Risk Analytics",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T14:30:00Z",lastTrainedAt:"2024-01-18T08:00:00Z",modelCard:{intendedUse:"Credit risk assessment for loan applications",limitations:"Not suitable for high-value commercial loans above $1M",tradeOffs:"Optimized for recall over precision to minimize false negatives",ethicalConsiderations:"Regular bias monitoring for protected characteristics"},artifacts:{modelFile:"credit_risk_v2.3.1.pkl",configFile:"config.json",requirementsFile:"requirements.txt",documentationFile:"model_documentation.md"}},{id:"model_002",name:"Fraud Detection Neural Network",description:"Real-time fraud detection using deep learning",type:"classification",framework:"tensorflow",currentVersion:"v1.2.0",versions:[{version:"v1.2.0",description:"Added real-time feature engineering pipeline",createdAt:"2024-01-19T16:20:00Z",createdBy:"alex.chen",status:"testing",metrics:{accuracy:.943,precision:.921,recall:.965},size:"128.5 MB",format:"h5",checksum:"sha256:ghi789..."}],status:"training",deployment:{status:"not_deployed",environment:"staging",instances:0,lastDeployment:"2024-01-15T12:00:00Z"},performance:{accuracy:.943,precision:.921,recall:.965,f1Score:.942},usage:{totalPredictions:0,dailyPredictions:0,avgLatency:0,errorRate:0},features:{inputFeatures:["transaction_amount","merchant_category","time_features","user_behavior"],outputShape:"binary"},tags:["fraud","neural-network","real-time","experimental"],owner:"Alex Chen",team:"Security AI",createdAt:"2024-01-10T14:30:00Z",updatedAt:"2024-01-19T16:20:00Z",lastTrainedAt:"2024-01-19T12:00:00Z",artifacts:{modelFile:"fraud_detection_v1.2.0.h5",configFile:"model_config.json",requirementsFile:"requirements.txt"}}];y.useEffect(()=>{$()},[]);const $=async()=>{try{i(!0);const M=await ze.listModels();if(M.success&&M.data)t(M.data.map(H));else{setTimeout(()=>{t(L),s(L[0]),i(!1)},1e3);return}}catch(M){console.warn("API call failed, using mock data:",M),setTimeout(()=>{t(L),s(L[0]),i(!1)},1e3);return}i(!1)},H=M=>{var I;return{id:M.id,name:M.name,description:M.description||"",type:M.model_type,framework:M.framework,currentVersion:M.version,versions:[{version:M.version,description:"Current version",createdAt:M.created_at,createdBy:M.created_by||"unknown",status:"active",metrics:M.validation_metrics||{},size:"Unknown",format:"pkl",checksum:"Unknown"}],status:M.status,deployment:{status:"not_deployed",environment:"development",instances:0,lastDeployment:M.created_at},performance:M.validation_metrics||{},usage:{totalPredictions:0,dailyPredictions:0,avgLatency:0,errorRate:0},features:{inputFeatures:M.feature_names||[],outputShape:((I=M.target_names)==null?void 0:I.length)>2?"multi-class":"binary"},tags:[],owner:M.created_by||"Unknown",team:"Unknown",createdAt:M.created_at,updatedAt:M.updated_at||M.created_at,lastTrainedAt:M.created_at,artifacts:{modelFile:"model.pkl"}}},A=async M=>{var S;const I=(S=M.target.files)==null?void 0:S[0];if(I)try{c(!0);const q=new FormData;q.append("model_file",I),q.append("model_name","Uploaded Model"),q.append("model_type","classification"),(await ze.uploadModel(I,{model_name:"Uploaded Model",model_type:"classification"})).success&&(await $(),o(!1))}catch(q){console.error("Upload failed:",q)}finally{c(!1)}},U=async(M,I)=>{try{console.log(`Deploying model ${M} to ${I}`),t(S=>S.map(q=>q.id===M?{...q,deployment:{...q.deployment,status:"deploying"}}:q)),setTimeout(()=>{t(S=>S.map(q=>q.id===M?{...q,deployment:{...q.deployment,status:"deployed",environment:I,lastDeployment:new Date().toISOString()}}:q))},3e3)}catch(S){console.error("Deployment failed:",S)}},B=[...r.filter(M=>{const I=M.name.toLowerCase().includes(d.toLowerCase())||M.description.toLowerCase().includes(d.toLowerCase())||M.tags.some(V=>V.toLowerCase().includes(d.toLowerCase())),S=u==="all"||M.type===u,q=h==="all"||M.status===h;return I&&S&&q})].sort((M,I)=>{switch(R){case"name":return M.name.localeCompare(I.name);case"created":return new Date(I.createdAt).getTime()-new Date(M.createdAt).getTime();case"updated":return new Date(I.updatedAt).getTime()-new Date(M.updatedAt).getTime();case"performance":const S=M.performance.accuracy||M.performance.f1Score||0;return(I.performance.accuracy||I.performance.f1Score||0)-S;default:return 0}}),D=M=>{switch(M){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"inactive":return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300";case"training":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"deploying":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"deprecated":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}},z=M=>{switch(M){case"deployed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"deploying":return"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"not_deployed":return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300"}},O=M=>{switch(M){case"sklearn":return e.jsx(ve,{className:"w-5 h-5"});case"tensorflow":return e.jsx(Ve,{className:"w-5 h-5"});case"pytorch":return e.jsx(Gi,{className:"w-5 h-5"});case"xgboost":return e.jsx(le,{className:"w-5 h-5"});case"onnx":return e.jsx(_s,{className:"w-5 h-5"});default:return e.jsx(ke,{className:"w-5 h-5"})}};return n?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(pe,{className:"w-8 h-8 animate-spin text-primary-600"}),e.jsx("span",{className:"ml-3 text-lg text-neutral-600 dark:text-neutral-400",children:"Loading models..."})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Model Management"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Upload, version, deploy, and manage ML models across environments"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload Model"})]}),e.jsxs("button",{onClick:$,className:"flex items-center space-x-2 px-4 py-2 bg-neutral-600 hover:bg-neutral-700 text-white rounded-lg transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Q,{title:"Total Models",value:r.length,format:"number",icon:e.jsx(ke,{className:"w-5 h-5"}),change:"+3",changeType:"positive"}),e.jsx(Q,{title:"Active Models",value:r.filter(M=>M.status==="active").length,format:"number",icon:e.jsx(sr,{className:"w-5 h-5"}),change:"+2",changeType:"positive"}),e.jsx(Q,{title:"Deployed Models",value:r.filter(M=>M.deployment.status==="deployed").length,format:"number",icon:e.jsx(Ss,{className:"w-5 h-5"}),change:"+1",changeType:"positive"}),e.jsx(Q,{title:"Avg Performance",value:r.reduce((M,I)=>M+(I.performance.accuracy||I.performance.f1Score||0),0)/r.length||0,format:"percentage",icon:e.jsx(le,{className:"w-5 h-5"}),change:"+2.3%",changeType:"positive"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search models...",value:d,onChange:M=>m(M.target.value),className:"pl-10 pr-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("select",{value:u,onChange:M=>f(M.target.value),className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"classification",children:"Classification"}),e.jsx("option",{value:"regression",children:"Regression"}),e.jsx("option",{value:"clustering",children:"Clustering"}),e.jsx("option",{value:"nlp",children:"NLP"}),e.jsx("option",{value:"computer_vision",children:"Computer Vision"})]}),e.jsxs("select",{value:h,onChange:M=>_(M.target.value),className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"deprecated",children:"Deprecated"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:R,onChange:M=>v(M.target.value),className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"updated",children:"Recently Updated"}),e.jsx("option",{value:"created",children:"Recently Created"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"performance",children:"Performance"})]}),e.jsxs("div",{className:"flex border border-neutral-300 dark:border-neutral-600 rounded-lg",children:[e.jsx("button",{onClick:()=>b("grid"),className:`p-2 ${w==="grid"?"bg-primary-100 text-primary-600":"text-neutral-500"}`,children:e.jsx(ce,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b("list"),className:`p-2 ${w==="list"?"bg-primary-100 text-primary-600":"text-neutral-500"}`,children:e.jsx(Wi,{className:"w-4 h-4"})})]})]})]}),w==="grid"?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:B.map(M=>e.jsx(P,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>s(M),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:O(M.framework)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 truncate",children:M.name}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[M.framework," • ",M.type]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D(M.status)}`,children:M.status})})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4 line-clamp-2",children:M.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-500",children:"Version:"}),e.jsx("span",{className:"font-medium",children:M.currentVersion})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-500",children:"Performance:"}),e.jsxs("span",{className:"font-medium",children:[((M.performance.accuracy||M.performance.f1Score||0)*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-500",children:"Deployment:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${z(M.deployment.status)}`,children:M.deployment.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-neutral-500",children:"Predictions:"}),e.jsx("span",{className:"font-medium",children:M.usage.totalPredictions.toLocaleString()})]})]}),M.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-4",children:[M.tags.slice(0,3).map(I=>e.jsx("span",{className:"px-2 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 rounded text-xs",children:I},I)),M.tags.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 rounded text-xs",children:["+",M.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("span",{className:"text-xs text-neutral-500",children:["Updated ",new Date(M.updatedAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[M.deployment.status!=="deployed"&&e.jsx("button",{onClick:I=>{I.stopPropagation(),U(M.id,"staging")},className:"p-1 text-neutral-500 hover:text-green-600 transition-colors",title:"Deploy",children:e.jsx(sr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),s(M),N(!0)},className:"p-1 text-neutral-500 hover:text-blue-600 transition-colors",title:"Versions",children:e.jsx(at,{className:"w-4 h-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation()},className:"p-1 text-neutral-500 hover:text-neutral-700 transition-colors",title:"Settings",children:e.jsx(de,{className:"w-4 h-4"})})]})]})]})},M.id))}):e.jsx(P,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 dark:bg-neutral-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Model"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Version"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Deployment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-neutral-900 divide-y divide-neutral-200 dark:divide-neutral-700",children:B.map(M=>e.jsxs("tr",{className:"hover:bg-neutral-50 dark:hover:bg-neutral-800 cursor-pointer",onClick:()=>s(M),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:O(M.framework)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:M.name}),e.jsx("div",{className:"text-sm text-neutral-500",children:M.framework})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100 capitalize",children:M.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:M.currentVersion})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:[((M.performance.accuracy||M.performance.f1Score||0)*100).toFixed(1),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D(M.status)}`,children:M.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${z(M.deployment.status)}`,children:M.deployment.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[M.deployment.status!=="deployed"&&e.jsx("button",{onClick:I=>{I.stopPropagation(),U(M.id,"staging")},className:"text-green-600 hover:text-green-900",children:e.jsx(sr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:I=>{I.stopPropagation(),s(M),N(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(at,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(on,{className:"w-4 h-4"})})]})})]},M.id))})]})})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:a.name}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:a.description})]}),e.jsx("button",{onClick:()=>s(null),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]}),e.jsx("div",{className:"mt-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:we},{id:"versions",label:"Versions",icon:at},{id:"deployment",label:"Deployment",icon:Ss},{id:"performance",label:"Performance",icon:ce},{id:"settings",label:"Settings",icon:de}].map(M=>e.jsxs("button",{onClick:()=>p(M.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${g===M.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(M.icon,{className:"w-4 h-4"}),e.jsx("span",{children:M.label})]},M.id))})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-8 text-neutral-500 dark:text-neutral-400",children:[e.jsx(Wt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Model details panel coming soon"}),e.jsx("p",{className:"text-sm",children:"View versions, deployment status, and performance metrics"})]})})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[e.jsx("div",{className:"p-6 border-b border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Upload New Model"}),e.jsx("button",{onClick:()=>o(!1),className:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"×"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-4",children:"Choose Model Template"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:T.map(M=>e.jsxs("div",{className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-600 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/20 rounded-lg",children:M.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:M.name}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:M.framework})]})]}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:M.description})]},M.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-4",children:"Upload Model File"}),e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg p-8 text-center cursor-pointer hover:border-primary-400",onClick:()=>{var M;return(M=k.current)==null?void 0:M.click()},children:[e.jsx(Nt,{className:"w-8 h-8 text-neutral-400 mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-2",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"Supports .pkl, .joblib, .h5, .onnx, .pt files"}),e.jsx("input",{ref:k,type:"file",accept:".pkl,.joblib,.h5,.onnx,.pt",onChange:A,className:"hidden"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-neutral-600 hover:text-neutral-800 dark:text-neutral-400 dark:hover:text-neutral-200",children:"Cancel"}),e.jsx("button",{disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white rounded-lg transition-colors",children:l?"Uploading...":"Upload Model"})]})]})})]})})]})},J0=()=>{const[r,t]=y.useState("all"),[a,s]=y.useState("models"),[n,i]=y.useState(!1),[l,c]=y.useState(null),d=[{id:"kolmogorov_smirnov",name:"Kolmogorov-Smirnov",description:"Two-sample test comparing distributions of continuous features",suitable_for:["continuous","numerical"],complexity:"low",computational_cost:"low"},{id:"jensen_shannon",name:"Jensen-Shannon Divergence",description:"Measures similarity between probability distributions",suitable_for:["continuous","categorical","mixed"],complexity:"medium",computational_cost:"medium"},{id:"wasserstein",name:"Wasserstein Distance",description:"Earth Mover's Distance for comparing distributions",suitable_for:["continuous","ordinal"],complexity:"medium",computational_cost:"medium"},{id:"population_stability_index",name:"Population Stability Index (PSI)",description:"Measures population shifts between reference and current data",suitable_for:["categorical","binned_continuous"],complexity:"low",computational_cost:"low"},{id:"adversarial_accuracy",name:"Adversarial Accuracy",description:"Uses adversarial model to detect distribution changes",suitable_for:["high_dimensional","complex_features"],complexity:"high",computational_cost:"high"},{id:"chi_square",name:"Chi-Square Test",description:"Tests independence between categorical variables",suitable_for:["categorical","discrete"],complexity:"low",computational_cost:"low"}],m=[{model_id:"credit_risk_v2.3",model_name:"Credit Risk Model v2.3",drift_detection_enabled:!0,performance_monitoring_enabled:!0,data_quality_monitoring_enabled:!0,drift_threshold:.15,performance_threshold:.1,quality_threshold:.8,detection_methods:["kolmogorov_smirnov","jensen_shannon"],monitoring_frequency:"hourly",alert_channels:["email","slack"],reference_data_size:5e4,last_updated:"2024-01-19T10:30:00Z",status:"active"},{model_id:"fraud_detection_v1.8",model_name:"Fraud Detection v1.8",drift_detection_enabled:!0,performance_monitoring_enabled:!0,data_quality_monitoring_enabled:!1,drift_threshold:.2,performance_threshold:.05,quality_threshold:.75,detection_methods:["adversarial_accuracy","wasserstein"],monitoring_frequency:"real_time",alert_channels:["email","slack","sms"],reference_data_size:1e5,last_updated:"2024-01-19T09:45:00Z",status:"active"},{model_id:"recommendation_v3.1",model_name:"Recommendation Engine v3.1",drift_detection_enabled:!1,performance_monitoring_enabled:!0,data_quality_monitoring_enabled:!0,drift_threshold:.25,performance_threshold:.15,quality_threshold:.7,detection_methods:["population_stability_index"],monitoring_frequency:"daily",alert_channels:["email"],reference_data_size:25e3,last_updated:"2024-01-18T16:20:00Z",status:"paused"}],u=[{id:"rule_001",name:"High Drift Alert",trigger_type:"threshold",metric:"drift_score",condition:"greater_than",threshold:.3,severity:"high",notification_channels:["email","slack"],cooldown_period:3600,is_active:!0},{id:"rule_002",name:"Performance Degradation",trigger_type:"threshold",metric:"accuracy",condition:"less_than",threshold:.85,severity:"medium",notification_channels:["email"],cooldown_period:7200,is_active:!0},{id:"rule_003",name:"Data Quality Drop",trigger_type:"threshold",metric:"quality_score",condition:"less_than",threshold:.75,severity:"medium",notification_channels:["email","slack"],cooldown_period:1800,is_active:!0}],f={default_drift_threshold:.2,default_performance_threshold:.1,default_quality_threshold:.8,monitoring_interval:300,max_reference_data_age_days:30,auto_reference_update:!0,enable_trend_analysis:!0,retain_monitoring_history_days:90},h=v=>{switch(v){case"active":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300";case"paused":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"error":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},_=v=>{switch(v){case"low":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"high":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},R=v=>{switch(v){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";case"high":return"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-300";case"medium":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"low":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Advanced Drift Configuration"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Configure drift detection, monitoring thresholds, and alerting rules"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"New Configuration"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Global Settings"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Q,{title:"Active Monitors",value:m.filter(v=>v.status==="active").length.toString(),change:"+1",changeType:"positive",icon:$e,description:"Models with active monitoring"}),e.jsx(Q,{title:"Detection Methods",value:d.length.toString(),change:"0",changeType:"neutral",icon:ce,description:"Available drift detection algorithms"}),e.jsx(Q,{title:"Alert Rules",value:u.filter(v=>v.is_active).length.toString(),change:"+2",changeType:"positive",icon:He,description:"Active alert configurations"}),e.jsx(Q,{title:"Avg Threshold",value:"0.18",change:"-0.02",changeType:"positive",icon:ve,description:"Average drift threshold across models"})]}),e.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"models",label:"Model Configurations",icon:ke},{id:"methods",label:"Detection Methods",icon:ce},{id:"alerts",label:"Alert Rules",icon:He},{id:"global",label:"Global Settings",icon:de}].map(v=>e.jsxs("button",{onClick:()=>s(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===v.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(v.icon,{className:"w-4 h-4"}),e.jsx("span",{children:v.label})]},v.id))})}),a==="models"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Model Monitoring Configurations"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:r,onChange:v=>t(v.target.value),className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"all",children:"All Models"}),m.map(v=>e.jsx("option",{value:v.model_id,children:v.model_name},v.model_id))]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Filter"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Model"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Drift Threshold"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Methods"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Frequency"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Alerts"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Actions"})]})}),e.jsx("tbody",{children:m.filter(v=>r==="all"||v.model_id===r).map((v,w)=>e.jsxs(C.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:w*.1},className:"border-b border-neutral-100 dark:border-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-900/50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:v.model_name}),e.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["ID: ",v.model_id]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${h(v.status)}`,children:v.status})}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:v.drift_threshold.toFixed(3)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.detection_methods.slice(0,2).map(b=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 rounded text-xs",children:b.replace("_"," ")},b)),v.detection_methods.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300 rounded text-xs",children:["+",v.detection_methods.length-2]})]})}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:v.monitoring_frequency.replace("_"," ")}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-1",children:[v.alert_channels.includes("email")&&e.jsx(pa,{className:"w-4 h-4 text-blue-500"}),v.alert_channels.includes("slack")&&e.jsx(yr,{className:"w-4 h-4 text-green-500"}),v.alert_channels.includes("sms")&&e.jsx(jr,{className:"w-4 h-4 text-purple-500"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>c(v),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-neutral-600 hover:text-neutral-800",children:v.status==="active"?e.jsx(Et,{className:"w-4 h-4"}):e.jsx($e,{className:"w-4 h-4"})})]})})]},v.model_id))})]})})]})})}),a==="methods"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-6",children:"Available Drift Detection Methods"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map((v,w)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"p-6 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:v.name}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(v.complexity)}`,children:[v.complexity," complexity"]})})]}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-sm mb-4",children:v.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-neutral-700 dark:text-neutral-300",children:"Suitable for:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.suitable_for.map(b=>e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded text-xs",children:b.replace("_"," ")},b))})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("span",{className:"text-neutral-500",children:["Cost: ",e.jsx("span",{className:`font-medium ${v.computational_cost==="low"?"text-green-600":v.computational_cost==="medium"?"text-yellow-600":"text-red-600"}`,children:v.computational_cost})]})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Configure →"})]})]})]},v.id))})]})})}),a==="alerts"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Alert Rules Configuration"}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"New Alert Rule"})]})]}),e.jsx("div",{className:"space-y-4",children:u.map((v,w)=>e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.1},className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:v.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R(v.severity)}`,children:v.severity}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}`,children:v.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-neutral-600 hover:text-neutral-800",children:v.is_active?e.jsx(Et,{className:"w-4 h-4"}):e.jsx($e,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(rt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Trigger:"}),e.jsx("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:v.trigger_type.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Condition:"}),e.jsxs("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[v.metric," ",v.condition.replace("_"," ")," ",v.threshold]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Cooldown:"}),e.jsxs("div",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:[Math.floor(v.cooldown_period/60)," minutes"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-500",children:"Channels:"}),e.jsxs("div",{className:"flex space-x-1 mt-1",children:[v.notification_channels.includes("email")&&e.jsx(pa,{className:"w-4 h-4 text-blue-500"}),v.notification_channels.includes("slack")&&e.jsx(yr,{className:"w-4 h-4 text-green-500"}),v.notification_channels.includes("sms")&&e.jsx(jr,{className:"w-4 h-4 text-purple-500"})]})]})]})]},v.id))})]})})}),a==="global"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Global Configuration Settings"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Default settings applied to all new model configurations"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(ga,{className:"w-4 h-4"}),e.jsx("span",{children:"Reset"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(ba,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Changes"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-4",children:"Default Thresholds"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Drift Threshold"}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"1",defaultValue:f.default_drift_threshold,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Values above this threshold will trigger drift alerts"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Performance Threshold"}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"1",defaultValue:f.default_performance_threshold,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Performance degradation threshold for alerts"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Data Quality Threshold"}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"1",defaultValue:f.default_quality_threshold,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Minimum acceptable data quality score"})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-4",children:"Monitoring Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Monitoring Interval (seconds)"}),e.jsx("input",{type:"number",min:"60",max:"3600",defaultValue:f.monitoring_interval,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Reference Data Max Age (days)"}),e.jsx("input",{type:"number",min:"1",max:"365",defaultValue:f.max_reference_data_age_days,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"History Retention (days)"}),e.jsx("input",{type:"number",min:"7",max:"365",defaultValue:f.retain_monitoring_history_days,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-4",children:"Advanced Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",defaultChecked:f.auto_reference_update,className:"rounded border-neutral-300 dark:border-neutral-600"}),e.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:"Auto-update reference data"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",defaultChecked:f.enable_trend_analysis,className:"rounded border-neutral-300 dark:border-neutral-600"}),e.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:"Enable trend analysis"})]})]})]})]})]})]})})})]})},eu=()=>{const[r,t]=y.useState("datasets"),[a,s]=y.useState(null),[n,i]=y.useState(""),[l,c]=y.useState("all"),[d,m]=y.useState(!1),u=[{id:"ds_001",name:"Customer Transaction Data",description:"Historical customer transaction records for fraud detection model training",type:"training",format:"parquet",size_mb:2450,rows:125e4,columns:47,created_at:"2024-01-15T08:30:00Z",updated_at:"2024-01-19T10:15:00Z",created_by:"data.team@company.com",status:"ready",quality_score:.94,schema_version:"v2.1",tags:["fraud","transactions","customers"],access_level:"restricted",location:"s3://ml-data-lake/fraud/training/",lineage:{source_datasets:["raw_transactions","customer_profiles"],derived_datasets:["fraud_features_v1","fraud_features_v2"]}},{id:"ds_002",name:"Credit Risk Features",description:"Engineered features for credit risk assessment model",type:"production",format:"csv",size_mb:890,rows:5e5,columns:23,created_at:"2024-01-18T14:20:00Z",updated_at:"2024-01-19T09:30:00Z",created_by:"ml.platform@company.com",status:"ready",quality_score:.89,schema_version:"v1.8",tags:["credit","risk","features"],access_level:"private",location:"s3://ml-data-lake/credit/features/",lineage:{source_datasets:["loan_applications","credit_history"],derived_datasets:[]}},{id:"ds_003",name:"Reference Data Snapshot",description:"Reference dataset for drift detection baseline",type:"reference",format:"json",size_mb:156,rows:75e3,columns:15,created_at:"2024-01-10T11:45:00Z",updated_at:"2024-01-10T11:45:00Z",created_by:"monitoring.service@company.com",status:"ready",quality_score:.97,schema_version:"v1.0",tags:["reference","baseline","monitoring"],access_level:"public",location:"s3://ml-data-lake/reference/"},{id:"ds_004",name:"Real-time Stream Data",description:"Live streaming data for real-time model inference",type:"production",format:"avro",size_mb:45,rows:12e3,columns:32,created_at:"2024-01-19T10:00:00Z",updated_at:"2024-01-19T10:45:00Z",created_by:"stream.processor@company.com",status:"processing",quality_score:.91,schema_version:"v3.2",tags:["streaming","real-time","inference"],access_level:"restricted",location:"kafka://ml-streams/inference-data/"}],f=[{dataset_id:"ds_001",completeness:.96,uniqueness:.94,validity:.93,consistency:.95,accuracy:.92,missing_values:4250,duplicate_rows:145,outliers:1850,schema_violations:12,last_checked:"2024-01-19T10:15:00Z"},{dataset_id:"ds_002",completeness:.91,uniqueness:.89,validity:.88,consistency:.9,accuracy:.87,missing_values:2890,duplicate_rows:78,outliers:920,schema_violations:5,last_checked:"2024-01-19T09:30:00Z"},{dataset_id:"ds_003",completeness:.98,uniqueness:.97,validity:.96,consistency:.98,accuracy:.96,missing_values:150,duplicate_rows:2,outliers:45,schema_violations:0,last_checked:"2024-01-19T08:00:00Z"}],h=[{id:"pipe_001",name:"Transaction Data Preprocessing",source_dataset:"raw_transactions",target_dataset:"ds_001",transformation_steps:["Remove PII fields","Apply feature engineering","Data validation","Quality checks"],schedule:"daily",status:"active",last_run:"2024-01-19T02:00:00Z",next_run:"2024-01-20T02:00:00Z",success_rate:.98},{id:"pipe_002",name:"Credit Features Pipeline",source_dataset:"loan_applications",target_dataset:"ds_002",transformation_steps:["Feature extraction","Normalization","Encoding categorical variables","Validation"],schedule:"hourly",status:"active",last_run:"2024-01-19T10:00:00Z",next_run:"2024-01-19T11:00:00Z",success_rate:.95},{id:"pipe_003",name:"Reference Data Update",source_dataset:"ds_001",target_dataset:"ds_003",transformation_steps:["Sample representative data","Statistical validation","Version control"],schedule:"weekly",status:"completed",last_run:"2024-01-15T06:00:00Z",next_run:"2024-01-22T06:00:00Z",success_rate:1}],_=g=>{switch(g){case"ready":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300";case"processing":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";case"error":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";case"archived":return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300";case"active":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300";case"paused":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"completed":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},R=g=>{switch(g){case"public":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300";case"restricted":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300";case"private":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30 dark:text-gray-300"}},v=g=>g>=.9?"text-green-600":g>=.8?"text-yellow-600":"text-red-600",w=g=>g>=1024?`${(g/1024).toFixed(1)} GB`:`${g} MB`,b=u.filter(g=>{const p=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase())||g.tags.some(o=>o.toLowerCase().includes(n.toLowerCase())),j=l==="all"||g.type===l;return p&&j});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-100",children:"Data Management"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Comprehensive data lifecycle management and quality monitoring"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload Dataset"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(Q,{title:"Total Datasets",value:u.length.toString(),change:"+3",changeType:"positive",icon:ke,description:"Managed datasets across all environments"}),e.jsx(Q,{title:"Storage Used",value:`${(u.reduce((g,p)=>g+p.size_mb,0)/1024).toFixed(1)} GB`,change:"+12%",changeType:"neutral",icon:un,description:"Total storage consumption"}),e.jsx(Q,{title:"Avg Quality Score",value:`${(u.reduce((g,p)=>g+p.quality_score,0)/u.length*100).toFixed(1)}%`,change:"+2.1%",changeType:"positive",icon:ie,description:"Average data quality across datasets"}),e.jsx(Q,{title:"Active Pipelines",value:h.filter(g=>g.status==="active").length.toString(),change:"+1",changeType:"positive",icon:re,description:"Currently running data pipelines"}),e.jsx(Q,{title:"Data Freshness",value:"4.2h",change:"-0.8h",changeType:"positive",icon:Te,description:"Average data age across production datasets"})]}),e.jsx("div",{className:"border-b border-neutral-200 dark:border-neutral-700",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"datasets",label:"Datasets",icon:ke},{id:"quality",label:"Data Quality",icon:ie},{id:"pipelines",label:"Pipelines",icon:re},{id:"lineage",label:"Data Lineage",icon:nr}].map(g=>e.jsxs("button",{onClick:()=>t(g.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r===g.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[e.jsx(g.icon,{className:"w-4 h-4"}),e.jsx("span",{children:g.label})]},g.id))})}),r==="datasets"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[e.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search datasets...",value:n,onChange:g=>i(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100"})]}),e.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"training",children:"Training"}),e.jsx("option",{value:"validation",children:"Validation"}),e.jsx("option",{value:"test",children:"Test"}),e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"reference",children:"Reference"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Advanced Filters"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((g,p)=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},children:e.jsx(P,{className:"h-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:g.name}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:g.description})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"text-neutral-600 hover:text-neutral-800",children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-neutral-600 hover:text-neutral-800",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(rt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-500",children:"Type"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(g.type)}`,children:g.type})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-500",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(g.status)}`,children:g.status})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-500",children:"Size"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:w(g.size_mb)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-500",children:"Rows"}),e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:g.rows.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-500",children:"Quality"}),e.jsxs("span",{className:`text-sm font-medium ${v(g.quality_score)}`,children:[(g.quality_score*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-500",children:"Access"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${R(g.access_level)}`,children:g.access_level})]})]}),g.tags.length>0&&e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.tags.slice(0,3).map(j=>e.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 rounded text-xs",children:j},j)),g.tags.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 rounded text-xs",children:["+",g.tags.length-3]})]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-neutral-500",children:["Updated ",new Date(g.updated_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(Pe,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(nr,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(Vi,{className:"w-4 h-4"})})]})]})]})})},g.id))})]}),r==="quality"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-6",children:"Data Quality Dashboard"}),e.jsx("div",{className:"space-y-6",children:f.map((g,p)=>{const j=u.find(o=>o.id===g.dataset_id);return j?e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"p-6 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-neutral-100",children:j.name}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Last checked: ",new Date(g.last_checked).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-lg font-bold ${v(j.quality_score)}`,children:[(j.quality_score*100).toFixed(1),"%"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(pe,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[{label:"Completeness",value:g.completeness},{label:"Uniqueness",value:g.uniqueness},{label:"Validity",value:g.validity},{label:"Consistency",value:g.consistency},{label:"Accuracy",value:g.accuracy}].map(o=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-neutral-500 mb-1",children:o.label}),e.jsxs("div",{className:`text-lg font-semibold ${v(o.value)}`,children:[(o.value*100).toFixed(1),"%"]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${o.value>=.9?"bg-green-500":o.value>=.8?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.value*100}%`}})})]},o.label))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Missing Values:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:g.missing_values.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Duplicates:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:g.duplicate_rows.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Outliers:"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:g.outliers.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-500",children:"Schema Violations:"}),e.jsx("span",{className:`font-medium ${g.schema_violations>0?"text-red-600":"text-green-600"}`,children:g.schema_violations})]})]})]},g.dataset_id):null})})]})})}),r==="pipelines"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Data Processing Pipelines"}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Pipeline"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Pipeline"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Source"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Target"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Schedule"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Success Rate"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Last Run"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-neutral-900 dark:text-neutral-100",children:"Actions"})]})}),e.jsx("tbody",{children:h.map((g,p)=>e.jsxs(C.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:p*.1},className:"border-b border-neutral-100 dark:border-neutral-800 hover:bg-neutral-50 dark:hover:bg-neutral-900/50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:g.name}),e.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:[g.transformation_steps.length," steps"]})]})}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:g.source_dataset}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:g.target_dataset}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:g.schedule}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_(g.status)}`,children:g.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`font-medium ${v(g.success_rate)}`,children:[(g.success_rate*100).toFixed(1),"%"]})}),e.jsx("td",{className:"py-3 px-4 text-neutral-600 dark:text-neutral-400",children:new Date(g.last_run).toLocaleString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-800",children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(rt,{className:"w-4 h-4"})})]})})]},g.id))})]})})]})})}),r==="lineage"&&e.jsx("div",{className:"space-y-6",children:e.jsx(P,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-6",children:"Data Lineage Visualization"}),e.jsx("div",{className:"h-96 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg flex items-center justify-center border-2 border-dashed border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(nr,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400 mb-2",children:"Interactive Data Lineage Graph"}),e.jsx("p",{className:"text-blue-500 dark:text-blue-300 mb-4",children:"Visualize data flow and dependencies across your ML pipeline"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-blue-500",children:[e.jsx("span",{children:"• Source tracking"}),e.jsx("span",{children:"• Impact analysis"}),e.jsx("span",{children:"• Dependency mapping"})]})]})}),e.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:u.filter(g=>g.lineage).map(g=>{var p,j;return e.jsxs("div",{className:"p-4 border border-neutral-200 dark:border-neutral-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:g.name}),((p=g.lineage)==null?void 0:p.source_datasets)&&g.lineage.source_datasets.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-xs text-neutral-500 font-medium",children:"Sources:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.lineage.source_datasets.map(o=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 rounded text-xs",children:o},o))})]}),((j=g.lineage)==null?void 0:j.derived_datasets)&&g.lineage.derived_datasets.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-neutral-500 font-medium",children:"Derived:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.lineage.derived_datasets.map(o=>e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded text-xs",children:o},o))})]})]},g.id)})})]})})})]})},tu=()=>{const{hasPermission:r}=Yt(),[t,a]=y.useState("system"),[s,n]=y.useState(!1),[i,l]=y.useState(!1),[c,d]=y.useState(!1),[m,u]=y.useState({systemName:"ML Explainer Dashboard",systemDescription:"Enterprise Machine Learning Explainability Platform",maintenanceMode:!1,debugMode:!1,logLevel:"INFO",sessionTimeout:30,maxLoginAttempts:5,passwordMinLength:8,requireTwoFactor:!1,defaultExplanationMethod:"SHAP",maxModelSize:500,autoRetraining:!1,driftThreshold:.1,emailNotifications:!0,slackNotifications:!1,emailServer:"",slackWebhook:"",rateLimitDefault:100,rateLimitStrict:20,corsOrigins:"",backupEnabled:!0,backupRetentionDays:30,connectionPoolSize:10}),f=r("system:config");y.useEffect(()=>{f&&h()},[f]);const h=async()=>{n(!0);try{await new Promise(k=>setTimeout(k,1e3))}catch{ne.error("Failed to load settings")}finally{n(!1)}},_=async()=>{l(!0);try{await new Promise(k=>setTimeout(k,1500)),ne.success("Settings saved successfully")}catch{ne.error("Failed to save settings")}finally{l(!1)}},R=()=>{confirm("Are you sure you want to reset all settings to defaults? This action cannot be undone.")&&ne.success("Settings reset to defaults")},v=()=>{const k=JSON.stringify(m,null,2),T=new Blob([k],{type:"application/json"}),L=URL.createObjectURL(T),$=document.createElement("a");$.href=L,$.download="ml-explainer-settings.json",$.click(),URL.revokeObjectURL(L),ne.success("Settings exported")},w=[{id:"system",label:"System",icon:Wt},{id:"security",label:"Security",icon:Ce},{id:"ml",label:"ML Engine",icon:ke},{id:"notifications",label:"Notifications",icon:He},{id:"api",label:"API",icon:cn},{id:"database",label:"Database",icon:ke}];if(!f)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ce,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"You don't have permission to manage system settings."})]})});const b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"System Name"}),e.jsx("input",{type:"text",value:m.systemName,onChange:k=>u(T=>({...T,systemName:k.target.value})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"System Description"}),e.jsx("textarea",{value:m.systemDescription,onChange:k=>u(T=>({...T,systemDescription:k.target.value})),rows:3,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Log Level"}),e.jsxs("select",{value:m.logLevel,onChange:k=>u(T=>({...T,logLevel:k.target.value})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white",children:[e.jsx("option",{value:"DEBUG",children:"Debug"}),e.jsx("option",{value:"INFO",children:"Info"}),e.jsx("option",{value:"WARNING",children:"Warning"}),e.jsx("option",{value:"ERROR",children:"Error"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Prevents new user sessions and displays maintenance message"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.maintenanceMode,onChange:k=>u(T=>({...T,maintenanceMode:k.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:"Debug Mode"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Enable detailed logging and debugging features"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.debugMode,onChange:k=>u(T=>({...T,debugMode:k.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]})]})]}),g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",value:m.sessionTimeout,onChange:k=>u(T=>({...T,sessionTimeout:parseInt(k.target.value)})),min:"5",max:"480",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Max Login Attempts"}),e.jsx("input",{type:"number",value:m.maxLoginAttempts,onChange:k=>u(T=>({...T,maxLoginAttempts:parseInt(k.target.value)})),min:"3",max:"10",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Password Minimum Length"}),e.jsx("input",{type:"number",value:m.passwordMinLength,onChange:k=>u(T=>({...T,passwordMinLength:parseInt(k.target.value)})),min:"6",max:"20",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Require 2FA for all user accounts"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.requireTwoFactor,onChange:k=>u(T=>({...T,requireTwoFactor:k.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]})]}),p=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Default Explanation Method"}),e.jsxs("select",{value:m.defaultExplanationMethod,onChange:k=>u(T=>({...T,defaultExplanationMethod:k.target.value})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white",children:[e.jsx("option",{value:"SHAP",children:"SHAP"}),e.jsx("option",{value:"LIME",children:"LIME"}),e.jsx("option",{value:"Integrated Gradients",children:"Integrated Gradients"}),e.jsx("option",{value:"Permutation Importance",children:"Permutation Importance"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Max Model Size (MB)"}),e.jsx("input",{type:"number",value:m.maxModelSize,onChange:k=>u(T=>({...T,maxModelSize:parseInt(k.target.value)})),min:"50",max:"2000",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Drift Detection Threshold"}),e.jsx("input",{type:"number",value:m.driftThreshold,onChange:k=>u(T=>({...T,driftThreshold:parseFloat(k.target.value)})),min:"0.01",max:"0.5",step:"0.01",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:"Auto Retraining"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Automatically retrain models when drift is detected"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.autoRetraining,onChange:k=>u(T=>({...T,autoRetraining:k.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]})]}),j=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(pa,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Send alerts and reports via email"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.emailNotifications,onChange:k=>u(T=>({...T,emailNotifications:k.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Zi,{className:"w-5 h-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:"Slack Notifications"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Send alerts to Slack channels"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.slackNotifications,onChange:k=>u(T=>({...T,slackNotifications:k.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]})]}),m.emailNotifications&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Email Server Configuration"}),e.jsx("input",{type:"text",value:m.emailServer,onChange:k=>u(T=>({...T,emailServer:k.target.value})),placeholder:"smtp.example.com",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),m.slackNotifications&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Slack Webhook URL"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",value:m.slackWebhook,onChange:k=>u(T=>({...T,slackWebhook:k.target.value})),placeholder:"https://hooks.slack.com/services/...",className:"w-full px-3 py-2 pr-10 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:c?e.jsx(Or,{className:"w-4 h-4"}):e.jsx(we,{className:"w-4 h-4"})})]})]})]}),o=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Default Rate Limit (requests/minute)"}),e.jsx("input",{type:"number",value:m.rateLimitDefault,onChange:k=>u(T=>({...T,rateLimitDefault:parseInt(k.target.value)})),min:"10",max:"1000",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Strict Rate Limit (requests/minute)"}),e.jsx("input",{type:"number",value:m.rateLimitStrict,onChange:k=>u(T=>({...T,rateLimitStrict:parseInt(k.target.value)})),min:"5",max:"100",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"CORS Allowed Origins (comma-separated)"}),e.jsx("textarea",{value:m.corsOrigins,onChange:k=>u(T=>({...T,corsOrigins:k.target.value})),placeholder:"https://yourdomain.com, https://app.yourdomain.com",rows:3,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]})]}),x=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Backup Retention (days)"}),e.jsx("input",{type:"number",value:m.backupRetentionDays,onChange:k=>u(T=>({...T,backupRetentionDays:parseInt(k.target.value)})),min:"7",max:"365",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Connection Pool Size"}),e.jsx("input",{type:"number",value:m.connectionPoolSize,onChange:k=>u(T=>({...T,connectionPoolSize:parseInt(k.target.value)})),min:"5",max:"50",className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:"Automatic Backups"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Enable daily database backups"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m.backupEnabled,onChange:k=>u(T=>({...T,backupEnabled:k.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-primary-600"})]})]})]}),N=()=>{switch(t){case"system":return b();case"security":return g();case"ml":return p();case"notifications":return j();case"api":return o();case"database":return x();default:return b()}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"System Settings"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Configure system behavior, security, and integrations"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(G,{variant:"outline",onClick:v,children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(G,{variant:"outline",onClick:R,children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Reset"]}),e.jsxs(G,{onClick:_,loading:i,children:[e.jsx(ba,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx(P,{className:"p-4 h-fit",children:e.jsx("nav",{className:"space-y-2",children:w.map(k=>{const T=k.icon;return e.jsxs("button",{onClick:()=>a(k.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-md text-left transition-colors ${t===k.id?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:k.label})]},k.id)})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(P,{className:"p-6",children:e.jsx(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.2},children:N()},t)})})]})]})},au=()=>{const{hasPermission:r}=Yt(),[t,a]=y.useState([]),[s,n]=y.useState(!0),[i,l]=y.useState(""),[c,d]=y.useState("all"),[m,u]=y.useState("all"),[f,h]=y.useState(!1),[_,R]=y.useState(null),[v,w]=y.useState(null),[b,g]=y.useState({username:"",email:"",password:"",role:"viewer"}),p=r("user:manage");y.useEffect(()=>{p?j():n(!1)},[p]);const j=async()=>{try{a([{user_id:"1",username:"admin",email:"admin@example.com",role:"admin",is_active:!0,created_at:"2024-01-15T10:00:00Z",last_login:"2024-01-20T14:30:00Z"},{user_id:"2",username:"analyst",email:"analyst@example.com",role:"analyst",is_active:!0,created_at:"2024-01-16T11:00:00Z",last_login:"2024-01-19T09:15:00Z"},{user_id:"3",username:"viewer",email:"viewer@example.com",role:"viewer",is_active:!0,created_at:"2024-01-17T12:00:00Z",last_login:"2024-01-18T16:45:00Z"},{user_id:"4",username:"inactive_user",email:"inactive@example.com",role:"viewer",is_active:!1,created_at:"2024-01-10T08:00:00Z"}])}catch{ne.error("Failed to fetch users")}finally{n(!1)}},o=async L=>{L.preventDefault();try{const $={user_id:(t.length+1).toString(),username:b.username,email:b.email,role:b.role,is_active:!0,created_at:new Date().toISOString()};a(H=>[...H,$]),h(!1),g({username:"",email:"",password:"",role:"viewer"}),ne.success("User created successfully")}catch{ne.error("Failed to create user")}},x=async L=>{try{a($=>$.map(H=>H.user_id===L?{...H,is_active:!H.is_active}:H)),ne.success("User status updated")}catch{ne.error("Failed to update user status")}},N=async L=>{if(confirm("Are you sure you want to delete this user?"))try{a($=>$.filter(H=>H.user_id!==L)),ne.success("User deleted successfully")}catch{ne.error("Failed to delete user")}},k=t.filter(L=>{const $=L.username.toLowerCase().includes(i.toLowerCase())||L.email.toLowerCase().includes(i.toLowerCase()),H=c==="all"||L.role===c,A=m==="all"||m==="active"&&L.is_active||m==="inactive"&&!L.is_active;return $&&H&&A}),T=L=>{switch(L){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"analyst":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"viewer":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-900 dark:text-neutral-200"}};return p?s?e.jsx(Xt,{fullScreen:!0,size:"xl",message:"Loading users..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"User Management"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Manage user accounts, roles, and permissions"})]}),e.jsxs(G,{onClick:()=>h(!0),children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:i,onChange:L=>l(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("select",{value:c,onChange:L=>d(L.target.value),className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"analyst",children:"Analyst"}),e.jsx("option",{value:"viewer",children:"Viewer"})]}),e.jsxs("select",{value:m,onChange:L=>u(L.target.value),className:"px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("div",{className:"flex items-center text-sm text-neutral-600 dark:text-neutral-400",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),k.length," of ",t.length," users"]})]})}),e.jsx(P,{className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-50 dark:bg-neutral-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-neutral-900 divide-y divide-neutral-200 dark:divide-neutral-700",children:k.map((L,$)=>e.jsxs(C.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"hover:bg-neutral-50 dark:hover:bg-neutral-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:L.username.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900 dark:text-white",children:L.username}),e.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:L.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T(L.role)}`,children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),L.role.charAt(0).toUpperCase()+L.role.slice(1)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${L.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:L.is_active?e.jsxs(e.Fragment,{children:[e.jsx(Cs,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Inactive"]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 dark:text-neutral-400",children:L.last_login?new Date(L.last_login).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>w(v===L.user_id?null:L.user_id),className:"text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300",children:e.jsx(on,{className:"w-5 h-5"})}),v===L.user_id&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-neutral-800 rounded-md shadow-lg z-10 border border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{R(L),w(null)},className:"flex items-center w-full px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Edit User"]}),e.jsx("button",{onClick:()=>{x(L.user_id),w(null)},className:"flex items-center w-full px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:L.is_active?e.jsxs(e.Fragment,{children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Activate"]})}),e.jsxs("button",{onClick:()=>{w(null),ne.info("Password reset functionality not implemented")},className:"flex items-center w-full px-4 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-700",children:[e.jsx(mn,{className:"w-4 h-4 mr-2"}),"Reset Password"]}),e.jsx("hr",{className:"my-1 border-neutral-200 dark:border-neutral-700"}),e.jsxs("button",{onClick:()=>{N(L.user_id),w(null)},className:"flex items-center w-full px-4 py-2 text-sm text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),"Delete User"]})]})})]})})]},L.user_id))})]})})}),f&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Create New User"}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",value:b.username,onChange:L=>g($=>({...$,username:L.target.value})),required:!0,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:b.email,onChange:L=>g($=>({...$,email:L.target.value})),required:!0,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:b.password,onChange:L=>g($=>({...$,password:L.target.value})),required:!0,minLength:8,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Role"}),e.jsxs("select",{value:b.role,onChange:L=>g($=>({...$,role:L.target.value})),className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white",children:[e.jsx("option",{value:"viewer",children:"Viewer"}),e.jsx("option",{value:"analyst",children:"Analyst"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs(G,{type:"submit",className:"flex-1",children:[e.jsx(Pt,{className:"w-4 h-4 mr-2"}),"Create User"]}),e.jsx(G,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{h(!1),g({username:"",email:"",password:"",role:"viewer"})},children:"Cancel"})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ce,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"You don't have permission to manage users."})]})})},ru=()=>{const[r,t]=y.useState(!0),[a,s]=y.useState(new Date),[n,i]=y.useState(!0),[l,c]=y.useState({cpu:{usage:0,cores:0},memory:{used:0,total:0,percentage:0},disk:{used:0,total:0,percentage:0},network:{bytesIn:0,bytesOut:0,connections:0}}),[d,m]=y.useState([{name:"ML Explainer API",status:"healthy",uptime:99.9,lastCheck:new Date().toISOString(),responseTime:45},{name:"PostgreSQL Database",status:"healthy",uptime:99.8,lastCheck:new Date().toISOString(),responseTime:12},{name:"Redis Cache",status:"healthy",uptime:99.5,lastCheck:new Date().toISOString(),responseTime:3},{name:"Authentication Service",status:"warning",uptime:98.2,lastCheck:new Date().toISOString(),responseTime:150,message:"High response time detected"},{name:"File Storage",status:"healthy",uptime:99.7,lastCheck:new Date().toISOString(),responseTime:28}]),[u,f]=y.useState({activeUsers:0,requestsPerMinute:0,averageResponseTime:0,errorRate:0,totalRequests:0,uptime:0});y.useEffect(()=>{if(h(),n){const j=setInterval(h,3e4);return()=>clearInterval(j)}},[n]);const h=async()=>{try{await Promise.all([_(),R(),v()]),s(new Date)}catch{ne.error("Failed to fetch health data")}finally{t(!1)}},_=async()=>{c({cpu:{usage:Math.random()*80+10,cores:8,temperature:Math.random()*20+40},memory:{used:Math.random()*6+2,total:16,percentage:Math.random()*60+20},disk:{used:Math.random()*200+50,total:500,percentage:Math.random()*40+30},network:{bytesIn:Math.random()*1e6+5e5,bytesOut:Math.random()*8e5+3e5,connections:Math.floor(Math.random()*100)+20}})},R=async()=>{m(j=>j.map(o=>({...o,lastCheck:new Date().toISOString(),responseTime:Math.random()*100+10,uptime:Math.random()*2+98})))},v=async()=>{f({activeUsers:Math.floor(Math.random()*50)+10,requestsPerMinute:Math.floor(Math.random()*200)+50,averageResponseTime:Math.random()*100+50,errorRate:Math.random()*2,totalRequests:Math.floor(Math.random()*1e4)+5e4,uptime:Math.random()*2+98})},w=j=>{switch(j){case"healthy":return"text-green-600 dark:text-green-400";case"warning":return"text-yellow-600 dark:text-yellow-400";case"critical":return"text-red-600 dark:text-red-400";default:return"text-neutral-600 dark:text-neutral-400"}},b=j=>{switch(j){case"healthy":return e.jsx(ie,{className:"w-5 h-5 text-green-600 dark:text-green-400"});case"warning":return e.jsx(he,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"});case"critical":return e.jsx(fa,{className:"w-5 h-5 text-red-600 dark:text-red-400"});default:return e.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})}},g=j=>{if(j===0)return"0 Bytes";const o=1024,x=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(j)/Math.log(o));return parseFloat((j/Math.pow(o,N)).toFixed(1))+" "+x[N]},p=j=>j>=99?`${j.toFixed(1)}%`:j>=95?`${j.toFixed(1)}%`:`${j.toFixed(1)}%`;return r?e.jsx(Xt,{fullScreen:!0,size:"xl",message:"Loading system health..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"System Health"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Monitor system performance and service status"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Last updated: ",a.toLocaleTimeString()]}),e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>i(!n),children:[e.jsx(re,{className:`w-4 h-4 mr-2 ${n?"text-green-500":"text-neutral-400"}`}),"Auto Refresh"]}),e.jsxs(G,{variant:"outline",size:"sm",onClick:h,children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:e.jsx(ie,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"System Status"}),e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:"Healthy"})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:e.jsx(Pt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Active Users"}),e.jsx("p",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:u.activeUsers})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:e.jsx(ce,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Requests/min"}),e.jsx("p",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:u.requestsPerMinute})]})]})}),e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:e.jsx(Te,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Avg Response"}),e.jsxs("p",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:[u.averageResponseTime.toFixed(0),"ms"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"System Resources"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qi,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"CPU Usage"})]}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[l.cpu.usage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${l.cpu.usage}%`},transition:{duration:.5},className:`h-2 rounded-full ${l.cpu.usage>80?"bg-red-500":l.cpu.usage>60?"bg-yellow-500":"bg-green-500"}`})}),e.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[e.jsxs("span",{children:[l.cpu.cores," cores"]}),l.cpu.temperature&&e.jsxs("span",{children:[l.cpu.temperature.toFixed(1),"°C"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zr,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Memory Usage"})]}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[l.memory.percentage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${l.memory.percentage}%`},transition:{duration:.5},className:`h-2 rounded-full ${l.memory.percentage>90?"bg-red-500":l.memory.percentage>70?"bg-yellow-500":"bg-green-500"}`})}),e.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[e.jsxs("span",{children:[l.memory.used.toFixed(1)," GB used"]}),e.jsxs("span",{children:[l.memory.total," GB total"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(un,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Disk Usage"})]}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[l.disk.percentage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx(C.div,{initial:{width:0},animate:{width:`${l.disk.percentage}%`},transition:{duration:.5},className:`h-2 rounded-full ${l.disk.percentage>90?"bg-red-500":l.disk.percentage>70?"bg-yellow-500":"bg-green-500"}`})}),e.jsxs("div",{className:"flex justify-between text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:[e.jsxs("span",{children:[l.disk.used," GB used"]}),e.jsxs("span",{children:[l.disk.total," GB total"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(qa,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Network Activity"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Incoming"}),e.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:g(l.network.bytesIn)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Outgoing"}),e.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:g(l.network.bytesOut)})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[l.network.connections," active connections"]})})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Application Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:p(u.uptime)}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Uptime"})]}),e.jsxs("div",{className:"text-center p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:[u.errorRate.toFixed(2),"%"]}),e.jsx("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Error Rate"})]})]}),e.jsx("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Total Requests"}),e.jsx("span",{className:"font-medium text-neutral-900 dark:text-white",children:u.totalRequests.toLocaleString()})]})})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Service Status"}),e.jsx("div",{className:"space-y-4",children:d.map((j,o)=>e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"flex items-center justify-between p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[b(j.status),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-neutral-900 dark:text-white",children:j.name}),j.message&&e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:j.message})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Uptime"}),e.jsx("p",{className:`font-medium ${w(j.status)}`,children:p(j.uptime)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Response"}),e.jsxs("p",{className:"font-medium text-neutral-900 dark:text-white",children:[j.responseTime,"ms"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Last Check"}),e.jsx("p",{className:"font-medium text-neutral-900 dark:text-white",children:new Date(j.lastCheck).toLocaleTimeString()})]})]})]},j.name))})]})]})},su=()=>{var f;const{user:r,updatePassword:t}=Yt(),[a,s]=y.useState(!1),[n,i]=y.useState(!1),[l,c]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),d=async h=>{if(h.preventDefault(),l.newPassword!==l.confirmPassword){ne.error("New passwords do not match");return}if(l.newPassword.length<8){ne.error("New password must be at least 8 characters long");return}try{await t(l.currentPassword,l.newPassword),ne.success("Password updated successfully"),i(!1),c({currentPassword:"",newPassword:"",confirmPassword:""})}catch(_){ne.error(_.message||"Failed to update password")}},m=h=>{switch(h){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"analyst":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"viewer":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-neutral-100 text-neutral-800 dark:bg-neutral-900 dark:text-neutral-200"}},u=h=>h.includes("create")||h.includes("delete")?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":h.includes("update")||h.includes("write")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";return r?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(P,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center",children:e.jsx(ha,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:r.username}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:r.email}),e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(r.role)}`,children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),r.role.charAt(0).toUpperCase()+r.role.slice(1)]})})]})]}),e.jsx(G,{variant:a?"secondary":"primary",size:"sm",onClick:()=>s(!a),children:a?e.jsxs(e.Fragment,{children:[e.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Cancel"]}):e.jsxs(e.Fragment,{children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Username"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ha,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-neutral-900 dark:text-white",children:r.username})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Email"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pa,{className:"w-4 h-4 text-neutral-400"}),e.jsx("span",{className:"text-neutral-900 dark:text-white",children:r.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"User ID"}),e.jsx("span",{className:"text-sm text-neutral-600 dark:text-neutral-400 font-mono",children:r.user_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${r.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:r.is_active?"Active":"Inactive"})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Security Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Password"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"••••••••••••"}),e.jsxs(G,{variant:"outline",size:"sm",onClick:()=>i(!0),children:[e.jsx(mn,{className:"w-4 h-4 mr-2"}),"Change"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Two-Factor Authentication"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Not enabled"}),e.jsx(G,{variant:"outline",size:"sm",disabled:!0,children:"Enable"})]})]})]})]})]}),e.jsxs(P,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Permissions"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:(f=r.permissions)==null?void 0:f.map((h,_)=>e.jsx(C.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:_*.05},className:`inline-flex items-center px-2.5 py-1.5 rounded-md text-xs font-medium ${u(h)}`,children:h.replace(":"," ")},h))})]}),n&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(C.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white mb-4",children:"Change Password"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Current Password"}),e.jsx("input",{type:"password",value:l.currentPassword,onChange:h=>c(_=>({..._,currentPassword:h.target.value})),required:!0,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"New Password"}),e.jsx("input",{type:"password",value:l.newPassword,onChange:h=>c(_=>({..._,newPassword:h.target.value})),required:!0,minLength:8,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:l.confirmPassword,onChange:h=>c(_=>({..._,confirmPassword:h.target.value})),required:!0,className:"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-neutral-700 text-neutral-900 dark:text-white"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs(G,{type:"submit",className:"flex-1",children:[e.jsx(ba,{className:"w-4 h-4 mr-2"}),"Update Password"]}),e.jsx(G,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{i(!1),c({currentPassword:"",newPassword:"",confirmPassword:""})},children:"Cancel"})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-neutral-600 dark:text-neutral-400",children:"Please log in to view your profile"})})},nu=()=>{const[r,t]=y.useState(!1),[a]=y.useState(null);return y.useEffect(()=>{const s=setTimeout(()=>{t(!1)},500);return()=>clearTimeout(s)},[]),{loading:r,error:a}},iu=()=>{const[r,t]=y.useState("overview"),[a,s]=y.useState("classification"),[n,i]=y.useState(!1),{loading:l,error:c}=nu();y.useEffect(()=>{localStorage.getItem("ml-explainer-tour-completed")||i(!0)},[]);const d=f=>{t(f)},m=f=>{s(f),t("overview")},u=()=>{switch(r){case"overview":return e.jsx(Is,{modelType:a});case"feature-importance":return e.jsx(Jd,{modelType:a});case"classification-stats":return e.jsx(ec,{});case"regression-stats":return e.jsx(tc,{});case"predictions":return e.jsx(ac,{modelType:a});case"what-if":return e.jsx(sc,{modelType:a});case"feature-dependence":return e.jsx(nc,{modelType:a});case"feature-interactions":return e.jsx(ic,{modelType:a});case"decision-trees":return e.jsx(dc,{modelType:a});case"data-connectivity":return e.jsx(cc,{});case"data-drift":return e.jsx(uc,{});case"model-performance":return e.jsx(mc,{});case"enterprise-fairness":return e.jsx(xc,{});case"enterprise-alerts":return e.jsx(hc,{});case"executive-dashboard":return e.jsx(pc,{});case"compliance-reporting":return e.jsx(fc,{});case"root-cause-analysis":return e.jsx(bc,{});case"data-connectors":return e.jsx(jc,{});case"ab-testing":return e.jsx(vc,{});case"data-quality":return e.jsx(Nc,{});case"stream-management":return e.jsx(kc,{});case"bias-mitigation":return e.jsx(wc,{});case"data-preprocessing":return e.jsx(Sc,{});case"custom-dashboard":return e.jsx(X0,{});case"model-management":return e.jsx(K0,{});case"drift-configuration":return e.jsx(J0,{});case"data-management":return e.jsx(eu,{});case"settings":return e.jsx(Sa,{requiredPermission:"system:config",children:e.jsx(tu,{})});case"user-management":return e.jsx(Sa,{requiredPermission:"user:manage",children:e.jsx(au,{})});case"system-health":return e.jsx(Sa,{requiredPermission:"system:config",children:e.jsx(ru,{})});case"user-profile":return e.jsx(su,{});default:return e.jsx(Is,{modelType:a})}};return l?e.jsx(lr,{children:e.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:e.jsx(Xt,{fullScreen:!0,size:"xl",message:"Loading ML Explainer Dashboard..."})})}):c?e.jsx(lr,{children:e.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Retry"})]})})}):e.jsx(lr,{children:e.jsx(Sa,{children:e.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900",children:[e.jsx(Pd,{activeTab:r,onTabChange:d,modelType:a,onModelTypeChange:m,onShowTour:()=>i(!0),children:u()}),e.jsx(Gl,{position:"top-right",toastOptions:{className:"bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100",duration:4e3}}),e.jsx(Ld,{isOpen:n,onClose:()=>i(!1),onTabChange:d})]})})})};class lu extends y.Component{constructor(a){super(a);_e(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});_e(this,"handleReload",()=>{window.location.reload()});_e(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,s){this.setState({error:a,errorInfo:s}),console.error("ErrorBoundary caught an error:",a,s),this.props.onError&&this.props.onError(a,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(he,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),!1,e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(G,{onClick:this.handleReset,className:"flex-1",variant:"primary",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e.jsxs(G,{onClick:this.handleReload,className:"flex-1",variant:"outline",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]}),e.jsxs(G,{onClick:this.handleGoHome,variant:"ghost",className:"w-full",children:[e.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Go to Home"]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["Error ID: ",Date.now().toString(36)]}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:"Include this ID when contacting support"})]})]})}):this.props.children}}vr.createRoot(document.getElementById("root")).render(e.jsx($a.StrictMode,{children:e.jsx(lu,{children:e.jsx(_d,{children:e.jsx(iu,{})})})}));
